A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN .\OUTPUT\initial.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE .\OUTPUT\initial.src PR(.\files\initial.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\OUTPUT\initial.SRC generated from: SRC\initial.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil\C51\BIN\C51.EXE SRC\initial.c OPTIMIZE(0,SPEED) REGFILE(.\OUTPUT\motor.ORC
                             ) BROWSE INTVECTOR(0X2000) INCDIR(.\INC) DEBUG OBJECTEXTEND CODE PRINT(.\files\initial.lst)
                              TABS(2) SRC(.\OUTPUT\initial.SRC)
                       4     
                       5     $nomod51 
                       6     
                       7     NAME    INITIAL
                       8     
  00CE                 9     P2ETCLR DATA    0CEH
  009B                10     TB80    BIT     098H.3
  00DE                11     P3ETCLR DATA    0DEH
  00A1                12     P1TBPRD DATA    0A1H
  0080                13     P0      DATA    080H
  00F6                14     P4ETCLR DATA    0F6H
  00C1                15     P2TBPRD DATA    0C1H
  0090                16     P1      DATA    090H
  00D1                17     P3TBPRD DATA    0D1H
  00A0                18     P2      DATA    0A0H
  00E1                19     P4TBPRD DATA    0E1H
  00B0                20     P3      DATA    0B0H
  009D                21     SM20    BIT     098H.5
  00B1                22     P1AQCSFRC       DATA    0B1H
  00C9                23     P2AQCSFRC       DATA    0C9H
  00D9                24     P3AQCSFRC       DATA    0D9H
  00F1                25     P4AQCSFRC       DATA    0F1H
  00B2                26     P1TZFLG DATA    0B2H
  00CA                27     P2TZFLG DATA    0CAH
  00DA                28     P3TZFLG DATA    0DAH
  00B4                29     P1TZFRC DATA    0B4H
  00A8                30     IEN0    DATA    0A8H
  00F2                31     P4TZFLG DATA    0F2H
  00CC                32     P2TZFRC DATA    0CCH
  00A8                33     IE      DATA    0A8H
  00B8                34     EADC    BIT     0B8H.0
  00B8                35     IEN1    DATA    0B8H
  0085                36     DPH1    DATA    085H
  00DC                37     P3TZFRC DATA    0DCH
  009A                38     IEN2    DATA    09AH
  00F4                39     P4TZFRC DATA    0F4H
  008F                40     CLK_PD_CON      DATA    08FH
  00C0                41     IADC    BIT     0C0H.0
  0084                42     DPL1    DATA    084H
  00B3                43     P1TZCLR DATA    0B3H
  00CB                44     P2TZCLR DATA    0CBH
  00DF                45     WDCON_7 BIT     0D8H.7
  00CD                46     I2FR    BIT     0C8H.5
  00DB                47     P3TZCLR DATA    0DBH
  00CE                48     I3FR    BIT     0C8H.6
  00F3                49     P4TZCLR DATA    0F3H
  009C                50     REN0    BIT     098H.4
  00AC                51     ES      BIT     0A8H.4
  00C1                52     IEX2    BIT     0C0H.1
  00C2                53     IEX3    BIT     0C0H.2
  0098                54     RI      BIT     098H.0
  00C3                55     IEX4    BIT     0C0H.3
  00C4                56     IEX5    BIT     0C0H.4
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     2

  00C5                57     IEX6    BIT     0C0H.5
  0091                58     CLK_DIV DATA    091H
  0081                59     SP      DATA    081H
  00A3                60     P1CMPA  DATA    0A3H
  00C3                61     P2CMPA  DATA    0C3H
  00A5                62     P1CMPB  DATA    0A5H
  00D3                63     P3CMPA  DATA    0D3H
  00C5                64     P2CMPB  DATA    0C5H
  00E3                65     P4CMPA  DATA    0E3H
  00D5                66     P3CMPB  DATA    0D5H
  00E5                67     P4CMPB  DATA    0E5H
  00A2                68     P1TBPRD_H       DATA    0A2H
  00C2                69     P2TBPRD_H       DATA    0C2H
  00D2                70     P3TBPRD_H       DATA    0D2H
  00E2                71     P4TBPRD_H       DATA    0E2H
  00A1                72     P1TBPRD_L       DATA    0A1H
  00C1                73     P2TBPRD_L       DATA    0C1H
  00D1                74     P3TBPRD_L       DATA    0D1H
  00E1                75     P4TBPRD_L       DATA    0E1H
  0095                76     BREAKH  DATA    095H
  00BA                77     S0RELH  DATA    0BAH
  0080                78     P00     BIT     080H.0
  0099                79     SBUF    DATA    099H
  00BB                80     S1RELH  DATA    0BBH
  0090                81     P10     BIT     090H.0
  0087                82     PCON    DATA    087H
  0081                83     P01     BIT     080H.1
  00A0                84     P20     BIT     0A0H.0
  0091                85     P11     BIT     090H.1
  0082                86     P02     BIT     080H.2
  00B0                87     P30     BIT     0B0H.0
  00A1                88     P21     BIT     0A0H.1
  0092                89     P12     BIT     090H.2
  0083                90     P03     BIT     080H.3
  0094                91     BREAKL  DATA    094H
  00B1                92     P31     BIT     0B0H.1
  00AA                93     S0RELL  DATA    0AAH
  00A2                94     P22     BIT     0A0H.2
  0093                95     P13     BIT     090H.3
  0084                96     P04     BIT     080H.4
  00B2                97     P32     BIT     0B0H.2
  00A3                98     P23     BIT     0A0H.3
  009D                99     S1RELL  DATA    09DH
  0094               100     P14     BIT     090H.4
  0089               101     TMOD    DATA    089H
  0088               102     TCON    DATA    088H
  0085               103     P05     BIT     080H.5
  00B3               104     P33     BIT     0B0H.3
  00A4               105     P24     BIT     0A0H.4
  0095               106     P15     BIT     090H.5
  0086               107     P06     BIT     080H.6
  00B4               108     P34     BIT     0B0H.4
  00AC               109     BSHI_0  DATA    0ACH
  00A5               110     P25     BIT     0A0H.5
  0096               111     P16     BIT     090H.6
  0087               112     P07     BIT     080H.7
  00B5               113     P35     BIT     0B0H.5
  00AD               114     BSHI_1  DATA    0ADH
  00A6               115     P26     BIT     0A0H.6
  0097               116     P17     BIT     090H.7
  00B6               117     P36     BIT     0B0H.6
  00AE               118     BSHI_2  DATA    0AEH
  00A7               119     P27     BIT     0A0H.7
  00B7               120     P37     BIT     0B0H.7
  00AF               121     BSHI_3  DATA    0AFH
  00BC               122     BSHO_0  DATA    0BCH
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     3

  00BD               123     BSHO_1  DATA    0BDH
  0089               124     IE0     BIT     088H.1
  00BE               125     BSHO_2  DATA    0BEH
  008B               126     IE1     BIT     088H.3
  00BF               127     BSHO_3  DATA    0BFH
  00F0               128     B       DATA    0F0H
  00E9               129     MD0     DATA    0E9H
  00EA               130     MD1     DATA    0EAH
  00AB               131     BSHCTL  DATA    0ABH
  00EB               132     MD2     DATA    0EBH
  00BE               133     SWDT    BIT     0B8H.6
  00A7               134     P1AQSFRC        DATA    0A7H
  00EC               135     MD3     DATA    0ECH
  00C7               136     P2AQSFRC        DATA    0C7H
  00ED               137     MD4     DATA    0EDH
  00D7               138     P3AQSFRC        DATA    0D7H
  00EE               139     MD5     DATA    0EEH
  00E7               140     P4AQSFRC        DATA    0E7H
  00E0               141     ACC     DATA    0E0H
  00AC               142     ES0     BIT     0A8H.4
  00A9               143     IP0     DATA    0A9H
  00A9               144     ET0     BIT     0A8H.1
  0093               145     BPCTRL  DATA    093H
  00B9               146     IP1     DATA    0B9H
  00AB               147     ET1     BIT     0A8H.3
  008D               148     TF0     BIT     088H.5
  0098               149     RI0     BIT     098H.0
  008F               150     TF1     BIT     088H.7
  00A4               151     P1CMPA_H        DATA    0A4H
  008C               152     TH0     DATA    08CH
  00C4               153     P2CMPA_H        DATA    0C4H
  00A6               154     P1CMPB_H        DATA    0A6H
  00A8               155     EX0     BIT     0A8H.0
  0099               156     TI0     BIT     098H.1
  008D               157     TH1     DATA    08DH
  0088               158     IT0     BIT     088H.0
  00D4               159     P3CMPA_H        DATA    0D4H
  00C6               160     P2CMPB_H        DATA    0C6H
  00AA               161     EX1     BIT     0A8H.2
  008A               162     IT1     BIT     088H.2
  00E4               163     P4CMPA_H        DATA    0E4H
  00D6               164     P3CMPB_H        DATA    0D6H
  00B9               165     EX2     BIT     0B8H.1
  00E6               166     P4CMPB_H        DATA    0E6H
  00A3               167     P1CMPA_L        DATA    0A3H
  00BA               168     EX3     BIT     0B8H.2
  009F               169     SM0     BIT     098H.7
  0097               170     POWER_CON       DATA    097H
  008A               171     TL0     DATA    08AH
  00C3               172     P2CMPA_L        DATA    0C3H
  00A5               173     P1CMPB_L        DATA    0A5H
  00BB               174     EX4     BIT     0B8H.3
  009E               175     SM1     BIT     098H.6
  008B               176     TL1     DATA    08BH
  00D3               177     P3CMPA_L        DATA    0D3H
  00C5               178     P2CMPB_L        DATA    0C5H
  00BC               179     EX5     BIT     0B8H.4
  00AF               180     EAL     BIT     0A8H.7
  00E3               181     P4CMPA_L        DATA    0E3H
  00D5               182     P3CMPB_L        DATA    0D5H
  00BD               183     EX6     BIT     0B8H.5
  00E5               184     P4CMPB_L        DATA    0E5H
  0086               185     WDTREL  DATA    086H
  008C               186     TR0     BIT     088H.4
  008E               187     TR1     BIT     088H.6
  00F9               188     INT_REG1        DATA    0F9H
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     4

  0083               189     DPH     DATA    083H
  00FA               190     INT_REG2        DATA    0FAH
  00FD               191     INT_REG3        DATA    0FDH
  00FE               192     INT_REG4        DATA    0FEH
  0082               193     DPL     DATA    082H
  0099               194     S0BUF   DATA    099H
  009C               195     S1BUF   DATA    09CH
  0098               196     S0CON   DATA    098H
  009B               197     S1CON   DATA    09BH
  00C8               198     T2CON   DATA    0C8H
  0092               199     DPS     DATA    092H
  00AE               200     WDT     BIT     0A8H.6
  008E               201     CKCON   DATA    08EH
  00EF               202     ARCON   DATA    0EFH
  00B5               203     P1ETFLG DATA    0B5H
  00F8               204     SRAM_CON        DATA    0F8H
  00CD               205     P2ETFLG DATA    0CDH
  00DD               206     P3ETFLG DATA    0DDH
  00B7               207     P1ETFRC DATA    0B7H
  00F5               208     P4ETFLG DATA    0F5H
  00CF               209     P2ETFRC DATA    0CFH
  00E8               210     MEM_CONFIG      DATA    0E8H
  00DF               211     P3ETFRC DATA    0DFH
  00F7               212     P4ETFRC DATA    0F7H
  00D0               213     PSW     DATA    0D0H
  00D8               214     WDCON   DATA    0D8H
  00C0               215     IRCON   DATA    0C0H
  009A               216     RB80    BIT     098H.2
  00B6               217     P1ETCLR DATA    0B6H
                     218     ?PR?InitEXT?INITIAL  SEGMENT CODE 
                     219     ?PR?InitISDDebug?INITIAL                 SEGMENT CODE 
                     220     ?PR?InitBreakPoint?INITIAL               SEGMENT CODE 
                     221     ?PR?epwmOutputDisable?INITIAL            SEGMENT CODE 
                     222     ?PR?epwmOutputEnable?INITIAL             SEGMENT CODE 
                     223     ?PR?InitADC?INITIAL  SEGMENT CODE 
                     224     ?PR?Initepwm?INITIAL SEGMENT CODE 
                     225     ?PR?InitComparator?INITIAL               SEGMENT CODE 
                     226     ?PR?InitWatchDog?INITIAL                 SEGMENT CODE 
                     227     ?PR?InitGPIO?INITIAL SEGMENT CODE 
                     228     ?PR?InitTimer01?INITIAL                  SEGMENT CODE 
                     229     ?PR?InitTimer3?INITIAL                   SEGMENT CODE 
                     230     ?PR?InitTimer4?INITIAL                   SEGMENT CODE 
                     231     ?PR?InitTimer5?INITIAL                   SEGMENT CODE 
                     232     ?PR?InitTimer6?INITIAL                   SEGMENT CODE 
                     233     ?PR?SystemClock?INITIAL                  SEGMENT CODE 
                     234     ?PR?sInitUART1?INITIAL                   SEGMENT CODE 
                     235     ?PR?sInitUART2?INITIAL                   SEGMENT CODE 
                     236             EXTRN   CODE (__isd_init)
                     237             PUBLIC  sInitUART2
                     238             PUBLIC  sInitUART1
                     239             PUBLIC  SystemClock
                     240             PUBLIC  InitTimer6
                     241             PUBLIC  InitTimer5
                     242             PUBLIC  InitTimer4
                     243             PUBLIC  InitTimer3
                     244             PUBLIC  InitTimer01
                     245             PUBLIC  InitGPIO
                     246             PUBLIC  InitWatchDog
                     247             PUBLIC  InitComparator
                     248             PUBLIC  Initepwm
                     249             PUBLIC  InitADC
                     250             PUBLIC  epwmOutputEnable
                     251             PUBLIC  epwmOutputDisable
                     252             PUBLIC  InitBreakPoint
                     253             PUBLIC  InitISDDebug
                     254             PUBLIC  InitEXT
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     5

                     255     ; #include "register.h"
                     256     ; #include <intrins.h>
                     257     ; #include "app.h"
                     258     ; #include "initial.h"
                     259     ; #include "ISD51.H"
                     260     ; 
                     261     ; 
                     262     ; 
                     263     ; 
                     264     ; 
                     265     ; void InitEXT(void)
                     266     
----                 267             RSEG  ?PR?InitEXT?INITIAL
0000                 268     InitEXT:
                     269             USING   0
                     270                             ; SOURCE LINE # 11
                     271     ; {     
                     272                             ; SOURCE LINE # 12
                     273     ; //            EINT1_EN=0; 
                     274     ; //            EINT2_EN=1;                             //enable EXT2
                     275     ; //            EINT3_EN=0;
                     276     ; //            EINT4_EN=0;
                     277     ;       
                     278     ;                       EXINT_EN = 0x02;                                        //RXINT_EN 
                             cannot be read, it can be write only
                     279                             ; SOURCE LINE # 18
0000 90E08D          280             MOV     DPTR,#0E08DH
0003 7402            281             MOV     A,#02H
0005 F0              282             MOVX    @DPTR,A
                     283     ;                                                                                          
                                                                  //EXINT_EN= 0x01      -----enable EXT1
                     284     ;                                                                                          
                                                                  //                                      0x02                    -----enable EXT2
                     285     ;                                                                                          
                                                                  //                                      0x04              -----enable EXT3
                     286     ;                                                                                          
                                                                  //                                      0x08                    -----enable EXT4
                     287     ;       
                     288     ;               EINT2_CFG=RISING_EDGE;          //rising edge trigger
                     289                             ; SOURCE LINE # 24
0006 90E0BF          290             MOV     DPTR,#0E0BFH
0009 E0              291             MOVX    A,@DPTR
000A FF              292             MOV     R7,A
000B EF              293             MOV     A,R7
000C 54F3            294             ANL     A,#0F3H
000E FF              295             MOV     R7,A
000F EF              296             MOV     A,R7
0010 4404            297             ORL     A,#04H
0012 FF              298             MOV     R7,A
0013 EF              299             MOV     A,R7
0014 F0              300             MOVX    @DPTR,A
                     301     ;               EX0=1;
                     302                             ; SOURCE LINE # 25
0015 D2A8            303             SETB    EX0
                     304     ;               IT0=1;
                     305                             ; SOURCE LINE # 26
0017 D288            306             SETB    IT0
                     307     ;               IE0=0;
                     308                             ; SOURCE LINE # 27
0019 C289            309             CLR     IE0
                     310     ;               INT_REG1 &=0xf0;              
                     311                             ; SOURCE LINE # 28
001B 53F9F0          312             ANL     INT_REG1,#0F0H
                     313     ;       
                     314     ; }
                     315                             ; SOURCE LINE # 30
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     6

001E                 316     ?C0001:
001E 22              317             RET     
                     318     ; END OF InitEXT
                     319     
                     320     ; 
                     321     ; void InitISDDebug(void)
                     322     
----                 323             RSEG  ?PR?InitISDDebug?INITIAL
0000                 324     InitISDDebug:
                     325             USING   0
                     326                             ; SOURCE LINE # 32
                     327     ; {
                     328                             ; SOURCE LINE # 33
                     329     ;       
                     330     ;     EAL = 0;
                     331                             ; SOURCE LINE # 35
0000 C2AF            332             CLR     EAL
                     333     ;     //ISD51++++++++++++++++++++++++++
                     334     ;     #if ISDDebug == ENABLE_ISD
                     335     ;               InitBreakPoint();
                     336                             ; SOURCE LINE # 38
0002 120000   F      337             LCALL   InitBreakPoint
                     338     ;     sInitUART1();
                     339                             ; SOURCE LINE # 39
0005 120000   F      340             LCALL   sInitUART1
                     341     ;  
                     342     ;     IP0 = 0x30;
                     343                             ; SOURCE LINE # 41
0008 75A930          344             MOV     IP0,#030H
                     345     ;     IP1 = 0x20;
                     346                             ; SOURCE LINE # 42
000B 75B920          347             MOV     IP1,#020H
                     348     ;     ET0 = 0;
                     349                             ; SOURCE LINE # 43
000E C2A9            350             CLR     ET0
                     351     ;     EX6 = 0 ;
                     352                             ; SOURCE LINE # 44
0010 C2BD            353             CLR     EX6
                     354     ;     ES0 = 1;
                     355                             ; SOURCE LINE # 45
0012 D2AC            356             SETB    ES0
                     357     ;     EAL = 1;
                     358                             ; SOURCE LINE # 46
0014 D2AF            359             SETB    EAL
                     360     ;     _nop_();
                     361                             ; SOURCE LINE # 47
0016 00              362             NOP     
                     363     ;     _nop_();
                     364                             ; SOURCE LINE # 48
0017 00              365             NOP     
                     366     ;     _nop_();
                     367                             ; SOURCE LINE # 49
0018 00              368             NOP     
0019                 369     ?C0002:
                     370     ;     while(1)
                     371                             ; SOURCE LINE # 50
                     372     ;     {
                     373                             ; SOURCE LINE # 51
                     374     ;         P10 = 0;
                     375                             ; SOURCE LINE # 52
0019 C290            376             CLR     P10
                     377     ;         P10 = 1;
                     378                             ; SOURCE LINE # 53
001B D290            379             SETB    P10
                     380     ;         ISDcheck();      // initialize uVision2 Debugger and continue program run
                     381                             ; SOURCE LINE # 54
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     7

001D 20AC10          382             JB      ES,?C0004
0020 30980D          383             JNB     RI,?C0004
0023 E599            384             MOV     A,SBUF
0025 64A5            385             XRL     A,#0A5H
0027 6004            386             JZ      ?C0006
0029 C298            387             CLR     RI
002B 8003            388             SJMP    ?C0004
002D                 389     ?C0006:
002D 120000   F      390             LCALL   __isd_init
0030                 391     ?C0007:
0030                 392     ?C0005:
0030                 393     ?C0004:
                     394     ;         if((BPCTRL & 0x10) != 0) break;
                     395                             ; SOURCE LINE # 55
0030 E593            396             MOV     A,BPCTRL
0032 30E4E4          397             JNB     ACC.4,?C0002
0035 8002            398             SJMP    ?C0003
0037                 399     ?C0008:
                     400     ;     }
                     401                             ; SOURCE LINE # 56
0037 80E0            402             SJMP    ?C0002
0039                 403     ?C0003:
                     404     ;     _nop_();
                     405                             ; SOURCE LINE # 57
0039 00              406             NOP     
                     407     ;     _nop_();
                     408                             ; SOURCE LINE # 58
003A 00              409             NOP     
                     410     ;     _nop_();
                     411                             ; SOURCE LINE # 59
003B 00              412             NOP     
                     413     ;     ET0 = 1;
                     414                             ; SOURCE LINE # 60
003C D2A9            415             SETB    ET0
                     416     ;     EX6 = 1;
                     417                             ; SOURCE LINE # 61
003E D2BD            418             SETB    EX6
                     419     ;     _nop_();
                     420                             ; SOURCE LINE # 62
0040 00              421             NOP     
                     422     ;     _nop_();
                     423                             ; SOURCE LINE # 63
0041 00              424             NOP     
                     425     ;     _nop_();
                     426                             ; SOURCE LINE # 64
0042 00              427             NOP     
                     428     ;     #endif
                     429     ;     //++++++++++++++++++++++++++++++
                     430     ;               EAL = 1;                                //enable all interrupts
                     431                             ; SOURCE LINE # 67
0043 D2AF            432             SETB    EAL
                     433     ; }
                     434                             ; SOURCE LINE # 68
0045                 435     ?C0009:
0045 22              436             RET     
                     437     ; END OF InitISDDebug
                     438     
                     439     ; 
                     440     ; 
                     441     ; 
                     442     ; 
                     443     ; 
                     444     ; void InitBreakPoint  (void)
                     445     
----                 446             RSEG  ?PR?InitBreakPoint?INITIAL
0000                 447     InitBreakPoint:
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     8

                     448                             ; SOURCE LINE # 74
                     449     ; {
                     450                             ; SOURCE LINE # 75
                     451     ;     BPCTRL   = 0x01;
                     452                             ; SOURCE LINE # 76
0000 759301          453             MOV     BPCTRL,#01H
                     454     ;       BREAKL   = 0xff;
                     455                             ; SOURCE LINE # 77
0003 7594FF          456             MOV     BREAKL,#0FFH
                     457     ;       BREAKH   = 0xff;
                     458                             ; SOURCE LINE # 78
0006 7595FF          459             MOV     BREAKH,#0FFH
                     460     ; }
                     461                             ; SOURCE LINE # 79
0009                 462     ?C0010:
0009 22              463             RET     
                     464     ; END OF InitBreakPoint
                     465     
                     466     ; 
                     467     ; void epwmOutputDisable(void)
                     468     
----                 469             RSEG  ?PR?epwmOutputDisable?INITIAL
0000                 470     epwmOutputDisable:
                     471                             ; SOURCE LINE # 81
                     472     ; {
                     473                             ; SOURCE LINE # 82
                     474     ;       P1AQCSFRC = 0x05;                                               // force epwmxA and
                              epwmxB output low
                     475                             ; SOURCE LINE # 83
0000 75B105          476             MOV     P1AQCSFRC,#05H
                     477     ;       P2AQCSFRC = 0x05;
                     478                             ; SOURCE LINE # 84
0003 75C905          479             MOV     P2AQCSFRC,#05H
                     480     ;       P3AQCSFRC = 0x05;
                     481                             ; SOURCE LINE # 85
0006 75D905          482             MOV     P3AQCSFRC,#05H
                     483     ;       P4AQCSFRC = 0x05;
                     484                             ; SOURCE LINE # 86
0009 75F105          485             MOV     P4AQCSFRC,#05H
                     486     ; }
                     487                             ; SOURCE LINE # 87
000C                 488     ?C0011:
000C 22              489             RET     
                     490     ; END OF epwmOutputDisable
                     491     
                     492     ; 
                     493     ; void epwmOutputEnable(void)
                     494     
----                 495             RSEG  ?PR?epwmOutputEnable?INITIAL
0000                 496     epwmOutputEnable:
                     497                             ; SOURCE LINE # 89
                     498     ; {
                     499                             ; SOURCE LINE # 90
                     500     ;       P1AQCSFRC = 0x0F;                                               // software force d
                             isable
                     501                             ; SOURCE LINE # 91
0000 75B10F          502             MOV     P1AQCSFRC,#0FH
                     503     ;       P2AQCSFRC = 0x0F;
                     504                             ; SOURCE LINE # 92
0003 75C90F          505             MOV     P2AQCSFRC,#0FH
                     506     ;       P3AQCSFRC = 0x0F;
                     507                             ; SOURCE LINE # 93
0006 75D90F          508             MOV     P3AQCSFRC,#0FH
                     509     ;       P4AQCSFRC = 0x0F;
                     510                             ; SOURCE LINE # 94
0009 75F10F          511             MOV     P4AQCSFRC,#0FH
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE     9

                     512     ; }
                     513                             ; SOURCE LINE # 95
000C                 514     ?C0012:
000C 22              515             RET     
                     516     ; END OF epwmOutputEnable
                     517     
                     518     ; 
                     519     ; void InitADC(void)
                     520     
----                 521             RSEG  ?PR?InitADC?INITIAL
0000                 522     InitADC:
                     523             USING   0
                     524                             ; SOURCE LINE # 97
                     525     ; {
                     526                             ; SOURCE LINE # 98
                     527     ; 
                     528     ;               AD_PD = 0;                                                      //Power up 
                             ADD
                     529                             ; SOURCE LINE # 100
0000 90E08B          530             MOV     DPTR,#0E08BH
0003 E4              531             CLR     A
0004 F0              532             MOVX    @DPTR,A
                     533     ;         ADC_CLK_EN=1;
                     534                             ; SOURCE LINE # 101
0005 90E0EC          535             MOV     DPTR,#0E0ECH
0008 E0              536             MOVX    A,@DPTR
0009 FF              537             MOV     R7,A
000A EF              538             MOV     A,R7
000B 4408            539             ORL     A,#08H
000D FF              540             MOV     R7,A
000E EF              541             MOV     A,R7
000F F0              542             MOVX    @DPTR,A
                     543     ;               ADC_CLK_DIV_SEL=0x03;    //system divided by 4
                     544                             ; SOURCE LINE # 102
0010 90E0EC          545             MOV     DPTR,#0E0ECH
0013 E0              546             MOVX    A,@DPTR
0014 FF              547             MOV     R7,A
0015 EF              548             MOV     A,R7
0016 4403            549             ORL     A,#03H
0018 FF              550             MOV     R7,A
0019 EF              551             MOV     A,R7
001A F0              552             MOVX    @DPTR,A
                     553     ;     ADCHS = 0x08;                                             // select channel CH4
                     554                             ; SOURCE LINE # 103
001B 90E05C          555             MOV     DPTR,#0E05CH
001E 7408            556             MOV     A,#08H
0020 F0              557             MOVX    @DPTR,A
                     558     ;               DAC1_PD = 1;                                            // DAC12 down
                     559                             ; SOURCE LINE # 104
0021 90E07A          560             MOV     DPTR,#0E07AH
0024 E0              561             MOVX    A,@DPTR
0025 FF              562             MOV     R7,A
0026 EF              563             MOV     A,R7
0027 4404            564             ORL     A,#04H
0029 FF              565             MOV     R7,A
002A EF              566             MOV     A,R7
002B F0              567             MOVX    @DPTR,A
                     568     ;               DAC2_PD = 1;
                     569                             ; SOURCE LINE # 105
002C 90E07A          570             MOV     DPTR,#0E07AH
002F E0              571             MOVX    A,@DPTR
0030 FF              572             MOV     R7,A
0031 EF              573             MOV     A,R7
0032 4401            574             ORL     A,#01H
0034 FF              575             MOV     R7,A
0035 EF              576             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    10

0036 F0              577             MOVX    @DPTR,A
                     578     ;               LDO25_PD=0;             //use internal 2.5V for AD VREF
                     579                             ; SOURCE LINE # 106
0037 90E09D          580             MOV     DPTR,#0E09DH
003A E0              581             MOVX    A,@DPTR
003B FF              582             MOV     R7,A
003C EF              583             MOV     A,R7
003D 54FD            584             ANL     A,#0FDH
003F FF              585             MOV     R7,A
0040 EF              586             MOV     A,R7
0041 F0              587             MOVX    @DPTR,A
                     588     ;               BP4=0;                  //CH4 normal and no bypass
                     589                             ; SOURCE LINE # 107
0042 90E05D          590             MOV     DPTR,#0E05DH
0045 E0              591             MOVX    A,@DPTR
0046 FF              592             MOV     R7,A
0047 EF              593             MOV     A,R7
0048 54F7            594             ANL     A,#0F7H
004A FF              595             MOV     R7,A
004B EF              596             MOV     A,R7
004C F0              597             MOVX    @DPTR,A
                     598     ;       
                     599     ;               SWFTRG=1;
                     600                             ; SOURCE LINE # 109
004D 90E05A          601             MOV     DPTR,#0E05AH
0050 E0              602             MOVX    A,@DPTR
0051 FF              603             MOV     R7,A
0052 EF              604             MOV     A,R7
0053 4420            605             ORL     A,#020H
0055 FF              606             MOV     R7,A
0056 EF              607             MOV     A,R7
0057 F0              608             MOVX    @DPTR,A
                     609     ;         INTEN=1;
                     610                             ; SOURCE LINE # 110
0058 90E05A          611             MOV     DPTR,#0E05AH
005B E0              612             MOVX    A,@DPTR
005C FF              613             MOV     R7,A
005D EF              614             MOV     A,R7
005E 4401            615             ORL     A,#01H
0060 FF              616             MOV     R7,A
0061 EF              617             MOV     A,R7
0062 F0              618             MOVX    @DPTR,A
                     619     ;               AD4OST=0x0000;                                  //AD offset   0xFC
                     620                             ; SOURCE LINE # 111
0063 90E064          621             MOV     DPTR,#0E064H
0066 E4              622             CLR     A
0067 F0              623             MOVX    @DPTR,A
0068 A3              624             INC     DPTR
0069 E4              625             CLR     A
006A F0              626             MOVX    @DPTR,A
                     627     ; 
                     628     ;       
                     629     ;       
                     630     ;               EADC=1;
                     631                             ; SOURCE LINE # 115
006B D2B8            632             SETB    EADC
                     633     ;               IADC=0;
                     634                             ; SOURCE LINE # 116
006D C2C0            635             CLR     IADC
                     636     ; 
                     637     ;       }
                     638                             ; SOURCE LINE # 118
006F                 639     ?C0013:
006F 22              640             RET     
                     641     ; END OF InitADC
                     642     
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    11

                     643     ; 
                     644     ; 
                     645     ; void Initepwm(void)
                     646     
----                 647             RSEG  ?PR?Initepwm?INITIAL
0000                 648     Initepwm:
                     649             USING   0
                     650                             ; SOURCE LINE # 121
                     651     ; {
                     652                             ; SOURCE LINE # 122
                     653     ;       P2_FN_H = 0x55;                                                 // p2_4 ~ p2_7 as p
                             wm2x ~ pwm1x
                     654                             ; SOURCE LINE # 123
0000 90E0E0          655             MOV     DPTR,#0E0E0H
0003 7455            656             MOV     A,#055H
0005 F0              657             MOVX    @DPTR,A
                     658     ;       P2_FN_L = P2_FN_L & 0x0F | 0x50;                // p2_2 ~ p2_3 as pwm3x
                     659                             ; SOURCE LINE # 124
0006 90E0E1          660             MOV     DPTR,#0E0E1H
0009 E0              661             MOVX    A,@DPTR
000A FF              662             MOV     R7,A
000B EF              663             MOV     A,R7
000C 540F            664             ANL     A,#0FH
000E FF              665             MOV     R7,A
000F EF              666             MOV     A,R7
0010 4450            667             ORL     A,#050H
0012 FF              668             MOV     R7,A
0013 90E0E1          669             MOV     DPTR,#0E0E1H
0016 EF              670             MOV     A,R7
0017 F0              671             MOVX    @DPTR,A
                     672     ;       //P0_FN_L = P0_FN_L & 0xF0 | 0x05;                // p0_0 ~ p0_1 as pwm4x
                     673     ; 
                     674     ; //    P1TBPRD_L = 0x90;                                               // pwm period is 10
                             KHz
                     675     ; //    P1TBPRD_H = 0x01;
                     676     ; //    P2TBPRD_L = 0x90;
                     677     ; //    P2TBPRD_H = 0x01;
                     678     ; //    P3TBPRD_L = 0x90;
                     679     ; //    P3TBPRD_H = 0x01;
                     680     ; //    P4TBPRD_L = 0x90;
                     681     ; //    P4TBPRD_H = 0x01;
                     682     ; 
                     683     ;       PCLKCR = 0x1E;//0x1F                                                    // clock fo
                             r pwm1 ~ pwm4 is enable,and synchronize all channel disable
                     684                             ; SOURCE LINE # 136
0018 90E000          685             MOV     DPTR,#0E000H
001B 741E            686             MOV     A,#01EH
001D F0              687             MOVX    @DPTR,A
                     688     ; //    PSYNCICR = 0x3C;//0x1F;                                         // all synchronize 
                             input enable
                     689     ; 
                     690     ;       P1TBCTL_L = 0x02;//0x12;                                                // period l
                             oad from shadow,up down mode,synchronize at CTR = ZERO
                     691                             ; SOURCE LINE # 139
001E 90E003          692             MOV     DPTR,#0E003H
0021 7402            693             MOV     A,#02H
0023 F0              694             MOVX    @DPTR,A
                     695     ;       P1TBCTL_H = 0x80;                                               // time base free r
                             un when emulation
                     696                             ; SOURCE LINE # 140
0024 90E002          697             MOV     DPTR,#0E002H
0027 7480            698             MOV     A,#080H
0029 F0              699             MOVX    @DPTR,A
                     700     ;       P2TBCTL_L = 0x02;//0x12;
                     701                             ; SOURCE LINE # 141
002A 90E019          702             MOV     DPTR,#0E019H
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    12

002D 7402            703             MOV     A,#02H
002F F0              704             MOVX    @DPTR,A
                     705     ;       P2TBCTL_H = 0x80;
                     706                             ; SOURCE LINE # 142
0030 90E018          707             MOV     DPTR,#0E018H
0033 7480            708             MOV     A,#080H
0035 F0              709             MOVX    @DPTR,A
                     710     ;       P3TBCTL_L = 0x02;//0x12;
                     711                             ; SOURCE LINE # 143
0036 90E02F          712             MOV     DPTR,#0E02FH
0039 7402            713             MOV     A,#02H
003B F0              714             MOVX    @DPTR,A
                     715     ;       P3TBCTL_H = 0x80;
                     716                             ; SOURCE LINE # 144
003C 90E02E          717             MOV     DPTR,#0E02EH
003F 7480            718             MOV     A,#080H
0041 F0              719             MOVX    @DPTR,A
                     720     ;       P4TBCTL_L = 0x02;//0x12;
                     721                             ; SOURCE LINE # 145
0042 90E045          722             MOV     DPTR,#0E045H
0045 7402            723             MOV     A,#02H
0047 F0              724             MOVX    @DPTR,A
                     725     ;       P4TBCTL_H = 0x80;
                     726                             ; SOURCE LINE # 146
0048 90E044          727             MOV     DPTR,#0E044H
004B 7480            728             MOV     A,#080H
004D F0              729             MOVX    @DPTR,A
                     730     ; 
                     731     ; //    P1TBCTL_L = 0x00;                                               // period load from
                              shadow,up mode
                     732     ; //    P1TBCTL_H = 0x80;
                     733     ; //    P2TBCTL_L = 0x00;
                     734     ; //    P2TBCTL_H = 0x80;
                     735     ; //    P3TBCTL_L = 0x00;
                     736     ; //    P3TBCTL_H = 0x80;
                     737     ; //    P4TBCTL_L = 0x00;
                     738     ; //    P4TBCTL_H = 0x80;
                     739     ; 
                     740     ;       P1CMPCTL = 0x00;                                                // shadow on,update
                              at CTR = ZERO
                     741                             ; SOURCE LINE # 157
004E 90E007          742             MOV     DPTR,#0E007H
0051 E4              743             CLR     A
0052 F0              744             MOVX    @DPTR,A
                     745     ;       P2CMPCTL = 0x00;
                     746                             ; SOURCE LINE # 158
0053 90E01D          747             MOV     DPTR,#0E01DH
0056 E4              748             CLR     A
0057 F0              749             MOVX    @DPTR,A
                     750     ;       P3CMPCTL = 0x00;
                     751                             ; SOURCE LINE # 159
0058 90E033          752             MOV     DPTR,#0E033H
005B E4              753             CLR     A
005C F0              754             MOVX    @DPTR,A
                     755     ;       P4CMPCTL = 0x00;
                     756                             ; SOURCE LINE # 160
005D 90E049          757             MOV     DPTR,#0E049H
0060 E4              758             CLR     A
0061 F0              759             MOVX    @DPTR,A
                     760     ;       P1AQCTLA_L = 0x60;                                              // when cmpA,count 
                             up is set,count down is clear
                     761                             ; SOURCE LINE # 161
0062 90E009          762             MOV     DPTR,#0E009H
0065 7460            763             MOV     A,#060H
0067 F0              764             MOVX    @DPTR,A
                     765     ;       P1AQCTLA_H = 0x00;                                              // when cmpB pwmxA 
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    13

                             do nothing
                     766                             ; SOURCE LINE # 162
0068 90E008          767             MOV     DPTR,#0E008H
006B E4              768             CLR     A
006C F0              769             MOVX    @DPTR,A
                     770     ;       P2AQCTLA_L = 0x60;
                     771                             ; SOURCE LINE # 163
006D 90E01F          772             MOV     DPTR,#0E01FH
0070 7460            773             MOV     A,#060H
0072 F0              774             MOVX    @DPTR,A
                     775     ;       P2AQCTLA_H = 0x00;
                     776                             ; SOURCE LINE # 164
0073 90E01E          777             MOV     DPTR,#0E01EH
0076 E4              778             CLR     A
0077 F0              779             MOVX    @DPTR,A
                     780     ;       P3AQCTLA_L = 0x60;
                     781                             ; SOURCE LINE # 165
0078 90E035          782             MOV     DPTR,#0E035H
007B 7460            783             MOV     A,#060H
007D F0              784             MOVX    @DPTR,A
                     785     ;       P3AQCTLA_H = 0x00;
                     786                             ; SOURCE LINE # 166
007E 90E034          787             MOV     DPTR,#0E034H
0081 E4              788             CLR     A
0082 F0              789             MOVX    @DPTR,A
                     790     ;       P4AQCTLA_L = 0x60;
                     791                             ; SOURCE LINE # 167
0083 90E04B          792             MOV     DPTR,#0E04BH
0086 7460            793             MOV     A,#060H
0088 F0              794             MOVX    @DPTR,A
                     795     ;       P4AQCTLA_H = 0x00;
                     796                             ; SOURCE LINE # 168
0089 90E04A          797             MOV     DPTR,#0E04AH
008C E4              798             CLR     A
008D F0              799             MOVX    @DPTR,A
                     800     ;       P1AQCTLB_L = 0x00;//0x60;
                     801                             ; SOURCE LINE # 169
008E 90E00B          802             MOV     DPTR,#0E00BH
0091 E4              803             CLR     A
0092 F0              804             MOVX    @DPTR,A
                     805     ;       P1AQCTLB_H = 0x00;
                     806                             ; SOURCE LINE # 170
0093 90E00A          807             MOV     DPTR,#0E00AH
0096 E4              808             CLR     A
0097 F0              809             MOVX    @DPTR,A
                     810     ;       P2AQCTLB_L = 0x00;//0x60;
                     811                             ; SOURCE LINE # 171
0098 90E021          812             MOV     DPTR,#0E021H
009B E4              813             CLR     A
009C F0              814             MOVX    @DPTR,A
                     815     ;       P2AQCTLB_H = 0x00;
                     816                             ; SOURCE LINE # 172
009D 90E020          817             MOV     DPTR,#0E020H
00A0 E4              818             CLR     A
00A1 F0              819             MOVX    @DPTR,A
                     820     ;       P3AQCTLB_L = 0x00;//0x60;
                     821                             ; SOURCE LINE # 173
00A2 90E037          822             MOV     DPTR,#0E037H
00A5 E4              823             CLR     A
00A6 F0              824             MOVX    @DPTR,A
                     825     ;       P3AQCTLB_H = 0x00;
                     826                             ; SOURCE LINE # 174
00A7 90E036          827             MOV     DPTR,#0E036H
00AA E4              828             CLR     A
00AB F0              829             MOVX    @DPTR,A
                     830     ;       P4AQCTLB_L = 0x00;//0x60;
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    14

                     831                             ; SOURCE LINE # 175
00AC 90E04D          832             MOV     DPTR,#0E04DH
00AF E4              833             CLR     A
00B0 F0              834             MOVX    @DPTR,A
                     835     ;       P4AQCTLB_H = 0x00;
                     836                             ; SOURCE LINE # 176
00B1 90E04C          837             MOV     DPTR,#0E04CH
00B4 E4              838             CLR     A
00B5 F0              839             MOVX    @DPTR,A
                     840     ; 
                     841     ; //    P1AQCTLA_L = 0x12;                                                      // CTR = ZE
                             RO set,CTR = CMPA up clear,CTR = PRD nothing,CTR = CMPA down nothing
                     842     ; //    P1AQCTLA_H = 0x00;                                                      // when cmp
                             B pwmxA do nothing
                     843     ; //    P1AQCTLB_L = 0x02;                                                      // CTR = ZE
                             RO set,CTR = CMPA up nothing,CTR = PRD nothing,CTR = CMPA down nothing
                     844     ; //    P1AQCTLB_H = 0x01;                                                      // CTR = CM
                             PB clear
                     845     ; //    P2AQCTLA_L = 0x12;
                     846     ; //    P2AQCTLA_H = 0x00;
                     847     ; //    P2AQCTLB_L = 0x02;
                     848     ; //    P2AQCTLB_H = 0x01;
                     849     ; //    P3AQCTLA_L = 0x12;
                     850     ; //    P3AQCTLA_H = 0x00;
                     851     ; //    P3AQCTLB_L = 0x02;
                     852     ; //    P3AQCTLB_H = 0x01;
                     853     ; //    P4AQCTLA_L = 0x12;
                     854     ; //    P4AQCTLA_H = 0x00;
                     855     ; //    P4AQCTLB_L = 0x02;
                     856     ; //    P4AQCTLB_H = 0x01;
                     857     ; 
                     858     ;       P1DBCTL = 0x0B;                                                 // delay source is 
                             epwmxA,dead band full,epwmxB invert
                     859                             ; SOURCE LINE # 195
00B6 90E00C          860             MOV     DPTR,#0E00CH
00B9 740B            861             MOV     A,#0BH
00BB F0              862             MOVX    @DPTR,A
                     863     ;       P2DBCTL = 0x0B;
                     864                             ; SOURCE LINE # 196
00BC 90E022          865             MOV     DPTR,#0E022H
00BF 740B            866             MOV     A,#0BH
00C1 F0              867             MOVX    @DPTR,A
                     868     ;       P3DBCTL = 0x0B;
                     869                             ; SOURCE LINE # 197
00C2 90E038          870             MOV     DPTR,#0E038H
00C5 740B            871             MOV     A,#0BH
00C7 F0              872             MOVX    @DPTR,A
                     873     ;       P4DBCTL = 0x0B;
                     874                             ; SOURCE LINE # 198
00C8 90E04E          875             MOV     DPTR,#0E04EH
00CB 740B            876             MOV     A,#0BH
00CD F0              877             MOVX    @DPTR,A
                     878     ; //    P1DBCTL = 0x07;                                                 // delay source is 
                             epwmxA,dead band full,epwmxA invert
                     879     ; //    P2DBCTL = 0x07;
                     880     ; //    P3DBCTL = 0x07;
                     881     ; //    P4DBCTL = 0x07;
                     882     ;       P1DBRED_L = 0x32;//0x0A                                         // rise edge dead t
                             ime is 1.25uS
                     883                             ; SOURCE LINE # 203
00CE 90E00E          884             MOV     DPTR,#0E00EH
00D1 7432            885             MOV     A,#032H
00D3 F0              886             MOVX    @DPTR,A
                     887     ;       P1DBRED_H = 0x00;
                     888                             ; SOURCE LINE # 204
00D4 90E00D          889             MOV     DPTR,#0E00DH
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    15

00D7 E4              890             CLR     A
00D8 F0              891             MOVX    @DPTR,A
                     892     ;       P2DBRED_L = 0x32;
                     893                             ; SOURCE LINE # 205
00D9 90E024          894             MOV     DPTR,#0E024H
00DC 7432            895             MOV     A,#032H
00DE F0              896             MOVX    @DPTR,A
                     897     ;       P2DBRED_H = 0x00;
                     898                             ; SOURCE LINE # 206
00DF 90E023          899             MOV     DPTR,#0E023H
00E2 E4              900             CLR     A
00E3 F0              901             MOVX    @DPTR,A
                     902     ;       P3DBRED_L = 0x32;
                     903                             ; SOURCE LINE # 207
00E4 90E03A          904             MOV     DPTR,#0E03AH
00E7 7432            905             MOV     A,#032H
00E9 F0              906             MOVX    @DPTR,A
                     907     ;       P3DBRED_H = 0x00;
                     908                             ; SOURCE LINE # 208
00EA 90E039          909             MOV     DPTR,#0E039H
00ED E4              910             CLR     A
00EE F0              911             MOVX    @DPTR,A
                     912     ;       P4DBRED_L = 0x32;
                     913                             ; SOURCE LINE # 209
00EF 90E050          914             MOV     DPTR,#0E050H
00F2 7432            915             MOV     A,#032H
00F4 F0              916             MOVX    @DPTR,A
                     917     ;       P4DBRED_H = 0x00;
                     918                             ; SOURCE LINE # 210
00F5 90E04F          919             MOV     DPTR,#0E04FH
00F8 E4              920             CLR     A
00F9 F0              921             MOVX    @DPTR,A
                     922     ;       P1DBFED_L = 0x32;                                               // fall edge dead t
                             ime is 1.25uS
                     923                             ; SOURCE LINE # 211
00FA 90E010          924             MOV     DPTR,#0E010H
00FD 7432            925             MOV     A,#032H
00FF F0              926             MOVX    @DPTR,A
                     927     ;       P1DBFED_H = 0x00;
                     928                             ; SOURCE LINE # 212
0100 90E00F          929             MOV     DPTR,#0E00FH
0103 E4              930             CLR     A
0104 F0              931             MOVX    @DPTR,A
                     932     ;       P2DBFED_L = 0x32;
                     933                             ; SOURCE LINE # 213
0105 90E026          934             MOV     DPTR,#0E026H
0108 7432            935             MOV     A,#032H
010A F0              936             MOVX    @DPTR,A
                     937     ;       P2DBFED_H = 0x00;
                     938                             ; SOURCE LINE # 214
010B 90E025          939             MOV     DPTR,#0E025H
010E E4              940             CLR     A
010F F0              941             MOVX    @DPTR,A
                     942     ;       P3DBFED_L = 0x32;
                     943                             ; SOURCE LINE # 215
0110 90E03C          944             MOV     DPTR,#0E03CH
0113 7432            945             MOV     A,#032H
0115 F0              946             MOVX    @DPTR,A
                     947     ;       P3DBFED_H = 0x00;
                     948                             ; SOURCE LINE # 216
0116 90E03B          949             MOV     DPTR,#0E03BH
0119 E4              950             CLR     A
011A F0              951             MOVX    @DPTR,A
                     952     ;       P4DBFED_L = 0x32;
                     953                             ; SOURCE LINE # 217
011B 90E052          954             MOV     DPTR,#0E052H
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    16

011E 7432            955             MOV     A,#032H
0120 F0              956             MOVX    @DPTR,A
                     957     ;       P4DBFED_H = 0x00;
                     958                             ; SOURCE LINE # 218
0121 90E051          959             MOV     DPTR,#0E051H
0124 E4              960             CLR     A
0125 F0              961             MOVX    @DPTR,A
                     962     ; 
                     963     ; //    P1DBCTL = 0x00;                                                 // dead band is byp
                             ass
                     964     ; //    P2DBCTL = 0x00;
                     965     ; //    P3DBCTL = 0x00;
                     966     ; //    P4DBCTL = 0x00;
                     967     ; 
                     968     ;       P1TZSEL = 0x00;                                                 // disable all trig
                             ger zone
                     969                             ; SOURCE LINE # 225
0126 90E011          970             MOV     DPTR,#0E011H
0129 E4              971             CLR     A
012A F0              972             MOVX    @DPTR,A
                     973     ;       P2TZSEL = 0x00;
                     974                             ; SOURCE LINE # 226
012B 90E027          975             MOV     DPTR,#0E027H
012E E4              976             CLR     A
012F F0              977             MOVX    @DPTR,A
                     978     ;       P3TZSEL = 0x00;
                     979                             ; SOURCE LINE # 227
0130 90E03D          980             MOV     DPTR,#0E03DH
0133 E4              981             CLR     A
0134 F0              982             MOVX    @DPTR,A
                     983     ;       P4TZSEL = 0x00;
                     984                             ; SOURCE LINE # 228
0135 90E053          985             MOV     DPTR,#0E053H
0138 E4              986             CLR     A
0139 F0              987             MOVX    @DPTR,A
                     988     ;       P1TZCTL = 0x00;                                                 // when trigger,epw
                             mxA and epwmxB high impedance
                     989                             ; SOURCE LINE # 229
013A 90E012          990             MOV     DPTR,#0E012H
013D E4              991             CLR     A
013E F0              992             MOVX    @DPTR,A
                     993     ;       P2TZCTL = 0x00;
                     994                             ; SOURCE LINE # 230
013F 90E028          995             MOV     DPTR,#0E028H
0142 E4              996             CLR     A
0143 F0              997             MOVX    @DPTR,A
                     998     ;       P3TZCTL = 0x00;
                     999                             ; SOURCE LINE # 231
0144 90E03E         1000             MOV     DPTR,#0E03EH
0147 E4             1001             CLR     A
0148 F0             1002             MOVX    @DPTR,A
                    1003     ;       P4TZCTL = 0x00;
                    1004                             ; SOURCE LINE # 232
0149 90E054         1005             MOV     DPTR,#0E054H
014C E4             1006             CLR     A
014D F0             1007             MOVX    @DPTR,A
                    1008     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1009     ; //    P2TZEINT = 0x00;
                    1010     ; //    P3TZEINT = 0x00;
                    1011     ; //    P4TZEINT = 0x00;
                    1012     ; 
                    1013     ; //    P1TZSEL = 0x01;                                                 // OSHT enable
                    1014     ; //    P2TZSEL = 0x01;
                    1015     ; //    P3TZSEL = 0x01;
                    1016     ; //    P4TZSEL = 0x01;
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    17

                    1017     ; //    P1TZCTL = 0x00;                                                 // when trigger,epw
                             mxA and epwmxB high impedance
                    1018     ; //    P2TZCTL = 0x00;
                    1019     ; //    P3TZCTL = 0x00;
                    1020     ; //    P4TZCTL = 0x00;
                    1021     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1022     ; //    P2TZEINT = 0x00;
                    1023     ; //    P3TZEINT = 0x00;
                    1024     ; //    P4TZEINT = 0x00;
                    1025     ; 
                    1026     ; //    P1TZSEL = 0x02;                                                 // CBC enable
                    1027     ; //    P2TZSEL = 0x02;
                    1028     ; //    P3TZSEL = 0x02;
                    1029     ; //    P4TZSEL = 0x02;
                    1030     ; //    P1TZCTL = 0x00;                                                 // when trigger,epw
                             mxA and epwmxB high impedance
                    1031     ; //    P2TZCTL = 0x00;
                    1032     ; //    P3TZCTL = 0x00;
                    1033     ; //    P4TZCTL = 0x00;
                    1034     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1035     ; //    P2TZEINT = 0x00;
                    1036     ; //    P3TZEINT = 0x00;
                    1037     ; //    P4TZEINT = 0x00;
                    1038     ; 
                    1039     ;       P1ETSEL_L = 0x09;                                               // epwm interrupt e
                             nable at CTR = ZERO
                    1040                             ; SOURCE LINE # 264
014E 90E015         1041             MOV     DPTR,#0E015H
0151 7409           1042             MOV     A,#09H
0153 F0             1043             MOVX    @DPTR,A
                    1044     ;     P1ETSEL_H = 0x0C;//0xE0;//0xA0;//0x90;//0x0A;//0x09;                       // enable 
                             SOCA,SOCA is CTR = ZERO
                    1045                             ; SOURCE LINE # 265
0154 90E014         1046             MOV     DPTR,#0E014H
0157 740C           1047             MOV     A,#0CH
0159 F0             1048             MOVX    @DPTR,A
                    1049     ;       P2ETSEL_L = 0x00;
                    1050                             ; SOURCE LINE # 266
015A 90E02B         1051             MOV     DPTR,#0E02BH
015D E4             1052             CLR     A
015E F0             1053             MOVX    @DPTR,A
                    1054     ;       P2ETSEL_H = 0x00;//0xF0;//0x00;
                    1055                             ; SOURCE LINE # 267
015F 90E02A         1056             MOV     DPTR,#0E02AH
0162 E4             1057             CLR     A
0163 F0             1058             MOVX    @DPTR,A
                    1059     ;       P3ETSEL_L = 0x00;
                    1060                             ; SOURCE LINE # 268
0164 90E041         1061             MOV     DPTR,#0E041H
0167 E4             1062             CLR     A
0168 F0             1063             MOVX    @DPTR,A
                    1064     ;       P3ETSEL_H = 0x00;
                    1065                             ; SOURCE LINE # 269
0169 90E040         1066             MOV     DPTR,#0E040H
016C E4             1067             CLR     A
016D F0             1068             MOVX    @DPTR,A
                    1069     ;       P4ETSEL_L = 0x00;
                    1070                             ; SOURCE LINE # 270
016E 90E057         1071             MOV     DPTR,#0E057H
0171 E4             1072             CLR     A
0172 F0             1073             MOVX    @DPTR,A
                    1074     ;       P4ETSEL_H = 0x00;
                    1075                             ; SOURCE LINE # 271
0173 90E056         1076             MOV     DPTR,#0E056H
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    18

0176 E4             1077             CLR     A
0177 F0             1078             MOVX    @DPTR,A
                    1079     ;       P1ETPS_L = 0x05;                                                // 1 event 1 interr
                             upt
                    1080                             ; SOURCE LINE # 272
0178 90E017         1081             MOV     DPTR,#0E017H
017B 7405           1082             MOV     A,#05H
017D F0             1083             MOVX    @DPTR,A
                    1084     ;     P1ETPS_H = 0x05;//0x50;//0x05;                        // 1 evnt,SOCA period is 1
                    1085                             ; SOURCE LINE # 273
017E 90E016         1086             MOV     DPTR,#0E016H
0181 7405           1087             MOV     A,#05H
0183 F0             1088             MOVX    @DPTR,A
                    1089     ;       P2ETPS_L = 0x00;
                    1090                             ; SOURCE LINE # 274
0184 90E02D         1091             MOV     DPTR,#0E02DH
0187 E4             1092             CLR     A
0188 F0             1093             MOVX    @DPTR,A
                    1094     ;     P2ETPS_H = 0x00;//0x50;
                    1095                             ; SOURCE LINE # 275
0189 90E02C         1096             MOV     DPTR,#0E02CH
018C E4             1097             CLR     A
018D F0             1098             MOVX    @DPTR,A
                    1099     ;       P3ETPS_L = 0x00;
                    1100                             ; SOURCE LINE # 276
018E 90E043         1101             MOV     DPTR,#0E043H
0191 E4             1102             CLR     A
0192 F0             1103             MOVX    @DPTR,A
                    1104     ;       P4ETPS_L = 0x00;
                    1105                             ; SOURCE LINE # 277
0193 90E059         1106             MOV     DPTR,#0E059H
0196 E4             1107             CLR     A
0197 F0             1108             MOVX    @DPTR,A
                    1109     ; 
                    1110     ;       P1TBPRD_L = 0xD0;                                               // pwm period is 0x
                             0190@8MHz 10KHz 0x7D0@40MHz
                    1111                             ; SOURCE LINE # 279
0198 75A1D0         1112             MOV     P1TBPRD_L,#0D0H
                    1113     ;       P1TBPRD_H = 0x07;
                    1114                             ; SOURCE LINE # 280
019B 75A207         1115             MOV     P1TBPRD_H,#07H
                    1116     ;       P2TBPRD_L = 0xD0;
                    1117                             ; SOURCE LINE # 281
019E 75C1D0         1118             MOV     P2TBPRD_L,#0D0H
                    1119     ;       P2TBPRD_H = 0x07;
                    1120                             ; SOURCE LINE # 282
01A1 75C207         1121             MOV     P2TBPRD_H,#07H
                    1122     ;       P3TBPRD_L = 0xD0;
                    1123                             ; SOURCE LINE # 283
01A4 75D1D0         1124             MOV     P3TBPRD_L,#0D0H
                    1125     ;       P3TBPRD_H = 0x07;
                    1126                             ; SOURCE LINE # 284
01A7 75D207         1127             MOV     P3TBPRD_H,#07H
                    1128     ;       P4TBPRD_L = 0xD0;
                    1129                             ; SOURCE LINE # 285
01AA 75E1D0         1130             MOV     P4TBPRD_L,#0D0H
                    1131     ;       P4TBPRD_H = 0x07;
                    1132                             ; SOURCE LINE # 286
01AD 75E207         1133             MOV     P4TBPRD_H,#07H
                    1134     ; 
                    1135     ; //    P1TBPRD_L = 0x1F;                                               // pwm period is 10
                             KHz
                    1136     ; //    P1TBPRD_H = 0x03;
                    1137     ; //    P2TBPRD_L = 0x1F;
                    1138     ; //    P2TBPRD_H = 0x03;
                    1139     ; //    P3TBPRD_L = 0x1F;
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    19

                    1140     ; //    P3TBPRD_H = 0x03;
                    1141     ; //    P4TBPRD_L = 0x1F;
                    1142     ; //    P4TBPRD_H = 0x03;
                    1143     ; 
                    1144     ;       P1CMPA_L = 0xE8;                                                // pwm period is 0x
                             0C8@8MHz 10KHz
                    1145                             ; SOURCE LINE # 297
01B0 75A3E8         1146             MOV     P1CMPA_L,#0E8H
                    1147     ;       P1CMPA_H = 0x03;
                    1148                             ; SOURCE LINE # 298
01B3 75A403         1149             MOV     P1CMPA_H,#03H
                    1150     ;       //P1CMPB_L = 0xC8;
                    1151     ;       //P1CMPB_H = 0x00;
                    1152     ;       P2CMPA_L = 0xE8;
                    1153                             ; SOURCE LINE # 301
01B6 75C3E8         1154             MOV     P2CMPA_L,#0E8H
                    1155     ;       P2CMPA_H = 0x03;
                    1156                             ; SOURCE LINE # 302
01B9 75C403         1157             MOV     P2CMPA_H,#03H
                    1158     ;       //P2CMPB_L = 0xC8;
                    1159     ;       //P2CMPB_H = 0x00;
                    1160     ;       P3CMPA_L = 0xE8;
                    1161                             ; SOURCE LINE # 305
01BC 75D3E8         1162             MOV     P3CMPA_L,#0E8H
                    1163     ;       P3CMPA_H = 0x03;
                    1164                             ; SOURCE LINE # 306
01BF 75D403         1165             MOV     P3CMPA_H,#03H
                    1166     ;       //P3CMPB_L = 0xC8;
                    1167     ;       //P3CMPB_H = 0x00;
                    1168     ;       P4CMPA_L = 0xE8;
                    1169                             ; SOURCE LINE # 309
01C2 75E3E8         1170             MOV     P4CMPA_L,#0E8H
                    1171     ;       P4CMPA_H = 0x03;
                    1172                             ; SOURCE LINE # 310
01C5 75E403         1173             MOV     P4CMPA_H,#03H
                    1174     ;       //P4CMPB_L = 0xC8;
                    1175     ;       //P4CMPB_H = 0x00;
                    1176     ; 
                    1177     ; //    P1CMPA_L = 0xF4;                                                // pwm period is 0x
                             0C8@8MHz 10KHz
                    1178     ; //    P1CMPA_H = 0x01;
                    1179     ; //    P1CMPB_L = 0xEE;
                    1180     ; //    P1CMPB_H = 0x02;
                    1181     ; //    P2CMPA_L = 0xE8;
                    1182     ; //    P2CMPA_H = 0x03;
                    1183     ; //    P2CMPB_L = 0xE2;
                    1184     ; //    P2CMPB_H = 0x04;
                    1185     ; //    P3CMPA_L = 0xDC;
                    1186     ; //    P3CMPA_H = 0x05;
                    1187     ; 
                    1188     ; //    P1CMPA_L = 0x90;
                    1189     ; //    P1CMPA_H = 0x01;
                    1190     ; //    P1CMPB_L = 0x90;
                    1191     ; //    P1CMPB_H = 0x01;
                    1192     ; //    P2CMPA_L = 0x90;
                    1193     ; //    P2CMPA_H = 0x01;
                    1194     ; //    P2CMPB_L = 0x90;
                    1195     ; //    P2CMPB_H = 0x01;
                    1196     ; //    P3CMPA_L = 0x90;
                    1197     ; //    P3CMPA_H = 0x01;
                    1198     ; //    P3CMPB_L = 0x90;
                    1199     ; //    P3CMPB_H = 0x01;
                    1200     ; //    P4CMPA_L = 0x90;
                    1201     ; //    P4CMPA_H = 0x01;
                    1202     ; //    P4CMPB_L = 0x90;
                    1203     ; //    P4CMPB_H = 0x01;
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    20

                    1204     ; 
                    1205     ; //    OPAMP_SEL = 0xF0;
                    1206     ; //    COMP_INT_EN = COMP_INT_EN | (1 << 0);   // comparator1 interrupt output enable
                    1207     ; //    COMP_INT_SET = COMP_INT_SET & 0xFC;             // comparator1 falling edge trigger
                    1208     ; //    P1_FN_H = P1_FN_H & 0xF3 | 0x08;                // comp1 output
                    1209     ; //    ex1 = 1;                                                                // enable c
                             omp1 to CPU interrupt
                    1210     ; 
                    1211     ;       PCLKCR = PCLKCR | 1;                                    // all epwm channel synchro
                             nize enable
                    1212                             ; SOURCE LINE # 348
01C8 90E000         1213             MOV     DPTR,#0E000H
01CB E0             1214             MOVX    A,@DPTR
01CC FF             1215             MOV     R7,A
01CD EF             1216             MOV     A,R7
01CE 4401           1217             ORL     A,#01H
01D0 FF             1218             MOV     R7,A
01D1 EF             1219             MOV     A,R7
01D2 F0             1220             MOVX    @DPTR,A
                    1221     ; 
                    1222     ;       P1ETCLR = 1;
                    1223                             ; SOURCE LINE # 350
01D3 75B601         1224             MOV     P1ETCLR,#01H
                    1225     ;       I2FR = 1;
                    1226                             ; SOURCE LINE # 351
01D6 D2CD           1227             SETB    I2FR
                    1228     ;       EX2 = 1;                                                                // enable e
                             pwm1,2,3 interrupt
                    1229                             ; SOURCE LINE # 352
01D8 D2B9           1230             SETB    EX2
                    1231     ;       //ex3 = 1;                                                              // enable e
                             pwm4 interrupt
                    1232     ; }
                    1233                             ; SOURCE LINE # 354
01DA                1234     ?C0014:
01DA 22             1235             RET     
                    1236     ; END OF Initepwm
                    1237     
                    1238     ; 
                    1239     ; 
                    1240     ; void InitComparator(void)
                    1241     
----                1242             RSEG  ?PR?InitComparator?INITIAL
0000                1243     InitComparator:
                    1244             USING   0
                    1245                             ; SOURCE LINE # 357
                    1246     ; {
                    1247                             ; SOURCE LINE # 358
                    1248     ;       
                    1249     ;               P21_FN= CFG2;                                                            //
                              P21 output COMP1
                    1250                             ; SOURCE LINE # 360
0000 90E0E1         1251             MOV     DPTR,#0E0E1H
0003 E0             1252             MOVX    A,@DPTR
0004 FF             1253             MOV     R7,A
0005 EF             1254             MOV     A,R7
0006 54F3           1255             ANL     A,#0F3H
0008 FF             1256             MOV     R7,A
0009 EF             1257             MOV     A,R7
000A 4408           1258             ORL     A,#08H
000C FF             1259             MOV     R7,A
000D EF             1260             MOV     A,R7
000E F0             1261             MOVX    @DPTR,A
                    1262     ;               P14_FN= CFG2;                    // P14 output COMP2
                    1263                             ; SOURCE LINE # 361
000F 90E0DA         1264             MOV     DPTR,#0E0DAH
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    21

0012 E0             1265             MOVX    A,@DPTR
0013 FF             1266             MOV     R7,A
0014 EF             1267             MOV     A,R7
0015 54FC           1268             ANL     A,#0FCH
0017 FF             1269             MOV     R7,A
0018 EF             1270             MOV     A,R7
0019 4402           1271             ORL     A,#02H
001B FF             1272             MOV     R7,A
001C EF             1273             MOV     A,R7
001D F0             1274             MOVX    @DPTR,A
                    1275     ;               P13_FN= CFG2;                    // P13 output COMP3
                    1276                             ; SOURCE LINE # 362
001E 90E0DB         1277             MOV     DPTR,#0E0DBH
0021 E0             1278             MOVX    A,@DPTR
0022 FF             1279             MOV     R7,A
0023 EF             1280             MOV     A,R7
0024 543F           1281             ANL     A,#03FH
0026 FF             1282             MOV     R7,A
0027 EF             1283             MOV     A,R7
0028 4480           1284             ORL     A,#080H
002A FF             1285             MOV     R7,A
002B EF             1286             MOV     A,R7
002C F0             1287             MOVX    @DPTR,A
                    1288     ;               P12_FN= CFG2;                    // P12 output COMP4
                    1289                             ; SOURCE LINE # 363
002D 90E0DB         1290             MOV     DPTR,#0E0DBH
0030 E0             1291             MOVX    A,@DPTR
0031 FF             1292             MOV     R7,A
0032 EF             1293             MOV     A,R7
0033 54CF           1294             ANL     A,#0CFH
0035 FF             1295             MOV     R7,A
0036 EF             1296             MOV     A,R7
0037 4420           1297             ORL     A,#020H
0039 FF             1298             MOV     R7,A
003A EF             1299             MOV     A,R7
003B F0             1300             MOVX    @DPTR,A
                    1301     ;               
                    1302     ;       
                    1303     ;       
                    1304     ;               C1PDO1PD=CFG1;                                                          //C
                             OMP1 power on and OP1 power off
                    1305                             ; SOURCE LINE # 367
003C 90E0A4         1306             MOV     DPTR,#0E0A4H
003F E0             1307             MOVX    A,@DPTR
0040 FF             1308             MOV     R7,A
0041 EF             1309             MOV     A,R7
0042 54FC           1310             ANL     A,#0FCH
0044 FF             1311             MOV     R7,A
0045 EF             1312             MOV     A,R7
0046 4401           1313             ORL     A,#01H
0048 FF             1314             MOV     R7,A
0049 EF             1315             MOV     A,R7
004A F0             1316             MOVX    @DPTR,A
                    1317     ;               C2PDO2PD=CFG1;                                                          //C
                             OMP2 power on and OP2 power off
                    1318                             ; SOURCE LINE # 368
004B 90E0A4         1319             MOV     DPTR,#0E0A4H
004E E0             1320             MOVX    A,@DPTR
004F FF             1321             MOV     R7,A
0050 EF             1322             MOV     A,R7
0051 54F3           1323             ANL     A,#0F3H
0053 FF             1324             MOV     R7,A
0054 EF             1325             MOV     A,R7
0055 4404           1326             ORL     A,#04H
0057 FF             1327             MOV     R7,A
0058 EF             1328             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    22

0059 F0             1329             MOVX    @DPTR,A
                    1330     ;               C3PDO3PD=CFG1;                                                          //C
                             OMP3 power on and OP3 power off
                    1331                             ; SOURCE LINE # 369
005A 90E0A4         1332             MOV     DPTR,#0E0A4H
005D E0             1333             MOVX    A,@DPTR
005E FF             1334             MOV     R7,A
005F EF             1335             MOV     A,R7
0060 54CF           1336             ANL     A,#0CFH
0062 FF             1337             MOV     R7,A
0063 EF             1338             MOV     A,R7
0064 4410           1339             ORL     A,#010H
0066 FF             1340             MOV     R7,A
0067 EF             1341             MOV     A,R7
0068 F0             1342             MOVX    @DPTR,A
                    1343     ;               C4PD=0;                                                                    
                                                  //COMP4 power on
                    1344                             ; SOURCE LINE # 370
0069 90E0A4         1345             MOV     DPTR,#0E0A4H
006C E0             1346             MOVX    A,@DPTR
006D FF             1347             MOV     R7,A
006E EF             1348             MOV     A,R7
006F 54BF           1349             ANL     A,#0BFH
0071 FF             1350             MOV     R7,A
0072 EF             1351             MOV     A,R7
0073 F0             1352             MOVX    @DPTR,A
                    1353     ;       
                    1354     ;       
                    1355     ;       
                    1356     ;               C1_INT_SEL=CFG2;                                                        //C
                             OMP1 at rising/falling edge triiger 
                    1357                             ; SOURCE LINE # 374
0074 90E0C6         1358             MOV     DPTR,#0E0C6H
0077 E0             1359             MOVX    A,@DPTR
0078 FF             1360             MOV     R7,A
0079 EF             1361             MOV     A,R7
007A 54FE           1362             ANL     A,#0FEH
007C FF             1363             MOV     R7,A
007D EF             1364             MOV     A,R7
007E F0             1365             MOVX    @DPTR,A
                    1366     ;               C2_INT_SEL=CFG2;                                                        //C
                             OMP2 at rising/falling edge triiger
                    1367                             ; SOURCE LINE # 375
007F 90E0C6         1368             MOV     DPTR,#0E0C6H
0082 E0             1369             MOVX    A,@DPTR
0083 FF             1370             MOV     R7,A
0084 EF             1371             MOV     A,R7
0085 54FD           1372             ANL     A,#0FDH
0087 FF             1373             MOV     R7,A
0088 EF             1374             MOV     A,R7
0089 F0             1375             MOVX    @DPTR,A
                    1376     ;               C3_INT_SEL=CFG2;                                                        //C
                             OMP3 at rising/falling edge triiger
                    1377                             ; SOURCE LINE # 376
008A 90E0C6         1378             MOV     DPTR,#0E0C6H
008D E0             1379             MOVX    A,@DPTR
008E FF             1380             MOV     R7,A
008F EF             1381             MOV     A,R7
0090 54FB           1382             ANL     A,#0FBH
0092 FF             1383             MOV     R7,A
0093 EF             1384             MOV     A,R7
0094 F0             1385             MOVX    @DPTR,A
                    1386     ;               C4_INT_SEL=CFG2;                                                        //C
                             OMP4 at rising/falling edge triiger
                    1387                             ; SOURCE LINE # 377
0095 90E0C6         1388             MOV     DPTR,#0E0C6H
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    23

0098 E0             1389             MOVX    A,@DPTR
0099 FF             1390             MOV     R7,A
009A EF             1391             MOV     A,R7
009B 54F7           1392             ANL     A,#0F7H
009D FF             1393             MOV     R7,A
009E EF             1394             MOV     A,R7
009F F0             1395             MOVX    @DPTR,A
                    1396     ;       
                    1397     ;       
                    1398     ;               C1_EN=1;                                                                   
                                                  //C1 interrupt enable
                    1399                             ; SOURCE LINE # 380
00A0 90E0EB         1400             MOV     DPTR,#0E0EBH
00A3 E0             1401             MOVX    A,@DPTR
00A4 FF             1402             MOV     R7,A
00A5 EF             1403             MOV     A,R7
00A6 4401           1404             ORL     A,#01H
00A8 FF             1405             MOV     R7,A
00A9 EF             1406             MOV     A,R7
00AA F0             1407             MOVX    @DPTR,A
                    1408     ;               C2_EN=1;                                                                   
                                                  //C2 interrupt enalbe
                    1409                             ; SOURCE LINE # 381
00AB 90E0EB         1410             MOV     DPTR,#0E0EBH
00AE E0             1411             MOVX    A,@DPTR
00AF FF             1412             MOV     R7,A
00B0 EF             1413             MOV     A,R7
00B1 4402           1414             ORL     A,#02H
00B3 FF             1415             MOV     R7,A
00B4 EF             1416             MOV     A,R7
00B5 F0             1417             MOVX    @DPTR,A
                    1418     ;               C3_EN=1;                                                                   
                                                  //C3 interrupt enalbe
                    1419                             ; SOURCE LINE # 382
00B6 90E0EB         1420             MOV     DPTR,#0E0EBH
00B9 E0             1421             MOVX    A,@DPTR
00BA FF             1422             MOV     R7,A
00BB EF             1423             MOV     A,R7
00BC 4404           1424             ORL     A,#04H
00BE FF             1425             MOV     R7,A
00BF EF             1426             MOV     A,R7
00C0 F0             1427             MOVX    @DPTR,A
                    1428     ;               C4_EN=1;                                                                   
                                                  //C4 interrupt enalbe
                    1429                             ; SOURCE LINE # 383
00C1 90E0EB         1430             MOV     DPTR,#0E0EBH
00C4 E0             1431             MOVX    A,@DPTR
00C5 FF             1432             MOV     R7,A
00C6 EF             1433             MOV     A,R7
00C7 4408           1434             ORL     A,#08H
00C9 FF             1435             MOV     R7,A
00CA EF             1436             MOV     A,R7
00CB F0             1437             MOVX    @DPTR,A
                    1438     ;               
                    1439     ;               
                    1440     ;               C1INT=0;                                                                   
                                                  //clear C1 INT flag
                    1441                             ; SOURCE LINE # 386
00CC 90E0C7         1442             MOV     DPTR,#0E0C7H
00CF E0             1443             MOVX    A,@DPTR
00D0 FF             1444             MOV     R7,A
00D1 EF             1445             MOV     A,R7
00D2 54FE           1446             ANL     A,#0FEH
00D4 FF             1447             MOV     R7,A
00D5 EF             1448             MOV     A,R7
00D6 F0             1449             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    24

                    1450     ;               C2INT=0;                                                                   
                                                  //clear C2 INT flag
                    1451                             ; SOURCE LINE # 387
00D7 90E0C7         1452             MOV     DPTR,#0E0C7H
00DA E0             1453             MOVX    A,@DPTR
00DB FF             1454             MOV     R7,A
00DC EF             1455             MOV     A,R7
00DD 54FD           1456             ANL     A,#0FDH
00DF FF             1457             MOV     R7,A
00E0 EF             1458             MOV     A,R7
00E1 F0             1459             MOVX    @DPTR,A
                    1460     ;               C3INT=0;                                                                   
                                                  //clear C3 INT flag
                    1461                             ; SOURCE LINE # 388
00E2 90E0C7         1462             MOV     DPTR,#0E0C7H
00E5 E0             1463             MOVX    A,@DPTR
00E6 FF             1464             MOV     R7,A
00E7 EF             1465             MOV     A,R7
00E8 54FB           1466             ANL     A,#0FBH
00EA FF             1467             MOV     R7,A
00EB EF             1468             MOV     A,R7
00EC F0             1469             MOVX    @DPTR,A
                    1470     ;               C4INT=0;                                                                   
                                                  //clear C4 INT flag
                    1471                             ; SOURCE LINE # 389
00ED 90E0C7         1472             MOV     DPTR,#0E0C7H
00F0 E0             1473             MOVX    A,@DPTR
00F1 FF             1474             MOV     R7,A
00F2 EF             1475             MOV     A,R7
00F3 54F7           1476             ANL     A,#0F7H
00F5 FF             1477             MOV     R7,A
00F6 EF             1478             MOV     A,R7
00F7 F0             1479             MOVX    @DPTR,A
                    1480     ;       
                    1481     ;               INT_CPU=1;                    //pass C234 interrupt to EX4
                    1482                             ; SOURCE LINE # 391
00F8 90E0EB         1483             MOV     DPTR,#0E0EBH
00FB E0             1484             MOVX    A,@DPTR
00FC FF             1485             MOV     R7,A
00FD EF             1486             MOV     A,R7
00FE 4410           1487             ORL     A,#010H
0100 FF             1488             MOV     R7,A
0101 EF             1489             MOV     A,R7
0102 F0             1490             MOVX    @DPTR,A
                    1491     ;       
                    1492     ;               EX4=1;
                    1493                             ; SOURCE LINE # 393
0103 D2BB           1494             SETB    EX4
                    1495     ;               EX1=1;
                    1496                             ; SOURCE LINE # 394
0105 D2AA           1497             SETB    EX1
                    1498     ;               IE1=0;
                    1499                             ; SOURCE LINE # 395
0107 C28B           1500             CLR     IE1
                    1501     ;               IEX4=0;
                    1502                             ; SOURCE LINE # 396
0109 C2C3           1503             CLR     IEX4
                    1504     ; }
                    1505                             ; SOURCE LINE # 397
010B                1506     ?C0015:
010B 22             1507             RET     
                    1508     ; END OF InitComparator
                    1509     
                    1510     ; 
                    1511     ; 
                    1512     ; 
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    25

                    1513     ; void InitWatchDog(void)
                    1514     
----                1515             RSEG  ?PR?InitWatchDog?INITIAL
0000                1516     InitWatchDog:
                    1517             USING   0
                    1518                             ; SOURCE LINE # 401
                    1519     ; {
                    1520                             ; SOURCE LINE # 402
                    1521     ;               WDTREL = 0xFF;
                    1522                             ; SOURCE LINE # 403
0000 7586FF         1523             MOV     WDTREL,#0FFH
                    1524     ;       WDT = 1;
                    1525                             ; SOURCE LINE # 404
0003 D2AE           1526             SETB    WDT
                    1527     ;       SWDT = 1;
                    1528                             ; SOURCE LINE # 405
0005 D2BE           1529             SETB    SWDT
                    1530     ;     P1_FN_L = P1_FN_L & 0xFC;               //p1_0 as GPIO
                    1531                             ; SOURCE LINE # 406
0007 90E0DB         1532             MOV     DPTR,#0E0DBH
000A E0             1533             MOVX    A,@DPTR
000B FF             1534             MOV     R7,A
000C EF             1535             MOV     A,R7
000D 54FC           1536             ANL     A,#0FCH
000F FF             1537             MOV     R7,A
0010 EF             1538             MOV     A,R7
0011 F0             1539             MOVX    @DPTR,A
                    1540     ;     P1_DD = P1_DD & 0xFE;                     //p1_0 as output
                    1541                             ; SOURCE LINE # 407
0012 90E0DC         1542             MOV     DPTR,#0E0DCH
0015 E0             1543             MOVX    A,@DPTR
0016 FF             1544             MOV     R7,A
0017 EF             1545             MOV     A,R7
0018 54FE           1546             ANL     A,#0FEH
001A FF             1547             MOV     R7,A
001B EF             1548             MOV     A,R7
001C F0             1549             MOVX    @DPTR,A
                    1550     ; }
                    1551                             ; SOURCE LINE # 408
001D                1552     ?C0016:
001D 22             1553             RET     
                    1554     ; END OF InitWatchDog
                    1555     
                    1556     ; 
                    1557     ; 
                    1558     ; 
                    1559     ; 
                    1560     ; #define GPIO(pin,fn_cfg,in_out,res_en_dis,pull_up_dwn,drive_4_8ma )  FN_##pin=fn_cfg;DD_#
                             #pin=in_out;PE_##pin=res_en_dis;PS_##pin=pull_up_dwn;DS_##pin=drive_4_8ma;
                    1561     ; 
                    1562     ; void InitGPIO(void)
                    1563     
----                1564             RSEG  ?PR?InitGPIO?INITIAL
0000                1565     InitGPIO:
                    1566             USING   0
                    1567                             ; SOURCE LINE # 415
                    1568     ; {
                    1569                             ; SOURCE LINE # 416
                    1570     ;               P0_FN_L = 0x00;                                                            
                                  // P00 ~ P03as GPIO
                    1571                             ; SOURCE LINE # 417
0000 90E0D5         1572             MOV     DPTR,#0E0D5H
0003 E4             1573             CLR     A
0004 F0             1574             MOVX    @DPTR,A
                    1575     ;               P0_FN_H = 0x00;                                                            
                                  // P04 ~ P07 as GPIO
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    26

                    1576                             ; SOURCE LINE # 418
0005 90E0D4         1577             MOV     DPTR,#0E0D4H
0008 E4             1578             CLR     A
0009 F0             1579             MOVX    @DPTR,A
                    1580     ;               P0_DD = 0x00;                                                              
                                          //      P00 ~  P07 intput
                    1581                             ; SOURCE LINE # 419
000A 90E0D6         1582             MOV     DPTR,#0E0D6H
000D E4             1583             CLR     A
000E F0             1584             MOVX    @DPTR,A
                    1585     ;               P0_PE = 0xFF;                                                              
                                          // output resistor enable       
                    1586                             ; SOURCE LINE # 420
000F 90E0D8         1587             MOV     DPTR,#0E0D8H
0012 74FF           1588             MOV     A,#0FFH
0014 F0             1589             MOVX    @DPTR,A
                    1590     ;               P0_DS = 0x00;                                                              
                                          //drive current =4mA
                    1591                             ; SOURCE LINE # 421
0015 90E0D7         1592             MOV     DPTR,#0E0D7H
0018 E4             1593             CLR     A
0019 F0             1594             MOVX    @DPTR,A
                    1595     ;               P0_PS=  0x00;                                                              
                                          //pull down resistor 
                    1596                             ; SOURCE LINE # 422
001A 90E0D9         1597             MOV     DPTR,#0E0D9H
001D E4             1598             CLR     A
001E F0             1599             MOVX    @DPTR,A
                    1600     ;       
                    1601     ;               P1_FN_L = 0x00;                                                            
                                  // P10 ~ P13 as GPIO
                    1602                             ; SOURCE LINE # 424
001F 90E0DB         1603             MOV     DPTR,#0E0DBH
0022 E4             1604             CLR     A
0023 F0             1605             MOVX    @DPTR,A
                    1606     ;               P1_FN_H = 0x00;                                                            
                                  // P14 ~ P17 as GPIO
                    1607                             ; SOURCE LINE # 425
0024 90E0DA         1608             MOV     DPTR,#0E0DAH
0027 E4             1609             CLR     A
0028 F0             1610             MOVX    @DPTR,A
                    1611     ;               P1_DD = 0x00;                                                              
                                          // P10 ~ P17 intput
                    1612                             ; SOURCE LINE # 426
0029 90E0DC         1613             MOV     DPTR,#0E0DCH
002C E4             1614             CLR     A
002D F0             1615             MOVX    @DPTR,A
                    1616     ;               P1_PE = 0xFF;                                                              
                                          // output resistor enable       
                    1617                             ; SOURCE LINE # 427
002E 90E0DE         1618             MOV     DPTR,#0E0DEH
0031 74FF           1619             MOV     A,#0FFH
0033 F0             1620             MOVX    @DPTR,A
                    1621     ;               P1_DS = 0x00;                                                              
                                          //drive current =4mA
                    1622                             ; SOURCE LINE # 428
0034 90E0DD         1623             MOV     DPTR,#0E0DDH
0037 E4             1624             CLR     A
0038 F0             1625             MOVX    @DPTR,A
                    1626     ;               P1_PS=  0x00;                                                              
                                          //pull down resistor 
                    1627                             ; SOURCE LINE # 429
0039 90E0DF         1628             MOV     DPTR,#0E0DFH
003C E4             1629             CLR     A
003D F0             1630             MOVX    @DPTR,A
                    1631     ;       
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    27

                    1632     ;               P2_FN_L = 0x00;                                                            
                                  // P20 ~ P23 as GPIO
                    1633                             ; SOURCE LINE # 431
003E 90E0E1         1634             MOV     DPTR,#0E0E1H
0041 E4             1635             CLR     A
0042 F0             1636             MOVX    @DPTR,A
                    1637     ;               P2_FN_H = 0x00;                                                            
                                  // P24 ~ P27 as GPIO
                    1638                             ; SOURCE LINE # 432
0043 90E0E0         1639             MOV     DPTR,#0E0E0H
0046 E4             1640             CLR     A
0047 F0             1641             MOVX    @DPTR,A
                    1642     ;               P2_DD = 0x00;                                                              
                                          // P20~ P27 intput
                    1643                             ; SOURCE LINE # 433
0048 90E0E2         1644             MOV     DPTR,#0E0E2H
004B E4             1645             CLR     A
004C F0             1646             MOVX    @DPTR,A
                    1647     ;               P2_PE = 0xFF;                                                              
                                          // pull/down resistor enable    
                    1648                             ; SOURCE LINE # 434
004D 90E0E4         1649             MOV     DPTR,#0E0E4H
0050 74FF           1650             MOV     A,#0FFH
0052 F0             1651             MOVX    @DPTR,A
                    1652     ;               P2_DS = 0x00;                                                              
                                          //drive current =4mA
                    1653                             ; SOURCE LINE # 435
0053 90E0E3         1654             MOV     DPTR,#0E0E3H
0056 E4             1655             CLR     A
0057 F0             1656             MOVX    @DPTR,A
                    1657     ;               P2_PS=  0x00;                                                              
                                          //pull down resistor 
                    1658                             ; SOURCE LINE # 436
0058 90E0E5         1659             MOV     DPTR,#0E0E5H
005B E4             1660             CLR     A
005C F0             1661             MOVX    @DPTR,A
                    1662     ;       
                    1663     ;       // use P26 and P00 as output
                    1664     ;       
                    1665     ;     P00_FN= CFG0;                      // P00 as GPIO
                    1666                             ; SOURCE LINE # 440
005D 90E0D5         1667             MOV     DPTR,#0E0D5H
0060 E0             1668             MOVX    A,@DPTR
0061 FF             1669             MOV     R7,A
0062 EF             1670             MOV     A,R7
0063 54FC           1671             ANL     A,#0FCH
0065 FF             1672             MOV     R7,A
0066 EF             1673             MOV     A,R7
0067 F0             1674             MOVX    @DPTR,A
                    1675     ;     P00_DD = OUTPUT;               //P00 as output
                    1676                             ; SOURCE LINE # 441
0068 90E0D6         1677             MOV     DPTR,#0E0D6H
006B E0             1678             MOVX    A,@DPTR
006C FF             1679             MOV     R7,A
006D EF             1680             MOV     A,R7
006E 4401           1681             ORL     A,#01H
0070 FF             1682             MOV     R7,A
0071 EF             1683             MOV     A,R7
0072 F0             1684             MOVX    @DPTR,A
                    1685     ;     P00_PE = RES_DIS;               //P00 pull resistor off
                    1686                             ; SOURCE LINE # 442
0073 90E0D8         1687             MOV     DPTR,#0E0D8H
0076 E0             1688             MOVX    A,@DPTR
0077 FF             1689             MOV     R7,A
0078 EF             1690             MOV     A,R7
0079 54FE           1691             ANL     A,#0FEH
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    28

007B FF             1692             MOV     R7,A
007C EF             1693             MOV     A,R7
007D F0             1694             MOVX    @DPTR,A
                    1695     ;               P00_DS = I_4MA;
                    1696                             ; SOURCE LINE # 443
007E 90E0D7         1697             MOV     DPTR,#0E0D7H
0081 E0             1698             MOVX    A,@DPTR
0082 FF             1699             MOV     R7,A
0083 EF             1700             MOV     A,R7
0084 54FE           1701             ANL     A,#0FEH
0086 FF             1702             MOV     R7,A
0087 EF             1703             MOV     A,R7
0088 F0             1704             MOVX    @DPTR,A
                    1705     ; 
                    1706     ;                       
                    1707     ;                       GPIO(P20,CFG1,INPUT,RES_EN,PULL_DOWN,I_4MA);                       
                                  //P20 as EXT2
                    1708                             ; SOURCE LINE # 446
0089 90E0E1         1709             MOV     DPTR,#0E0E1H
008C E0             1710             MOVX    A,@DPTR
008D FF             1711             MOV     R7,A
008E EF             1712             MOV     A,R7
008F 54FC           1713             ANL     A,#0FCH
0091 FF             1714             MOV     R7,A
0092 EF             1715             MOV     A,R7
0093 4401           1716             ORL     A,#01H
0095 FF             1717             MOV     R7,A
0096 EF             1718             MOV     A,R7
0097 F0             1719             MOVX    @DPTR,A
0098 90E0E2         1720             MOV     DPTR,#0E0E2H
009B E0             1721             MOVX    A,@DPTR
009C FF             1722             MOV     R7,A
009D EF             1723             MOV     A,R7
009E 54FE           1724             ANL     A,#0FEH
00A0 FF             1725             MOV     R7,A
00A1 EF             1726             MOV     A,R7
00A2 F0             1727             MOVX    @DPTR,A
00A3 90E0E4         1728             MOV     DPTR,#0E0E4H
00A6 E0             1729             MOVX    A,@DPTR
00A7 FF             1730             MOV     R7,A
00A8 EF             1731             MOV     A,R7
00A9 4401           1732             ORL     A,#01H
00AB FF             1733             MOV     R7,A
00AC EF             1734             MOV     A,R7
00AD F0             1735             MOVX    @DPTR,A
00AE 90E0E5         1736             MOV     DPTR,#0E0E5H
00B1 E0             1737             MOVX    A,@DPTR
00B2 FF             1738             MOV     R7,A
00B3 EF             1739             MOV     A,R7
00B4 54FE           1740             ANL     A,#0FEH
00B6 FF             1741             MOV     R7,A
00B7 EF             1742             MOV     A,R7
00B8 F0             1743             MOVX    @DPTR,A
00B9 90E0E3         1744             MOV     DPTR,#0E0E3H
00BC E0             1745             MOVX    A,@DPTR
00BD FF             1746             MOV     R7,A
00BE EF             1747             MOV     A,R7
00BF 54FE           1748             ANL     A,#0FEH
00C1 FF             1749             MOV     R7,A
00C2 EF             1750             MOV     A,R7
00C3 F0             1751             MOVX    @DPTR,A
                    1752     ;                       GPIO(P15,CFG2,INPUT,RES_EN,PULL_DOWN,I_4MA);                       
                                  //P15 as TIMER3 T_EX
                    1753                             ; SOURCE LINE # 447
00C4 90E0DA         1754             MOV     DPTR,#0E0DAH
00C7 E0             1755             MOVX    A,@DPTR
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    29

00C8 FF             1756             MOV     R7,A
00C9 EF             1757             MOV     A,R7
00CA 54F3           1758             ANL     A,#0F3H
00CC FF             1759             MOV     R7,A
00CD EF             1760             MOV     A,R7
00CE 4408           1761             ORL     A,#08H
00D0 FF             1762             MOV     R7,A
00D1 EF             1763             MOV     A,R7
00D2 F0             1764             MOVX    @DPTR,A
00D3 90E0DC         1765             MOV     DPTR,#0E0DCH
00D6 E0             1766             MOVX    A,@DPTR
00D7 FF             1767             MOV     R7,A
00D8 EF             1768             MOV     A,R7
00D9 54DF           1769             ANL     A,#0DFH
00DB FF             1770             MOV     R7,A
00DC EF             1771             MOV     A,R7
00DD F0             1772             MOVX    @DPTR,A
00DE 90E0DE         1773             MOV     DPTR,#0E0DEH
00E1 E0             1774             MOVX    A,@DPTR
00E2 FF             1775             MOV     R7,A
00E3 EF             1776             MOV     A,R7
00E4 4420           1777             ORL     A,#020H
00E6 FF             1778             MOV     R7,A
00E7 EF             1779             MOV     A,R7
00E8 F0             1780             MOVX    @DPTR,A
00E9 90E0DF         1781             MOV     DPTR,#0E0DFH
00EC E0             1782             MOVX    A,@DPTR
00ED FF             1783             MOV     R7,A
00EE EF             1784             MOV     A,R7
00EF 54DF           1785             ANL     A,#0DFH
00F1 FF             1786             MOV     R7,A
00F2 EF             1787             MOV     A,R7
00F3 F0             1788             MOVX    @DPTR,A
00F4 90E0DD         1789             MOV     DPTR,#0E0DDH
00F7 E0             1790             MOVX    A,@DPTR
00F8 FF             1791             MOV     R7,A
00F9 EF             1792             MOV     A,R7
00FA 54DF           1793             ANL     A,#0DFH
00FC FF             1794             MOV     R7,A
00FD EF             1795             MOV     A,R7
00FE F0             1796             MOVX    @DPTR,A
                    1797     ;                       GPIO(P04,CFG0,OUTPUT,RES_EN,PULL_DOWN,I_4MA);                      
                                  //use P14 for timer0 ouput to test timer3 capture
                    1798                             ; SOURCE LINE # 448
00FF 90E0D4         1799             MOV     DPTR,#0E0D4H
0102 E0             1800             MOVX    A,@DPTR
0103 FF             1801             MOV     R7,A
0104 EF             1802             MOV     A,R7
0105 54FC           1803             ANL     A,#0FCH
0107 FF             1804             MOV     R7,A
0108 EF             1805             MOV     A,R7
0109 F0             1806             MOVX    @DPTR,A
010A 90E0D6         1807             MOV     DPTR,#0E0D6H
010D E0             1808             MOVX    A,@DPTR
010E FF             1809             MOV     R7,A
010F EF             1810             MOV     A,R7
0110 4410           1811             ORL     A,#010H
0112 FF             1812             MOV     R7,A
0113 EF             1813             MOV     A,R7
0114 F0             1814             MOVX    @DPTR,A
0115 90E0D8         1815             MOV     DPTR,#0E0D8H
0118 E0             1816             MOVX    A,@DPTR
0119 FF             1817             MOV     R7,A
011A EF             1818             MOV     A,R7
011B 4410           1819             ORL     A,#010H
011D FF             1820             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    30

011E EF             1821             MOV     A,R7
011F F0             1822             MOVX    @DPTR,A
0120 90E0D9         1823             MOV     DPTR,#0E0D9H
0123 E0             1824             MOVX    A,@DPTR
0124 FF             1825             MOV     R7,A
0125 EF             1826             MOV     A,R7
0126 54EF           1827             ANL     A,#0EFH
0128 FF             1828             MOV     R7,A
0129 EF             1829             MOV     A,R7
012A F0             1830             MOVX    @DPTR,A
012B 90E0D7         1831             MOV     DPTR,#0E0D7H
012E E0             1832             MOVX    A,@DPTR
012F FF             1833             MOV     R7,A
0130 EF             1834             MOV     A,R7
0131 54EF           1835             ANL     A,#0EFH
0133 FF             1836             MOV     R7,A
0134 EF             1837             MOV     A,R7
0135 F0             1838             MOVX    @DPTR,A
                    1839     ;                       GPIO(P26,CFG0,OUTPUT,RES_DIS,PULL_DOWN,I_4MA);                  //P
                             26 for LED indication
                    1840                             ; SOURCE LINE # 449
0136 90E0E0         1841             MOV     DPTR,#0E0E0H
0139 E0             1842             MOVX    A,@DPTR
013A FF             1843             MOV     R7,A
013B EF             1844             MOV     A,R7
013C 54CF           1845             ANL     A,#0CFH
013E FF             1846             MOV     R7,A
013F EF             1847             MOV     A,R7
0140 F0             1848             MOVX    @DPTR,A
0141 90E0E2         1849             MOV     DPTR,#0E0E2H
0144 E0             1850             MOVX    A,@DPTR
0145 FF             1851             MOV     R7,A
0146 EF             1852             MOV     A,R7
0147 4440           1853             ORL     A,#040H
0149 FF             1854             MOV     R7,A
014A EF             1855             MOV     A,R7
014B F0             1856             MOVX    @DPTR,A
014C 90E0E4         1857             MOV     DPTR,#0E0E4H
014F E0             1858             MOVX    A,@DPTR
0150 FF             1859             MOV     R7,A
0151 EF             1860             MOV     A,R7
0152 54BF           1861             ANL     A,#0BFH
0154 FF             1862             MOV     R7,A
0155 EF             1863             MOV     A,R7
0156 F0             1864             MOVX    @DPTR,A
0157 90E0E5         1865             MOV     DPTR,#0E0E5H
015A E0             1866             MOVX    A,@DPTR
015B FF             1867             MOV     R7,A
015C EF             1868             MOV     A,R7
015D 54BF           1869             ANL     A,#0BFH
015F FF             1870             MOV     R7,A
0160 EF             1871             MOV     A,R7
0161 F0             1872             MOVX    @DPTR,A
0162 90E0E3         1873             MOV     DPTR,#0E0E3H
0165 E0             1874             MOVX    A,@DPTR
0166 FF             1875             MOV     R7,A
0167 EF             1876             MOV     A,R7
0168 54BF           1877             ANL     A,#0BFH
016A FF             1878             MOV     R7,A
016B EF             1879             MOV     A,R7
016C F0             1880             MOVX    @DPTR,A
                    1881     ;       
                    1882     ; }
                    1883                             ; SOURCE LINE # 451
016D                1884     ?C0017:
016D 22             1885             RET     
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    31

                    1886     ; END OF InitGPIO
                    1887     
                    1888     ; 
                    1889     ; void InitTimer01(void)
                    1890     
----                1891             RSEG  ?PR?InitTimer01?INITIAL
0000                1892     InitTimer01:
                    1893                             ; SOURCE LINE # 453
                    1894     ; {
                    1895                             ; SOURCE LINE # 454
                    1896     ;               T01_DIV_L= 0x01;                 //clock divider is 122, must write T01_DIV
                             _L first;
                    1897                             ; SOURCE LINE # 455
0000 90E0EF         1898             MOV     DPTR,#0E0EFH
0003 7401           1899             MOV     A,#01H
0005 F0             1900             MOVX    @DPTR,A
                    1901     ;         T01_DIV_H= 0x00;                
                    1902                             ; SOURCE LINE # 456
0006 90E0EE         1903             MOV     DPTR,#0E0EEH
0009 E4             1904             CLR     A
000A F0             1905             MOVX    @DPTR,A
                    1906     ;       TMOD = 0x10;                   //timer1 is 16bit timer, timer0 is 13 bit
                    1907                             ; SOURCE LINE # 457
000B 758910         1908             MOV     TMOD,#010H
                    1909     ;     TL0 = 0x0;
                    1910                             ; SOURCE LINE # 458
000E 758A00         1911             MOV     TL0,#00H
                    1912     ;     TH0= 0xfe;
                    1913                             ; SOURCE LINE # 459
0011 758CFE         1914             MOV     TH0,#0FEH
                    1915     ;               
                    1916     ;               TL1=0x0;
                    1917                             ; SOURCE LINE # 461
0014 758B00         1918             MOV     TL1,#00H
                    1919     ;               TH1=0x0;
                    1920                             ; SOURCE LINE # 462
0017 758D00         1921             MOV     TH1,#00H
                    1922     ;       
                    1923     ;       
                    1924     ;     ET0 = 1;                                //enable timer0 overflow interrupt
                    1925                             ; SOURCE LINE # 465
001A D2A9           1926             SETB    ET0
                    1927     ;     ET1 = 1;                                //enable timer1 overflow interrupt
                    1928                             ; SOURCE LINE # 466
001C D2AB           1929             SETB    ET1
                    1930     ;               TR0= 1;                                //start timer0
                    1931                             ; SOURCE LINE # 467
001E D28C           1932             SETB    TR0
                    1933     ;               TR1 = 1;    
                    1934                             ; SOURCE LINE # 468
0020 D28E           1935             SETB    TR1
                    1936     ; }
                    1937                             ; SOURCE LINE # 469
0022                1938     ?C0018:
0022 22             1939             RET     
                    1940     ; END OF InitTimer01
                    1941     
                    1942     ; 
                    1943     ; void InitTimer3(void)
                    1944     
----                1945             RSEG  ?PR?InitTimer3?INITIAL
0000                1946     InitTimer3:
                    1947             USING   0
                    1948                             ; SOURCE LINE # 471
                    1949     ; {
                    1950                             ; SOURCE LINE # 472
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    32

                    1951     ;       T3PS = 0;                                                               // no divid
                             er
                    1952                             ; SOURCE LINE # 473
0000 90E0C9         1953             MOV     DPTR,#0E0C9H
0003 E4             1954             CLR     A
0004 F0             1955             MOVX    @DPTR,A
                    1956     ;       T3RC= 0x00C0;
                    1957                             ; SOURCE LINE # 474
0005 90E0CC         1958             MOV     DPTR,#0E0CCH
0008 E4             1959             CLR     A
0009 F0             1960             MOVX    @DPTR,A
000A A3             1961             INC     DPTR
000B 74C0           1962             MOV     A,#0C0H
000D F0             1963             MOVX    @DPTR,A
                    1964     ;       T3CT=0;
                    1965                             ; SOURCE LINE # 475
000E 90E0C8         1966             MOV     DPTR,#0E0C8H
0011 E0             1967             MOVX    A,@DPTR
0012 FF             1968             MOV     R7,A
0013 EF             1969             MOV     A,R7
0014 54FD           1970             ANL     A,#0FDH
0016 FF             1971             MOV     R7,A
0017 EF             1972             MOV     A,R7
0018 F0             1973             MOVX    @DPTR,A
                    1974     ;       T3EXEN=1;
                    1975                             ; SOURCE LINE # 476
0019 90E0C8         1976             MOV     DPTR,#0E0C8H
001C E0             1977             MOVX    A,@DPTR
001D FF             1978             MOV     R7,A
001E EF             1979             MOV     A,R7
001F 4408           1980             ORL     A,#08H
0021 FF             1981             MOV     R7,A
0022 EF             1982             MOV     A,R7
0023 F0             1983             MOVX    @DPTR,A
                    1984     ;       
                    1985     ;       T3TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    1986                             ; SOURCE LINE # 478
0024 90E0C8         1987             MOV     DPTR,#0E0C8H
0027 E0             1988             MOVX    A,@DPTR
0028 FF             1989             MOV     R7,A
0029 EF             1990             MOV     A,R7
002A 4420           1991             ORL     A,#020H
002C FF             1992             MOV     R7,A
002D EF             1993             MOV     A,R7
002E F0             1994             MOVX    @DPTR,A
                    1995     ;       T3TR = 1;                               // start timer4
                    1996                             ; SOURCE LINE # 479
002F 90E0C8         1997             MOV     DPTR,#0E0C8H
0032 E0             1998             MOVX    A,@DPTR
0033 FF             1999             MOV     R7,A
0034 EF             2000             MOV     A,R7
0035 4404           2001             ORL     A,#04H
0037 FF             2002             MOV     R7,A
0038 EF             2003             MOV     A,R7
0039 F0             2004             MOVX    @DPTR,A
                    2005     ;       T3TF=0;
                    2006                             ; SOURCE LINE # 480
003A 90E0C8         2007             MOV     DPTR,#0E0C8H
003D E0             2008             MOVX    A,@DPTR
003E FF             2009             MOV     R7,A
003F EF             2010             MOV     A,R7
0040 547F           2011             ANL     A,#07FH
0042 FF             2012             MOV     R7,A
0043 EF             2013             MOV     A,R7
0044 F0             2014             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    33

                    2015     ;       T3EXF=0;
                    2016                             ; SOURCE LINE # 481
0045 90E0C8         2017             MOV     DPTR,#0E0C8H
0048 E0             2018             MOVX    A,@DPTR
0049 FF             2019             MOV     R7,A
004A EF             2020             MOV     A,R7
004B 54BF           2021             ANL     A,#0BFH
004D FF             2022             MOV     R7,A
004E EF             2023             MOV     A,R7
004F F0             2024             MOVX    @DPTR,A
                    2025     ;       IE1=0;
                    2026                             ; SOURCE LINE # 482
0050 C28B           2027             CLR     IE1
                    2028     ;        EX1=1;
                    2029                             ; SOURCE LINE # 483
0052 D2AA           2030             SETB    EX1
                    2031     ; }
                    2032                             ; SOURCE LINE # 484
0054                2033     ?C0019:
0054 22             2034             RET     
                    2035     ; END OF InitTimer3
                    2036     
                    2037     ; 
                    2038     ; void InitTimer4(void)
                    2039     
----                2040             RSEG  ?PR?InitTimer4?INITIAL
0000                2041     InitTimer4:
                    2042             USING   0
                    2043                             ; SOURCE LINE # 486
                    2044     ; {
                    2045                             ; SOURCE LINE # 487
                    2046     ;       T4PS = 0;                                                               // no divid
                             er
                    2047                             ; SOURCE LINE # 488
0000 90E0CF         2048             MOV     DPTR,#0E0CFH
0003 E4             2049             CLR     A
0004 F0             2050             MOVX    @DPTR,A
                    2051     ;       T4RC = 0xE0C0;
                    2052                             ; SOURCE LINE # 489
0005 90E0D2         2053             MOV     DPTR,#0E0D2H
0008 74E0           2054             MOV     A,#0E0H
000A F0             2055             MOVX    @DPTR,A
000B A3             2056             INC     DPTR
000C 74C0           2057             MOV     A,#0C0H
000E F0             2058             MOVX    @DPTR,A
                    2059     ; 
                    2060     ;       T4TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    2061                             ; SOURCE LINE # 491
000F 90E0CE         2062             MOV     DPTR,#0E0CEH
0012 E0             2063             MOVX    A,@DPTR
0013 FF             2064             MOV     R7,A
0014 EF             2065             MOV     A,R7
0015 4420           2066             ORL     A,#020H
0017 FF             2067             MOV     R7,A
0018 EF             2068             MOV     A,R7
0019 F0             2069             MOVX    @DPTR,A
                    2070     ;       T4TR = 1;                               // start timer4
                    2071                             ; SOURCE LINE # 492
001A 90E0CE         2072             MOV     DPTR,#0E0CEH
001D E0             2073             MOVX    A,@DPTR
001E FF             2074             MOV     R7,A
001F EF             2075             MOV     A,R7
0020 4404           2076             ORL     A,#04H
0022 FF             2077             MOV     R7,A
0023 EF             2078             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    34

0024 F0             2079             MOVX    @DPTR,A
                    2080     ;       CLR_T4_INT();
                    2081                             ; SOURCE LINE # 493
0025 53FEF0         2082             ANL     INT_REG4,#0F0H
                    2083     ;       EX6 = 1;
                    2084                             ; SOURCE LINE # 494
0028 D2BD           2085             SETB    EX6
                    2086     ;       IEX6=0;
                    2087                             ; SOURCE LINE # 495
002A C2C5           2088             CLR     IEX6
                    2089     ; }
                    2090                             ; SOURCE LINE # 496
002C                2091     ?C0020:
002C 22             2092             RET     
                    2093     ; END OF InitTimer4
                    2094     
                    2095     ; void InitTimer5(void)
                    2096     
----                2097             RSEG  ?PR?InitTimer5?INITIAL
0000                2098     InitTimer5:
                    2099             USING   0
                    2100                             ; SOURCE LINE # 497
                    2101     ; {
                    2102                             ; SOURCE LINE # 498
                    2103     ;       T5PS = 0;                                                                          
                                          // no divider
                    2104                             ; SOURCE LINE # 499
0000 90E0F4         2105             MOV     DPTR,#0E0F4H
0003 E4             2106             CLR     A
0004 F0             2107             MOVX    @DPTR,A
                    2108     ;       T5RC = 0x10C0;
                    2109                             ; SOURCE LINE # 500
0005 90E0F7         2110             MOV     DPTR,#0E0F7H
0008 7410           2111             MOV     A,#010H
000A F0             2112             MOVX    @DPTR,A
000B A3             2113             INC     DPTR
000C 74C0           2114             MOV     A,#0C0H
000E F0             2115             MOVX    @DPTR,A
                    2116     ;       
                    2117     ;       T5TF_EINT        =1;                                                            // 
                             timer4 overflow interrupt enable
                    2118                             ; SOURCE LINE # 502
000F 90E0F3         2119             MOV     DPTR,#0E0F3H
0012 E0             2120             MOVX    A,@DPTR
0013 FF             2121             MOV     R7,A
0014 EF             2122             MOV     A,R7
0015 4420           2123             ORL     A,#020H
0017 FF             2124             MOV     R7,A
0018 EF             2125             MOV     A,R7
0019 F0             2126             MOVX    @DPTR,A
                    2127     ;       T5TR = 1;                                                                          
                                          // start timer4
                    2128                             ; SOURCE LINE # 503
001A 90E0F3         2129             MOV     DPTR,#0E0F3H
001D E0             2130             MOVX    A,@DPTR
001E FF             2131             MOV     R7,A
001F EF             2132             MOV     A,R7
0020 4404           2133             ORL     A,#04H
0022 FF             2134             MOV     R7,A
0023 EF             2135             MOV     A,R7
0024 F0             2136             MOVX    @DPTR,A
                    2137     ;       T5TF=0;                                                                            
                                          // clear interrupt flag
                    2138                             ; SOURCE LINE # 504
0025 90E0F3         2139             MOV     DPTR,#0E0F3H
0028 E0             2140             MOVX    A,@DPTR
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    35

0029 FF             2141             MOV     R7,A
002A EF             2142             MOV     A,R7
002B 547F           2143             ANL     A,#07FH
002D FF             2144             MOV     R7,A
002E EF             2145             MOV     A,R7
002F F0             2146             MOVX    @DPTR,A
                    2147     ; 
                    2148     ;       
                    2149     ;       I3FR=1;
                    2150                             ; SOURCE LINE # 507
0030 D2CE           2151             SETB    I3FR
                    2152     ;       EX3 = 1;
                    2153                             ; SOURCE LINE # 508
0032 D2BA           2154             SETB    EX3
                    2155     ;       IEX3=0;
                    2156                             ; SOURCE LINE # 509
0034 C2C2           2157             CLR     IEX3
                    2158     ; }
                    2159                             ; SOURCE LINE # 510
0036                2160     ?C0021:
0036 22             2161             RET     
                    2162     ; END OF InitTimer5
                    2163     
                    2164     ; void InitTimer6(void)
                    2165     
----                2166             RSEG  ?PR?InitTimer6?INITIAL
0000                2167     InitTimer6:
                    2168             USING   0
                    2169                             ; SOURCE LINE # 511
                    2170     ; {
                    2171                             ; SOURCE LINE # 512
                    2172     ;       T6PS = 0;                                                                          
                                          // no divider
                    2173                             ; SOURCE LINE # 513
0000 90E0FA         2174             MOV     DPTR,#0E0FAH
0003 E4             2175             CLR     A
0004 F0             2176             MOVX    @DPTR,A
                    2177     ;       T6RC = 0x10C0;
                    2178                             ; SOURCE LINE # 514
0005 90E0FD         2179             MOV     DPTR,#0E0FDH
0008 7410           2180             MOV     A,#010H
000A F0             2181             MOVX    @DPTR,A
000B A3             2182             INC     DPTR
000C 74C0           2183             MOV     A,#0C0H
000E F0             2184             MOVX    @DPTR,A
                    2185     ;       
                    2186     ;       T6TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    2187                             ; SOURCE LINE # 516
000F 90E0F9         2188             MOV     DPTR,#0E0F9H
0012 E0             2189             MOVX    A,@DPTR
0013 FF             2190             MOV     R7,A
0014 EF             2191             MOV     A,R7
0015 4420           2192             ORL     A,#020H
0017 FF             2193             MOV     R7,A
0018 EF             2194             MOV     A,R7
0019 F0             2195             MOVX    @DPTR,A
                    2196     ;       T6TR = 1;                                                                          
                                  // start timer4
                    2197                             ; SOURCE LINE # 517
001A 90E0F9         2198             MOV     DPTR,#0E0F9H
001D E0             2199             MOVX    A,@DPTR
001E FF             2200             MOV     R7,A
001F EF             2201             MOV     A,R7
0020 4404           2202             ORL     A,#04H
0022 FF             2203             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    36

0023 EF             2204             MOV     A,R7
0024 F0             2205             MOVX    @DPTR,A
                    2206     ;       T6TF=0;                                                                            
                                  // clear interrupt flag
                    2207                             ; SOURCE LINE # 518
0025 90E0F9         2208             MOV     DPTR,#0E0F9H
0028 E0             2209             MOVX    A,@DPTR
0029 FF             2210             MOV     R7,A
002A EF             2211             MOV     A,R7
002B 547F           2212             ANL     A,#07FH
002D FF             2213             MOV     R7,A
002E EF             2214             MOV     A,R7
002F F0             2215             MOVX    @DPTR,A
                    2216     ; 
                    2217     ;       
                    2218     ; 
                    2219     ;       EX5 = 1;
                    2220                             ; SOURCE LINE # 522
0030 D2BC           2221             SETB    EX5
                    2222     ;       IEX5=0;
                    2223                             ; SOURCE LINE # 523
0032 C2C4           2224             CLR     IEX5
                    2225     ; }
                    2226                             ; SOURCE LINE # 524
0034                2227     ?C0022:
0034 22             2228             RET     
                    2229     ; END OF InitTimer6
                    2230     
                    2231     ; void SystemClock(void)
                    2232     
----                2233             RSEG  ?PR?SystemClock?INITIAL
0000                2234     SystemClock:
                    2235             USING   0
                    2236                             ; SOURCE LINE # 525
                    2237     ; {
                    2238                             ; SOURCE LINE # 526
                    2239     ;     RC80M_RES = 0x2e;
                    2240                             ; SOURCE LINE # 527
0000 90E0B2         2241             MOV     DPTR,#0E0B2H
0003 742E           2242             MOV     A,#02EH
0005 F0             2243             MOVX    @DPTR,A
                    2244     ;         #pragma asm
                    2245     ;               nop
0006 00             2246               nop
                    2247     ;               nop
0007 00             2248               nop
                    2249     ;               nop
0008 00             2250               nop
                    2251     ;               nop
0009 00             2252               nop
                    2253     ;               nop
000A 00             2254               nop
                    2255     ;               nop
000B 00             2256               nop
                    2257     ;               nop
000C 00             2258               nop
                    2259     ;               nop
000D 00             2260               nop
                    2261     ;               nop
000E 00             2262               nop
                    2263     ;               nop
000F 00             2264               nop
                    2265     ;               nop
0010 00             2266               nop
                    2267     ;               nop
0011 00             2268               nop
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    37

                    2269     ;               nop
0012 00             2270               nop
                    2271     ;               nop
0013 00             2272               nop
                    2273     ;               nop
0014 00             2274               nop
                    2275     ;               nop
0015 00             2276               nop
                    2277     ;               nop
0016 00             2278               nop
                    2279     ;               nop
0017 00             2280               nop
                    2281     ;               nop
0018 00             2282               nop
                    2283     ;               nop
0019 00             2284               nop
                    2285     ;               nop
001A 00             2286               nop
                    2287     ;               nop
001B 00             2288               nop
                    2289     ;               nop
001C 00             2290               nop
                    2291     ;               nop
001D 00             2292               nop
                    2293     ;               nop
001E 00             2294               nop
                    2295     ;               nop
001F 00             2296               nop
                    2297     ;               nop
0020 00             2298               nop
                    2299     ;               nop
0021 00             2300               nop
                    2301     ;               nop
0022 00             2302               nop
                    2303     ;               nop
0023 00             2304               nop
                    2305     ;               nop
0024 00             2306               nop
                    2307     ;               nop
0025 00             2308               nop
                    2309     ;               nop
0026 00             2310               nop
                    2311     ;               #pragma endasm
                    2312     ;       
                    2313     ;         CLK_DIV_L = 0x02;
                    2314                             ; SOURCE LINE # 564
0027 90E0E7         2315             MOV     DPTR,#0E0E7H
002A 7402           2316             MOV     A,#02H
002C F0             2317             MOVX    @DPTR,A
                    2318     ;         CLK_DIV_H = 0x00;
                    2319                             ; SOURCE LINE # 565
002D 90E0E6         2320             MOV     DPTR,#0E0E6H
0030 E4             2321             CLR     A
0031 F0             2322             MOVX    @DPTR,A
                    2323     ;               
                    2324     ;               #pragma asm
                    2325     ;               nop
0032 00             2326               nop
                    2327     ;               nop
0033 00             2328               nop
                    2329     ;               nop
0034 00             2330               nop
                    2331     ;               nop
0035 00             2332               nop
                    2333     ;               nop
0036 00             2334               nop
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    38

                    2335     ;               nop
0037 00             2336               nop
                    2337     ;               nop
0038 00             2338               nop
                    2339     ;               nop
0039 00             2340               nop
                    2341     ;               nop
003A 00             2342               nop
                    2343     ;               nop
003B 00             2344               nop
                    2345     ;               nop
003C 00             2346               nop
                    2347     ;               nop
003D 00             2348               nop
                    2349     ;               nop
003E 00             2350               nop
                    2351     ;               nop
003F 00             2352               nop
                    2353     ;               nop
0040 00             2354               nop
                    2355     ;               nop
0041 00             2356               nop
                    2357     ;               nop
0042 00             2358               nop
                    2359     ;               nop
0043 00             2360               nop
                    2361     ;               nop
0044 00             2362               nop
                    2363     ;               nop
0045 00             2364               nop
                    2365     ;               nop
0046 00             2366               nop
                    2367     ;               nop
0047 00             2368               nop
                    2369     ;               nop
0048 00             2370               nop
                    2371     ;               nop
0049 00             2372               nop
                    2373     ;               nop
004A 00             2374               nop
                    2375     ;               nop
004B 00             2376               nop
                    2377     ;               nop
004C 00             2378               nop
                    2379     ;               nop
004D 00             2380               nop
                    2381     ;               nop
004E 00             2382               nop
                    2383     ;               nop
004F 00             2384               nop
                    2385     ;               nop
0050 00             2386               nop
                    2387     ;               nop
0051 00             2388               nop
                    2389     ;               #pragma endasm
                    2390     ; }
                    2391                             ; SOURCE LINE # 601
0052                2392     ?C0023:
0052 22             2393             RET     
                    2394     ; END OF SystemClock
                    2395     
                    2396     ; 
                    2397     ; 
                    2398     ; 
                    2399     ; //initial UART1, there are 2 different ways to generate baudrate
                    2400     ; //way 1
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    39

                    2401     ; void sInitUART1(void)
                    2402     
----                2403             RSEG  ?PR?sInitUART1?INITIAL
0000                2404     sInitUART1:
                    2405                             ; SOURCE LINE # 607
                    2406     ; {
                    2407                             ; SOURCE LINE # 608
                    2408     ;       S0CON  = 0x50;                // set as 8-bit UART,  enable serial 0 reception, ena
                             ble serial 0 multiprocessor function
                    2409                             ; SOURCE LINE # 609
0000 759850         2410             MOV     S0CON,#050H
                    2411     ;     WDCON = 0x80;            // 0x80: baud rate = (2^smod) * Fclk / (64 * (2^10 - s0rel))
                             ;
                    2412                             ; SOURCE LINE # 610
0003 75D880         2413             MOV     WDCON,#080H
                    2414     ;                               // 0x00: baud rate = (2^smod) * Fclk / (32 * 12 * (256 - th
                             1));
                    2415     ;                               // smod = 0;    Fclk = system clock
                    2416     ;     S0RELL = 0xF3;             //Fclk = 8MHz, baud rate = 9600
                    2417                             ; SOURCE LINE # 613
0006 75AAF3         2418             MOV     S0RELL,#0F3H
                    2419     ;     S0RELH = 0x03;    
                    2420                             ; SOURCE LINE # 614
0009 75BA03         2421             MOV     S0RELH,#03H
                    2422     ; }
                    2423                             ; SOURCE LINE # 615
000C                2424     ?C0024:
000C 22             2425             RET     
                    2426     ; END OF sInitUART1
                    2427     
                    2428     ; 
                    2429     ; void sInitUART2(void)
                    2430     
----                2431             RSEG  ?PR?sInitUART2?INITIAL
0000                2432     sInitUART2:
                    2433                             ; SOURCE LINE # 617
                    2434     ; {
                    2435                             ; SOURCE LINE # 618
                    2436     ;     S1CON  = 0x90;                    //enable serial 1 reception, enable serial 0 multip
                             rocessor function
                    2437                             ; SOURCE LINE # 619
0000 759B90         2438             MOV     S1CON,#090H
                    2439     ;                                 //s1con.7 = 1: 8-bit UART(mode B)    s1con.7 = 0: 9-bit U
                             ART(mode A)
                    2440     ;     S1RELL = 0xE6;            //baud rate = Fclk / (32 * (2^10 - s0rel));
                    2441                             ; SOURCE LINE # 621
0003 759DE6         2442             MOV     S1RELL,#0E6H
                    2443     ;     S1RELH = 0x03;              //Fclk = 8MHz, baud rate = 9600
                    2444                             ; SOURCE LINE # 622
0006 75BB03         2445             MOV     S1RELH,#03H
                    2446     ; }
                    2447                             ; SOURCE LINE # 623
0009                2448     ?C0025:
0009 22             2449             RET     
                    2450     ; END OF sInitUART2
                    2451     
                    2452             END
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    40

SYMBOL TABLE LISTING
------ ----- -------


N A M E                        T Y P E  V A L U E   ATTRIBUTES

?C0001. . . . . . . . . . . .  C ADDR   001EH   R   SEG=?PR?INITEXT?INITIAL
?C0002. . . . . . . . . . . .  C ADDR   0019H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0003. . . . . . . . . . . .  C ADDR   0039H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0004. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0005. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0006. . . . . . . . . . . .  C ADDR   002DH   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0007. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0008. . . . . . . . . . . .  C ADDR   0037H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0009. . . . . . . . . . . .  C ADDR   0045H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0010. . . . . . . . . . . .  C ADDR   0009H   R   SEG=?PR?INITBREAKPOINT?INITIAL
?C0011. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?EPWMOUTPUTDISABLE?INITIAL
?C0012. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?EPWMOUTPUTENABLE?INITIAL
?C0013. . . . . . . . . . . .  C ADDR   006FH   R   SEG=?PR?INITADC?INITIAL
?C0014. . . . . . . . . . . .  C ADDR   01DAH   R   SEG=?PR?INITEPWM?INITIAL
?C0015. . . . . . . . . . . .  C ADDR   010BH   R   SEG=?PR?INITCOMPARATOR?INITIAL
?C0016. . . . . . . . . . . .  C ADDR   001DH   R   SEG=?PR?INITWATCHDOG?INITIAL
?C0017. . . . . . . . . . . .  C ADDR   016DH   R   SEG=?PR?INITGPIO?INITIAL
?C0018. . . . . . . . . . . .  C ADDR   0022H   R   SEG=?PR?INITTIMER01?INITIAL
?C0019. . . . . . . . . . . .  C ADDR   0054H   R   SEG=?PR?INITTIMER3?INITIAL
?C0020. . . . . . . . . . . .  C ADDR   002CH   R   SEG=?PR?INITTIMER4?INITIAL
?C0021. . . . . . . . . . . .  C ADDR   0036H   R   SEG=?PR?INITTIMER5?INITIAL
?C0022. . . . . . . . . . . .  C ADDR   0034H   R   SEG=?PR?INITTIMER6?INITIAL
?C0023. . . . . . . . . . . .  C ADDR   0052H   R   SEG=?PR?SYSTEMCLOCK?INITIAL
?C0024. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?SINITUART1?INITIAL
?C0025. . . . . . . . . . . .  C ADDR   0009H   R   SEG=?PR?SINITUART2?INITIAL
?PR?EPWMOUTPUTDISABLE?INITIAL  C SEG    000DH       REL=UNIT
?PR?EPWMOUTPUTENABLE?INITIAL.  C SEG    000DH       REL=UNIT
?PR?INITADC?INITIAL . . . . .  C SEG    0070H       REL=UNIT
?PR?INITBREAKPOINT?INITIAL. .  C SEG    000AH       REL=UNIT
?PR?INITCOMPARATOR?INITIAL. .  C SEG    010CH       REL=UNIT
?PR?INITEPWM?INITIAL. . . . .  C SEG    01DBH       REL=UNIT
?PR?INITEXT?INITIAL . . . . .  C SEG    001FH       REL=UNIT
?PR?INITGPIO?INITIAL. . . . .  C SEG    016EH       REL=UNIT
?PR?INITISDDEBUG?INITIAL. . .  C SEG    0046H       REL=UNIT
?PR?INITTIMER01?INITIAL . . .  C SEG    0023H       REL=UNIT
?PR?INITTIMER3?INITIAL. . . .  C SEG    0055H       REL=UNIT
?PR?INITTIMER4?INITIAL. . . .  C SEG    002DH       REL=UNIT
?PR?INITTIMER5?INITIAL. . . .  C SEG    0037H       REL=UNIT
?PR?INITTIMER6?INITIAL. . . .  C SEG    0035H       REL=UNIT
?PR?INITWATCHDOG?INITIAL. . .  C SEG    001EH       REL=UNIT
?PR?SINITUART1?INITIAL. . . .  C SEG    000DH       REL=UNIT
?PR?SINITUART2?INITIAL. . . .  C SEG    000AH       REL=UNIT
?PR?SYSTEMCLOCK?INITIAL . . .  C SEG    0053H       REL=UNIT
ACC . . . . . . . . . . . . .  D ADDR   00E0H   A   
ARCON . . . . . . . . . . . .  D ADDR   00EFH   A   
B . . . . . . . . . . . . . .  D ADDR   00F0H   A   
BPCTRL. . . . . . . . . . . .  D ADDR   0093H   A   
BREAKH. . . . . . . . . . . .  D ADDR   0095H   A   
BREAKL. . . . . . . . . . . .  D ADDR   0094H   A   
BSHCTL. . . . . . . . . . . .  D ADDR   00ABH   A   
BSHI_0. . . . . . . . . . . .  D ADDR   00ACH   A   
BSHI_1. . . . . . . . . . . .  D ADDR   00ADH   A   
BSHI_2. . . . . . . . . . . .  D ADDR   00AEH   A   
BSHI_3. . . . . . . . . . . .  D ADDR   00AFH   A   
BSHO_0. . . . . . . . . . . .  D ADDR   00BCH   A   
BSHO_1. . . . . . . . . . . .  D ADDR   00BDH   A   
BSHO_2. . . . . . . . . . . .  D ADDR   00BEH   A   
BSHO_3. . . . . . . . . . . .  D ADDR   00BFH   A   
CKCON . . . . . . . . . . . .  D ADDR   008EH   A   
CLK_DIV . . . . . . . . . . .  D ADDR   0091H   A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    41

CLK_PD_CON. . . . . . . . . .  D ADDR   008FH   A   
DPH . . . . . . . . . . . . .  D ADDR   0083H   A   
DPH1. . . . . . . . . . . . .  D ADDR   0085H   A   
DPL . . . . . . . . . . . . .  D ADDR   0082H   A   
DPL1. . . . . . . . . . . . .  D ADDR   0084H   A   
DPS . . . . . . . . . . . . .  D ADDR   0092H   A   
EADC. . . . . . . . . . . . .  B ADDR   00B8H.0 A   
EAL . . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EPWMOUTPUTDISABLE . . . . . .  C ADDR   0000H   R   SEG=?PR?EPWMOUTPUTDISABLE?INITIAL
EPWMOUTPUTENABLE. . . . . . .  C ADDR   0000H   R   SEG=?PR?EPWMOUTPUTENABLE?INITIAL
ES. . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ES0 . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0 . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . . . . .  B ADDR   00A8H.3 A   
EX0 . . . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . . . . .  B ADDR   00A8H.2 A   
EX2 . . . . . . . . . . . . .  B ADDR   00B8H.1 A   
EX3 . . . . . . . . . . . . .  B ADDR   00B8H.2 A   
EX4 . . . . . . . . . . . . .  B ADDR   00B8H.3 A   
EX5 . . . . . . . . . . . . .  B ADDR   00B8H.4 A   
EX6 . . . . . . . . . . . . .  B ADDR   00B8H.5 A   
I2FR. . . . . . . . . . . . .  B ADDR   00C8H.5 A   
I3FR. . . . . . . . . . . . .  B ADDR   00C8H.6 A   
IADC. . . . . . . . . . . . .  B ADDR   00C0H.0 A   
IE. . . . . . . . . . . . . .  D ADDR   00A8H   A   
IE0 . . . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1 . . . . . . . . . . . . .  B ADDR   0088H.3 A   
IEN0. . . . . . . . . . . . .  D ADDR   00A8H   A   
IEN1. . . . . . . . . . . . .  D ADDR   00B8H   A   
IEN2. . . . . . . . . . . . .  D ADDR   009AH   A   
IEX2. . . . . . . . . . . . .  B ADDR   00C0H.1 A   
IEX3. . . . . . . . . . . . .  B ADDR   00C0H.2 A   
IEX4. . . . . . . . . . . . .  B ADDR   00C0H.3 A   
IEX5. . . . . . . . . . . . .  B ADDR   00C0H.4 A   
IEX6. . . . . . . . . . . . .  B ADDR   00C0H.5 A   
INITADC . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITADC?INITIAL
INITBREAKPOINT. . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITBREAKPOINT?INITIAL
INITCOMPARATOR. . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITCOMPARATOR?INITIAL
INITEPWM. . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITEPWM?INITIAL
INITEXT . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITEXT?INITIAL
INITGPIO. . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITGPIO?INITIAL
INITIAL . . . . . . . . . . .  N NUMB   -----       
INITISDDEBUG. . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITISDDEBUG?INITIAL
INITTIMER01 . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER01?INITIAL
INITTIMER3. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER3?INITIAL
INITTIMER4. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER4?INITIAL
INITTIMER5. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER5?INITIAL
INITTIMER6. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER6?INITIAL
INITWATCHDOG. . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITWATCHDOG?INITIAL
INT_REG1. . . . . . . . . . .  D ADDR   00F9H   A   
INT_REG2. . . . . . . . . . .  D ADDR   00FAH   A   
INT_REG3. . . . . . . . . . .  D ADDR   00FDH   A   
INT_REG4. . . . . . . . . . .  D ADDR   00FEH   A   
IP0 . . . . . . . . . . . . .  D ADDR   00A9H   A   
IP1 . . . . . . . . . . . . .  D ADDR   00B9H   A   
IRCON . . . . . . . . . . . .  D ADDR   00C0H   A   
IT0 . . . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . . . . .  B ADDR   0088H.2 A   
MD0 . . . . . . . . . . . . .  D ADDR   00E9H   A   
MD1 . . . . . . . . . . . . .  D ADDR   00EAH   A   
MD2 . . . . . . . . . . . . .  D ADDR   00EBH   A   
MD3 . . . . . . . . . . . . .  D ADDR   00ECH   A   
MD4 . . . . . . . . . . . . .  D ADDR   00EDH   A   
MD5 . . . . . . . . . . . . .  D ADDR   00EEH   A   
MEM_CONFIG. . . . . . . . . .  D ADDR   00E8H   A   
P0. . . . . . . . . . . . . .  D ADDR   0080H   A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    42

P00 . . . . . . . . . . . . .  B ADDR   0080H.0 A   
P01 . . . . . . . . . . . . .  B ADDR   0080H.1 A   
P02 . . . . . . . . . . . . .  B ADDR   0080H.2 A   
P03 . . . . . . . . . . . . .  B ADDR   0080H.3 A   
P04 . . . . . . . . . . . . .  B ADDR   0080H.4 A   
P05 . . . . . . . . . . . . .  B ADDR   0080H.5 A   
P06 . . . . . . . . . . . . .  B ADDR   0080H.6 A   
P07 . . . . . . . . . . . . .  B ADDR   0080H.7 A   
P1. . . . . . . . . . . . . .  D ADDR   0090H   A   
P10 . . . . . . . . . . . . .  B ADDR   0090H.0 A   
P11 . . . . . . . . . . . . .  B ADDR   0090H.1 A   
P12 . . . . . . . . . . . . .  B ADDR   0090H.2 A   
P13 . . . . . . . . . . . . .  B ADDR   0090H.3 A   
P14 . . . . . . . . . . . . .  B ADDR   0090H.4 A   
P15 . . . . . . . . . . . . .  B ADDR   0090H.5 A   
P16 . . . . . . . . . . . . .  B ADDR   0090H.6 A   
P17 . . . . . . . . . . . . .  B ADDR   0090H.7 A   
P1AQCSFRC . . . . . . . . . .  D ADDR   00B1H   A   
P1AQSFRC. . . . . . . . . . .  D ADDR   00A7H   A   
P1CMPA. . . . . . . . . . . .  D ADDR   00A3H   A   
P1CMPA_H. . . . . . . . . . .  D ADDR   00A4H   A   
P1CMPA_L. . . . . . . . . . .  D ADDR   00A3H   A   
P1CMPB. . . . . . . . . . . .  D ADDR   00A5H   A   
P1CMPB_H. . . . . . . . . . .  D ADDR   00A6H   A   
P1CMPB_L. . . . . . . . . . .  D ADDR   00A5H   A   
P1ETCLR . . . . . . . . . . .  D ADDR   00B6H   A   
P1ETFLG . . . . . . . . . . .  D ADDR   00B5H   A   
P1ETFRC . . . . . . . . . . .  D ADDR   00B7H   A   
P1TBPRD . . . . . . . . . . .  D ADDR   00A1H   A   
P1TBPRD_H . . . . . . . . . .  D ADDR   00A2H   A   
P1TBPRD_L . . . . . . . . . .  D ADDR   00A1H   A   
P1TZCLR . . . . . . . . . . .  D ADDR   00B3H   A   
P1TZFLG . . . . . . . . . . .  D ADDR   00B2H   A   
P1TZFRC . . . . . . . . . . .  D ADDR   00B4H   A   
P2. . . . . . . . . . . . . .  D ADDR   00A0H   A   
P20 . . . . . . . . . . . . .  B ADDR   00A0H.0 A   
P21 . . . . . . . . . . . . .  B ADDR   00A0H.1 A   
P22 . . . . . . . . . . . . .  B ADDR   00A0H.2 A   
P23 . . . . . . . . . . . . .  B ADDR   00A0H.3 A   
P24 . . . . . . . . . . . . .  B ADDR   00A0H.4 A   
P25 . . . . . . . . . . . . .  B ADDR   00A0H.5 A   
P26 . . . . . . . . . . . . .  B ADDR   00A0H.6 A   
P27 . . . . . . . . . . . . .  B ADDR   00A0H.7 A   
P2AQCSFRC . . . . . . . . . .  D ADDR   00C9H   A   
P2AQSFRC. . . . . . . . . . .  D ADDR   00C7H   A   
P2CMPA. . . . . . . . . . . .  D ADDR   00C3H   A   
P2CMPA_H. . . . . . . . . . .  D ADDR   00C4H   A   
P2CMPA_L. . . . . . . . . . .  D ADDR   00C3H   A   
P2CMPB. . . . . . . . . . . .  D ADDR   00C5H   A   
P2CMPB_H. . . . . . . . . . .  D ADDR   00C6H   A   
P2CMPB_L. . . . . . . . . . .  D ADDR   00C5H   A   
P2ETCLR . . . . . . . . . . .  D ADDR   00CEH   A   
P2ETFLG . . . . . . . . . . .  D ADDR   00CDH   A   
P2ETFRC . . . . . . . . . . .  D ADDR   00CFH   A   
P2TBPRD . . . . . . . . . . .  D ADDR   00C1H   A   
P2TBPRD_H . . . . . . . . . .  D ADDR   00C2H   A   
P2TBPRD_L . . . . . . . . . .  D ADDR   00C1H   A   
P2TZCLR . . . . . . . . . . .  D ADDR   00CBH   A   
P2TZFLG . . . . . . . . . . .  D ADDR   00CAH   A   
P2TZFRC . . . . . . . . . . .  D ADDR   00CCH   A   
P3. . . . . . . . . . . . . .  D ADDR   00B0H   A   
P30 . . . . . . . . . . . . .  B ADDR   00B0H.0 A   
P31 . . . . . . . . . . . . .  B ADDR   00B0H.1 A   
P32 . . . . . . . . . . . . .  B ADDR   00B0H.2 A   
P33 . . . . . . . . . . . . .  B ADDR   00B0H.3 A   
P34 . . . . . . . . . . . . .  B ADDR   00B0H.4 A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    43

P35 . . . . . . . . . . . . .  B ADDR   00B0H.5 A   
P36 . . . . . . . . . . . . .  B ADDR   00B0H.6 A   
P37 . . . . . . . . . . . . .  B ADDR   00B0H.7 A   
P3AQCSFRC . . . . . . . . . .  D ADDR   00D9H   A   
P3AQSFRC. . . . . . . . . . .  D ADDR   00D7H   A   
P3CMPA. . . . . . . . . . . .  D ADDR   00D3H   A   
P3CMPA_H. . . . . . . . . . .  D ADDR   00D4H   A   
P3CMPA_L. . . . . . . . . . .  D ADDR   00D3H   A   
P3CMPB. . . . . . . . . . . .  D ADDR   00D5H   A   
P3CMPB_H. . . . . . . . . . .  D ADDR   00D6H   A   
P3CMPB_L. . . . . . . . . . .  D ADDR   00D5H   A   
P3ETCLR . . . . . . . . . . .  D ADDR   00DEH   A   
P3ETFLG . . . . . . . . . . .  D ADDR   00DDH   A   
P3ETFRC . . . . . . . . . . .  D ADDR   00DFH   A   
P3TBPRD . . . . . . . . . . .  D ADDR   00D1H   A   
P3TBPRD_H . . . . . . . . . .  D ADDR   00D2H   A   
P3TBPRD_L . . . . . . . . . .  D ADDR   00D1H   A   
P3TZCLR . . . . . . . . . . .  D ADDR   00DBH   A   
P3TZFLG . . . . . . . . . . .  D ADDR   00DAH   A   
P3TZFRC . . . . . . . . . . .  D ADDR   00DCH   A   
P4AQCSFRC . . . . . . . . . .  D ADDR   00F1H   A   
P4AQSFRC. . . . . . . . . . .  D ADDR   00E7H   A   
P4CMPA. . . . . . . . . . . .  D ADDR   00E3H   A   
P4CMPA_H. . . . . . . . . . .  D ADDR   00E4H   A   
P4CMPA_L. . . . . . . . . . .  D ADDR   00E3H   A   
P4CMPB. . . . . . . . . . . .  D ADDR   00E5H   A   
P4CMPB_H. . . . . . . . . . .  D ADDR   00E6H   A   
P4CMPB_L. . . . . . . . . . .  D ADDR   00E5H   A   
P4ETCLR . . . . . . . . . . .  D ADDR   00F6H   A   
P4ETFLG . . . . . . . . . . .  D ADDR   00F5H   A   
P4ETFRC . . . . . . . . . . .  D ADDR   00F7H   A   
P4TBPRD . . . . . . . . . . .  D ADDR   00E1H   A   
P4TBPRD_H . . . . . . . . . .  D ADDR   00E2H   A   
P4TBPRD_L . . . . . . . . . .  D ADDR   00E1H   A   
P4TZCLR . . . . . . . . . . .  D ADDR   00F3H   A   
P4TZFLG . . . . . . . . . . .  D ADDR   00F2H   A   
P4TZFRC . . . . . . . . . . .  D ADDR   00F4H   A   
PCON. . . . . . . . . . . . .  D ADDR   0087H   A   
POWER_CON . . . . . . . . . .  D ADDR   0097H   A   
PSW . . . . . . . . . . . . .  D ADDR   00D0H   A   
RB80. . . . . . . . . . . . .  B ADDR   0098H.2 A   
REN0. . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI. . . . . . . . . . . . . .  B ADDR   0098H.0 A   
RI0 . . . . . . . . . . . . .  B ADDR   0098H.0 A   
S0BUF . . . . . . . . . . . .  D ADDR   0099H   A   
S0CON . . . . . . . . . . . .  D ADDR   0098H   A   
S0RELH. . . . . . . . . . . .  D ADDR   00BAH   A   
S0RELL. . . . . . . . . . . .  D ADDR   00AAH   A   
S1BUF . . . . . . . . . . . .  D ADDR   009CH   A   
S1CON . . . . . . . . . . . .  D ADDR   009BH   A   
S1RELH. . . . . . . . . . . .  D ADDR   00BBH   A   
S1RELL. . . . . . . . . . . .  D ADDR   009DH   A   
SBUF. . . . . . . . . . . . .  D ADDR   0099H   A   
SINITUART1. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SINITUART1?INITIAL
SINITUART2. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SINITUART2?INITIAL
SM0 . . . . . . . . . . . . .  B ADDR   0098H.7 A   
SM1 . . . . . . . . . . . . .  B ADDR   0098H.6 A   
SM20. . . . . . . . . . . . .  B ADDR   0098H.5 A   
SP. . . . . . . . . . . . . .  D ADDR   0081H   A   
SRAM_CON. . . . . . . . . . .  D ADDR   00F8H   A   
SWDT. . . . . . . . . . . . .  B ADDR   00B8H.6 A   
SYSTEMCLOCK . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SYSTEMCLOCK?INITIAL
T2CON . . . . . . . . . . . .  D ADDR   00C8H   A   
TB80. . . . . . . . . . . . .  B ADDR   0098H.3 A   
TCON. . . . . . . . . . . . .  D ADDR   0088H   A   
TF0 . . . . . . . . . . . . .  B ADDR   0088H.5 A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/29/2018 04:57:10 PAGE    44

TF1 . . . . . . . . . . . . .  B ADDR   0088H.7 A   
TH0 . . . . . . . . . . . . .  D ADDR   008CH   A   
TH1 . . . . . . . . . . . . .  D ADDR   008DH   A   
TI0 . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TL0 . . . . . . . . . . . . .  D ADDR   008AH   A   
TL1 . . . . . . . . . . . . .  D ADDR   008BH   A   
TMOD. . . . . . . . . . . . .  D ADDR   0089H   A   
TR0 . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1 . . . . . . . . . . . . .  B ADDR   0088H.6 A   
WDCON . . . . . . . . . . . .  D ADDR   00D8H   A   
WDCON_7 . . . . . . . . . . .  B ADDR   00D8H.7 A   
WDT . . . . . . . . . . . . .  B ADDR   00A8H.6 A   
WDTREL. . . . . . . . . . . .  D ADDR   0086H   A   
__ISD_INIT. . . . . . . . . .  C ADDR   -----       EXT


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
