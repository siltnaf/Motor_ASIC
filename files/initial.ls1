A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     1


MACRO ASSEMBLER A51 V8.02b
OBJECT MODULE PLACED IN .\OUTPUT\initial.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE .\OUTPUT\initial.src PR(.\files\initial.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\OUTPUT\initial.SRC generated from: SRC\initial.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil\C51\BIN\C51.EXE SRC\initial.c OPTIMIZE(0,SPEED) REGFILE(.\OUTPUT\motor.ORC
                             ) BROWSE INTVECTOR(0X2000) INCDIR(.\INC) DEBUG OBJECTEXTEND CODE PRINT(.\files\initial.lst)
                              TABS(2) SRC(.\OUTPUT\initial.SRC)
                       4     
                       5     $nomod51 
                       6     
                       7     NAME    INITIAL
                       8     
  00CE                 9     P2ETCLR DATA    0CEH
  009B                10     TB80    BIT     098H.3
  00DE                11     P3ETCLR DATA    0DEH
  00A1                12     P1TBPRD DATA    0A1H
  0080                13     P0      DATA    080H
  00F6                14     P4ETCLR DATA    0F6H
  00C1                15     P2TBPRD DATA    0C1H
  0090                16     P1      DATA    090H
  00D1                17     P3TBPRD DATA    0D1H
  00A0                18     P2      DATA    0A0H
  00E1                19     P4TBPRD DATA    0E1H
  00B0                20     P3      DATA    0B0H
  009D                21     SM20    BIT     098H.5
  00B1                22     P1AQCSFRC       DATA    0B1H
  00C9                23     P2AQCSFRC       DATA    0C9H
  00D9                24     P3AQCSFRC       DATA    0D9H
  00F1                25     P4AQCSFRC       DATA    0F1H
  00B2                26     P1TZFLG DATA    0B2H
  00CA                27     P2TZFLG DATA    0CAH
  00DA                28     P3TZFLG DATA    0DAH
  00B4                29     P1TZFRC DATA    0B4H
  00A8                30     IEN0    DATA    0A8H
  00F2                31     P4TZFLG DATA    0F2H
  00CC                32     P2TZFRC DATA    0CCH
  00A8                33     IE      DATA    0A8H
  00B8                34     EADC    BIT     0B8H.0
  00B8                35     IEN1    DATA    0B8H
  0085                36     DPH1    DATA    085H
  00DC                37     P3TZFRC DATA    0DCH
  009A                38     IEN2    DATA    09AH
  00F4                39     P4TZFRC DATA    0F4H
  008F                40     CLK_PD_CON      DATA    08FH
  00C0                41     IADC    BIT     0C0H.0
  0084                42     DPL1    DATA    084H
  00B3                43     P1TZCLR DATA    0B3H
  00CB                44     P2TZCLR DATA    0CBH
  00DF                45     WDCON_7 BIT     0D8H.7
  00CD                46     I2FR    BIT     0C8H.5
  00DB                47     P3TZCLR DATA    0DBH
  00CE                48     I3FR    BIT     0C8H.6
  00F3                49     P4TZCLR DATA    0F3H
  009C                50     REN0    BIT     098H.4
  00AC                51     ES      BIT     0A8H.4
  00C1                52     IEX2    BIT     0C0H.1
  00C2                53     IEX3    BIT     0C0H.2
  0098                54     RI      BIT     098H.0
  00C3                55     IEX4    BIT     0C0H.3
  00C4                56     IEX5    BIT     0C0H.4
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     2

  00C5                57     IEX6    BIT     0C0H.5
  0091                58     CLK_DIV DATA    091H
  0081                59     SP      DATA    081H
  00A3                60     P1CMPA  DATA    0A3H
  00C3                61     P2CMPA  DATA    0C3H
  00A5                62     P1CMPB  DATA    0A5H
  00D3                63     P3CMPA  DATA    0D3H
  00C5                64     P2CMPB  DATA    0C5H
  00E3                65     P4CMPA  DATA    0E3H
  00D5                66     P3CMPB  DATA    0D5H
  00E5                67     P4CMPB  DATA    0E5H
  00A2                68     P1TBPRD_H       DATA    0A2H
  00C2                69     P2TBPRD_H       DATA    0C2H
  00D2                70     P3TBPRD_H       DATA    0D2H
  00E2                71     P4TBPRD_H       DATA    0E2H
  00A1                72     P1TBPRD_L       DATA    0A1H
  00C1                73     P2TBPRD_L       DATA    0C1H
  00D1                74     P3TBPRD_L       DATA    0D1H
  00E1                75     P4TBPRD_L       DATA    0E1H
  0095                76     BREAKH  DATA    095H
  00BA                77     S0RELH  DATA    0BAH
  0080                78     P00     BIT     080H.0
  0099                79     SBUF    DATA    099H
  00BB                80     S1RELH  DATA    0BBH
  0090                81     P10     BIT     090H.0
  0087                82     PCON    DATA    087H
  0081                83     P01     BIT     080H.1
  00A0                84     P20     BIT     0A0H.0
  0091                85     P11     BIT     090H.1
  0082                86     P02     BIT     080H.2
  00B0                87     P30     BIT     0B0H.0
  00A1                88     P21     BIT     0A0H.1
  0092                89     P12     BIT     090H.2
  0083                90     P03     BIT     080H.3
  0094                91     BREAKL  DATA    094H
  00B1                92     P31     BIT     0B0H.1
  00AA                93     S0RELL  DATA    0AAH
  00A2                94     P22     BIT     0A0H.2
  0093                95     P13     BIT     090H.3
  0084                96     P04     BIT     080H.4
  00B2                97     P32     BIT     0B0H.2
  00A3                98     P23     BIT     0A0H.3
  009D                99     S1RELL  DATA    09DH
  0094               100     P14     BIT     090H.4
  0089               101     TMOD    DATA    089H
  0088               102     TCON    DATA    088H
  0085               103     P05     BIT     080H.5
  00B3               104     P33     BIT     0B0H.3
  00A4               105     P24     BIT     0A0H.4
  0095               106     P15     BIT     090H.5
  0086               107     P06     BIT     080H.6
  00B4               108     P34     BIT     0B0H.4
  00AC               109     BSHI_0  DATA    0ACH
  00A5               110     P25     BIT     0A0H.5
  0096               111     P16     BIT     090H.6
  0087               112     P07     BIT     080H.7
  00B5               113     P35     BIT     0B0H.5
  00AD               114     BSHI_1  DATA    0ADH
  00A6               115     P26     BIT     0A0H.6
  0097               116     P17     BIT     090H.7
  00B6               117     P36     BIT     0B0H.6
  00AE               118     BSHI_2  DATA    0AEH
  00A7               119     P27     BIT     0A0H.7
  00B7               120     P37     BIT     0B0H.7
  00AF               121     BSHI_3  DATA    0AFH
  00BC               122     BSHO_0  DATA    0BCH
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     3

  00BD               123     BSHO_1  DATA    0BDH
  0089               124     IE0     BIT     088H.1
  00BE               125     BSHO_2  DATA    0BEH
  008B               126     IE1     BIT     088H.3
  00BF               127     BSHO_3  DATA    0BFH
  00F0               128     B       DATA    0F0H
  00E9               129     MD0     DATA    0E9H
  00EA               130     MD1     DATA    0EAH
  00AB               131     BSHCTL  DATA    0ABH
  00EB               132     MD2     DATA    0EBH
  00BE               133     SWDT    BIT     0B8H.6
  00A7               134     P1AQSFRC        DATA    0A7H
  00EC               135     MD3     DATA    0ECH
  00C7               136     P2AQSFRC        DATA    0C7H
  00ED               137     MD4     DATA    0EDH
  00D7               138     P3AQSFRC        DATA    0D7H
  00EE               139     MD5     DATA    0EEH
  00E7               140     P4AQSFRC        DATA    0E7H
  00E0               141     ACC     DATA    0E0H
  00AC               142     ES0     BIT     0A8H.4
  00A9               143     IP0     DATA    0A9H
  00A9               144     ET0     BIT     0A8H.1
  0093               145     BPCTRL  DATA    093H
  00B9               146     IP1     DATA    0B9H
  00AB               147     ET1     BIT     0A8H.3
  008D               148     TF0     BIT     088H.5
  0098               149     RI0     BIT     098H.0
  008F               150     TF1     BIT     088H.7
  00A4               151     P1CMPA_H        DATA    0A4H
  008C               152     TH0     DATA    08CH
  00C4               153     P2CMPA_H        DATA    0C4H
  00A6               154     P1CMPB_H        DATA    0A6H
  00A8               155     EX0     BIT     0A8H.0
  0099               156     TI0     BIT     098H.1
  008D               157     TH1     DATA    08DH
  0088               158     IT0     BIT     088H.0
  00D4               159     P3CMPA_H        DATA    0D4H
  00C6               160     P2CMPB_H        DATA    0C6H
  00AA               161     EX1     BIT     0A8H.2
  008A               162     IT1     BIT     088H.2
  00E4               163     P4CMPA_H        DATA    0E4H
  00D6               164     P3CMPB_H        DATA    0D6H
  00B9               165     EX2     BIT     0B8H.1
  00E6               166     P4CMPB_H        DATA    0E6H
  00A3               167     P1CMPA_L        DATA    0A3H
  00BA               168     EX3     BIT     0B8H.2
  009F               169     SM0     BIT     098H.7
  0097               170     POWER_CON       DATA    097H
  008A               171     TL0     DATA    08AH
  00C3               172     P2CMPA_L        DATA    0C3H
  00A5               173     P1CMPB_L        DATA    0A5H
  00BB               174     EX4     BIT     0B8H.3
  009E               175     SM1     BIT     098H.6
  008B               176     TL1     DATA    08BH
  00D3               177     P3CMPA_L        DATA    0D3H
  00C5               178     P2CMPB_L        DATA    0C5H
  00BC               179     EX5     BIT     0B8H.4
  00AF               180     EAL     BIT     0A8H.7
  00E3               181     P4CMPA_L        DATA    0E3H
  00D5               182     P3CMPB_L        DATA    0D5H
  00BD               183     EX6     BIT     0B8H.5
  00E5               184     P4CMPB_L        DATA    0E5H
  0086               185     WDTREL  DATA    086H
  008C               186     TR0     BIT     088H.4
  008E               187     TR1     BIT     088H.6
  00F9               188     INT_REG1        DATA    0F9H
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     4

  0083               189     DPH     DATA    083H
  00FA               190     INT_REG2        DATA    0FAH
  00FD               191     INT_REG3        DATA    0FDH
  00FE               192     INT_REG4        DATA    0FEH
  0082               193     DPL     DATA    082H
  0099               194     S0BUF   DATA    099H
  009C               195     S1BUF   DATA    09CH
  0098               196     S0CON   DATA    098H
  009B               197     S1CON   DATA    09BH
  00C8               198     T2CON   DATA    0C8H
  0092               199     DPS     DATA    092H
  00AE               200     WDT     BIT     0A8H.6
  008E               201     CKCON   DATA    08EH
  00EF               202     ARCON   DATA    0EFH
  00B5               203     P1ETFLG DATA    0B5H
  00F8               204     SRAM_CON        DATA    0F8H
  00CD               205     P2ETFLG DATA    0CDH
  00DD               206     P3ETFLG DATA    0DDH
  00B7               207     P1ETFRC DATA    0B7H
  00F5               208     P4ETFLG DATA    0F5H
  00CF               209     P2ETFRC DATA    0CFH
  00E8               210     MEM_CONFIG      DATA    0E8H
  00DF               211     P3ETFRC DATA    0DFH
  00F7               212     P4ETFRC DATA    0F7H
  00D0               213     PSW     DATA    0D0H
  00D8               214     WDCON   DATA    0D8H
  00C0               215     IRCON   DATA    0C0H
  009A               216     RB80    BIT     098H.2
  00B6               217     P1ETCLR DATA    0B6H
                     218     ?PR?InitEXT?INITIAL  SEGMENT CODE 
                     219     ?PR?InitISDDebug?INITIAL                 SEGMENT CODE 
                     220     ?PR?InitBreakPoint?INITIAL               SEGMENT CODE 
                     221     ?PR?epwmOutputDisable?INITIAL            SEGMENT CODE 
                     222     ?PR?epwmOutputEnable?INITIAL             SEGMENT CODE 
                     223     ?PR?InitADC?INITIAL  SEGMENT CODE 
                     224     ?PR?Initepwm?INITIAL SEGMENT CODE 
                     225     ?PR?InitComp234?INITIAL                  SEGMENT CODE 
                     226     ?PR?InitWatchDog?INITIAL                 SEGMENT CODE 
                     227     ?PR?InitGPIO?INITIAL SEGMENT CODE 
                     228     ?PR?InitTimer01?INITIAL                  SEGMENT CODE 
                     229     ?PR?InitTimer3?INITIAL                   SEGMENT CODE 
                     230     ?PR?InitTimer4?INITIAL                   SEGMENT CODE 
                     231     ?PR?InitTimer5?INITIAL                   SEGMENT CODE 
                     232     ?PR?InitTimer6?INITIAL                   SEGMENT CODE 
                     233     ?PR?SystemClock?INITIAL                  SEGMENT CODE 
                     234     ?PR?sInitUART1?INITIAL                   SEGMENT CODE 
                     235     ?PR?sInitUART2?INITIAL                   SEGMENT CODE 
                     236             EXTRN   CODE (__isd_init)
                     237             EXTRN   DATA (hh)
                     238             PUBLIC  sInitUART2
                     239             PUBLIC  sInitUART1
                     240             PUBLIC  SystemClock
                     241             PUBLIC  InitTimer6
                     242             PUBLIC  InitTimer5
                     243             PUBLIC  InitTimer4
                     244             PUBLIC  InitTimer3
                     245             PUBLIC  InitTimer01
                     246             PUBLIC  InitGPIO
                     247             PUBLIC  InitWatchDog
                     248             PUBLIC  InitComp234
                     249             PUBLIC  Initepwm
                     250             PUBLIC  InitADC
                     251             PUBLIC  epwmOutputEnable
                     252             PUBLIC  epwmOutputDisable
                     253             PUBLIC  InitBreakPoint
                     254             PUBLIC  InitISDDebug
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     5

                     255             PUBLIC  InitEXT
                     256     ; #include "register.h"
                     257     ; #include <intrins.h>
                     258     ; #include "app.h"
                     259     ; #include "initial.h"
                     260     ; #include "ISD51.H"
                     261     ; 
                     262     ; 
                     263     ; 
                     264     ; 
                     265     ; void InitEXT(void)
                     266     
----                 267             RSEG  ?PR?InitEXT?INITIAL
0000                 268     InitEXT:
                     269             USING   0
                     270                             ; SOURCE LINE # 10
                     271     ; {     
                     272                             ; SOURCE LINE # 11
                     273     ; //            EINT1_EN=0; 
                     274     ; //            EINT2_EN=1;                             //enable EXT2
                     275     ; //            EINT3_EN=0;
                     276     ; //            EINT4_EN=0;
                     277     ;       
                     278     ;                       EXINT_EN = 0x02;                                        //RXINT_EN 
                             cannot be read, it can be write only
                     279                             ; SOURCE LINE # 17
0000 90E08D          280             MOV     DPTR,#0E08DH
0003 7402            281             MOV     A,#02H
0005 F0              282             MOVX    @DPTR,A
                     283     ;                                                                                          
                                                                  //EXINT_EN= 0x01      -----enable EXT1
                     284     ;                                                                                          
                                                                  //                                      0x02                    -----enable EXT2
                     285     ;                                                                                          
                                                                  //                                      0x04              -----enable EXT3
                     286     ;                                                                                          
                                                                  //                                      0x08                    -----enable EXT4
                     287     ;       
                     288     ;               EINT2_CFG=RISING_EDGE;          //rising edge trigger
                     289                             ; SOURCE LINE # 23
0006 90E0BF          290             MOV     DPTR,#0E0BFH
0009 E0              291             MOVX    A,@DPTR
000A FF              292             MOV     R7,A
000B EF              293             MOV     A,R7
000C 54F3            294             ANL     A,#0F3H
000E FF              295             MOV     R7,A
000F EF              296             MOV     A,R7
0010 4404            297             ORL     A,#04H
0012 FF              298             MOV     R7,A
0013 EF              299             MOV     A,R7
0014 F0              300             MOVX    @DPTR,A
                     301     ;               EX0=1;
                     302                             ; SOURCE LINE # 24
0015 D2A8            303             SETB    EX0
                     304     ;               IT0=1;
                     305                             ; SOURCE LINE # 25
0017 D288            306             SETB    IT0
                     307     ;               IE0=0;
                     308                             ; SOURCE LINE # 26
0019 C289            309             CLR     IE0
                     310     ;               INT_REG1 &=0xf0;
                     311                             ; SOURCE LINE # 27
001B 53F9F0          312             ANL     INT_REG1,#0F0H
                     313     ;       
                     314     ; }
                     315                             ; SOURCE LINE # 29
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     6

001E                 316     ?C0001:
001E 22              317             RET     
                     318     ; END OF InitEXT
                     319     
                     320     ; 
                     321     ; void InitISDDebug(void)
                     322     
----                 323             RSEG  ?PR?InitISDDebug?INITIAL
0000                 324     InitISDDebug:
                     325             USING   0
                     326                             ; SOURCE LINE # 31
                     327     ; {
                     328                             ; SOURCE LINE # 32
                     329     ;       
                     330     ;     EAL = 0;
                     331                             ; SOURCE LINE # 34
0000 C2AF            332             CLR     EAL
                     333     ;     //ISD51++++++++++++++++++++++++++
                     334     ;     #if ISDDebug == ENABLE_ISD
                     335     ;               InitBreakPoint();
                     336                             ; SOURCE LINE # 37
0002 120000   F      337             LCALL   InitBreakPoint
                     338     ;     sInitUART1();
                     339                             ; SOURCE LINE # 38
0005 120000   F      340             LCALL   sInitUART1
                     341     ;  
                     342     ;     IP0 = 0x30;
                     343                             ; SOURCE LINE # 40
0008 75A930          344             MOV     IP0,#030H
                     345     ;     IP1 = 0x20;
                     346                             ; SOURCE LINE # 41
000B 75B920          347             MOV     IP1,#020H
                     348     ;     ET0 = 0;
                     349                             ; SOURCE LINE # 42
000E C2A9            350             CLR     ET0
                     351     ;     EX6 = 0 ;
                     352                             ; SOURCE LINE # 43
0010 C2BD            353             CLR     EX6
                     354     ;     ES0 = 1;
                     355                             ; SOURCE LINE # 44
0012 D2AC            356             SETB    ES0
                     357     ;     EAL = 1;
                     358                             ; SOURCE LINE # 45
0014 D2AF            359             SETB    EAL
                     360     ;     _nop_();
                     361                             ; SOURCE LINE # 46
0016 00              362             NOP     
                     363     ;     _nop_();
                     364                             ; SOURCE LINE # 47
0017 00              365             NOP     
                     366     ;     _nop_();
                     367                             ; SOURCE LINE # 48
0018 00              368             NOP     
0019                 369     ?C0002:
                     370     ;     while(1)
                     371                             ; SOURCE LINE # 49
                     372     ;     {
                     373                             ; SOURCE LINE # 50
                     374     ;         P10 = 0;
                     375                             ; SOURCE LINE # 51
0019 C290            376             CLR     P10
                     377     ;         P10 = 1;
                     378                             ; SOURCE LINE # 52
001B D290            379             SETB    P10
                     380     ;         ISDcheck();      // initialize uVision2 Debugger and continue program run
                     381                             ; SOURCE LINE # 53
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     7

001D 20AC10          382             JB      ES,?C0004
0020 30980D          383             JNB     RI,?C0004
0023 E599            384             MOV     A,SBUF
0025 64A5            385             XRL     A,#0A5H
0027 6004            386             JZ      ?C0006
0029 C298            387             CLR     RI
002B 8003            388             SJMP    ?C0004
002D                 389     ?C0006:
002D 120000   F      390             LCALL   __isd_init
0030                 391     ?C0007:
0030                 392     ?C0005:
0030                 393     ?C0004:
                     394     ;         if((BPCTRL & 0x10) != 0) break;
                     395                             ; SOURCE LINE # 54
0030 E593            396             MOV     A,BPCTRL
0032 30E4E4          397             JNB     ACC.4,?C0002
0035 8002            398             SJMP    ?C0003
0037                 399     ?C0008:
                     400     ;     }
                     401                             ; SOURCE LINE # 55
0037 80E0            402             SJMP    ?C0002
0039                 403     ?C0003:
                     404     ;     _nop_();
                     405                             ; SOURCE LINE # 56
0039 00              406             NOP     
                     407     ;     _nop_();
                     408                             ; SOURCE LINE # 57
003A 00              409             NOP     
                     410     ;     _nop_();
                     411                             ; SOURCE LINE # 58
003B 00              412             NOP     
                     413     ;     ET0 = 1;
                     414                             ; SOURCE LINE # 59
003C D2A9            415             SETB    ET0
                     416     ;     EX6 = 1;
                     417                             ; SOURCE LINE # 60
003E D2BD            418             SETB    EX6
                     419     ;     _nop_();
                     420                             ; SOURCE LINE # 61
0040 00              421             NOP     
                     422     ;     _nop_();
                     423                             ; SOURCE LINE # 62
0041 00              424             NOP     
                     425     ;     _nop_();
                     426                             ; SOURCE LINE # 63
0042 00              427             NOP     
                     428     ;     #endif
                     429     ;     //++++++++++++++++++++++++++++++
                     430     ;               EAL = 1;                                //enable all interrupts
                     431                             ; SOURCE LINE # 66
0043 D2AF            432             SETB    EAL
                     433     ; }
                     434                             ; SOURCE LINE # 67
0045                 435     ?C0009:
0045 22              436             RET     
                     437     ; END OF InitISDDebug
                     438     
                     439     ; 
                     440     ; 
                     441     ; 
                     442     ; 
                     443     ; 
                     444     ; void InitBreakPoint  (void)
                     445     
----                 446             RSEG  ?PR?InitBreakPoint?INITIAL
0000                 447     InitBreakPoint:
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     8

                     448                             ; SOURCE LINE # 73
                     449     ; {
                     450                             ; SOURCE LINE # 74
                     451     ;     BPCTRL   = 0x01;
                     452                             ; SOURCE LINE # 75
0000 759301          453             MOV     BPCTRL,#01H
                     454     ;       BREAKL   = 0xff;
                     455                             ; SOURCE LINE # 76
0003 7594FF          456             MOV     BREAKL,#0FFH
                     457     ;       BREAKH   = 0xff;
                     458                             ; SOURCE LINE # 77
0006 7595FF          459             MOV     BREAKH,#0FFH
                     460     ; }
                     461                             ; SOURCE LINE # 78
0009                 462     ?C0010:
0009 22              463             RET     
                     464     ; END OF InitBreakPoint
                     465     
                     466     ; 
                     467     ; void epwmOutputDisable(void)
                     468     
----                 469             RSEG  ?PR?epwmOutputDisable?INITIAL
0000                 470     epwmOutputDisable:
                     471                             ; SOURCE LINE # 80
                     472     ; {
                     473                             ; SOURCE LINE # 81
                     474     ;       P1AQCSFRC = 0x05;                                               // force epwmxA and
                              epwmxB output low
                     475                             ; SOURCE LINE # 82
0000 75B105          476             MOV     P1AQCSFRC,#05H
                     477     ;       P2AQCSFRC = 0x05;
                     478                             ; SOURCE LINE # 83
0003 75C905          479             MOV     P2AQCSFRC,#05H
                     480     ;       P3AQCSFRC = 0x05;
                     481                             ; SOURCE LINE # 84
0006 75D905          482             MOV     P3AQCSFRC,#05H
                     483     ;       P4AQCSFRC = 0x05;
                     484                             ; SOURCE LINE # 85
0009 75F105          485             MOV     P4AQCSFRC,#05H
                     486     ; }
                     487                             ; SOURCE LINE # 86
000C                 488     ?C0011:
000C 22              489             RET     
                     490     ; END OF epwmOutputDisable
                     491     
                     492     ; 
                     493     ; void epwmOutputEnable(void)
                     494     
----                 495             RSEG  ?PR?epwmOutputEnable?INITIAL
0000                 496     epwmOutputEnable:
                     497                             ; SOURCE LINE # 88
                     498     ; {
                     499                             ; SOURCE LINE # 89
                     500     ;       P1AQCSFRC = 0x0F;                                               // software force d
                             isable
                     501                             ; SOURCE LINE # 90
0000 75B10F          502             MOV     P1AQCSFRC,#0FH
                     503     ;       P2AQCSFRC = 0x0F;
                     504                             ; SOURCE LINE # 91
0003 75C90F          505             MOV     P2AQCSFRC,#0FH
                     506     ;       P3AQCSFRC = 0x0F;
                     507                             ; SOURCE LINE # 92
0006 75D90F          508             MOV     P3AQCSFRC,#0FH
                     509     ;       P4AQCSFRC = 0x0F;
                     510                             ; SOURCE LINE # 93
0009 75F10F          511             MOV     P4AQCSFRC,#0FH
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE     9

                     512     ; }
                     513                             ; SOURCE LINE # 94
000C                 514     ?C0012:
000C 22              515             RET     
                     516     ; END OF epwmOutputEnable
                     517     
                     518     ; 
                     519     ; void InitADC(void)
                     520     
----                 521             RSEG  ?PR?InitADC?INITIAL
0000                 522     InitADC:
                     523             USING   0
                     524                             ; SOURCE LINE # 96
                     525     ; {
                     526                             ; SOURCE LINE # 97
                     527     ; 
                     528     ;               AD_PD = 0;                                                      //Power up 
                             ADD
                     529                             ; SOURCE LINE # 99
0000 90E08B          530             MOV     DPTR,#0E08BH
0003 E4              531             CLR     A
0004 F0              532             MOVX    @DPTR,A
                     533     ;         ADC_CLK_EN=1;
                     534                             ; SOURCE LINE # 100
0005 90E0EC          535             MOV     DPTR,#0E0ECH
0008 E0              536             MOVX    A,@DPTR
0009 FF              537             MOV     R7,A
000A EF              538             MOV     A,R7
000B 4408            539             ORL     A,#08H
000D FF              540             MOV     R7,A
000E EF              541             MOV     A,R7
000F F0              542             MOVX    @DPTR,A
                     543     ;               ADC_CLK_DIV_SEL=0x03;    //system divided by 4
                     544                             ; SOURCE LINE # 101
0010 90E0EC          545             MOV     DPTR,#0E0ECH
0013 E0              546             MOVX    A,@DPTR
0014 FF              547             MOV     R7,A
0015 EF              548             MOV     A,R7
0016 4403            549             ORL     A,#03H
0018 FF              550             MOV     R7,A
0019 EF              551             MOV     A,R7
001A F0              552             MOVX    @DPTR,A
                     553     ;     ADCHS = BIT_3;                                            // select channel CH4
                     554                             ; SOURCE LINE # 102
001B 90E05C          555             MOV     DPTR,#0E05CH
001E E4              556             CLR     A
001F F0              557             MOVX    @DPTR,A
0020 A3              558             INC     DPTR
0021 7408            559             MOV     A,#08H
0023 F0              560             MOVX    @DPTR,A
                     561     ;               DAC1_PD = 1;                                            // DAC12 down
                     562                             ; SOURCE LINE # 103
0024 90E07A          563             MOV     DPTR,#0E07AH
0027 E0              564             MOVX    A,@DPTR
0028 FF              565             MOV     R7,A
0029 EF              566             MOV     A,R7
002A 4404            567             ORL     A,#04H
002C FF              568             MOV     R7,A
002D EF              569             MOV     A,R7
002E F0              570             MOVX    @DPTR,A
                     571     ;               DAC2_PD = 1;
                     572                             ; SOURCE LINE # 104
002F 90E07A          573             MOV     DPTR,#0E07AH
0032 E0              574             MOVX    A,@DPTR
0033 FF              575             MOV     R7,A
0034 EF              576             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    10

0035 4401            577             ORL     A,#01H
0037 FF              578             MOV     R7,A
0038 EF              579             MOV     A,R7
0039 F0              580             MOVX    @DPTR,A
                     581     ;               LDO25_PD=0;             //use internal 2.5V for AD VREF
                     582                             ; SOURCE LINE # 105
003A 90E09D          583             MOV     DPTR,#0E09DH
003D E0              584             MOVX    A,@DPTR
003E FF              585             MOV     R7,A
003F EF              586             MOV     A,R7
0040 54FD            587             ANL     A,#0FDH
0042 FF              588             MOV     R7,A
0043 EF              589             MOV     A,R7
0044 F0              590             MOVX    @DPTR,A
                     591     ;               BP4=1;                  //CH4 bypass sample and hold
                     592                             ; SOURCE LINE # 106
0045 90E05D          593             MOV     DPTR,#0E05DH
0048 E0              594             MOVX    A,@DPTR
0049 FF              595             MOV     R7,A
004A EF              596             MOV     A,R7
004B 4408            597             ORL     A,#08H
004D FF              598             MOV     R7,A
004E EF              599             MOV     A,R7
004F F0              600             MOVX    @DPTR,A
                     601     ;               BP5=1;                                                                  //C
                             H5 bypass sample and hold
                     602                             ; SOURCE LINE # 107
0050 90E05D          603             MOV     DPTR,#0E05DH
0053 E0              604             MOVX    A,@DPTR
0054 FF              605             MOV     R7,A
0055 EF              606             MOV     A,R7
0056 4410            607             ORL     A,#010H
0058 FF              608             MOV     R7,A
0059 EF              609             MOV     A,R7
005A F0              610             MOVX    @DPTR,A
                     611     ;               BP6=1;                              //CH6 bypass sample and hold
                     612                             ; SOURCE LINE # 108
005B 90E05D          613             MOV     DPTR,#0E05DH
005E E0              614             MOVX    A,@DPTR
005F FF              615             MOV     R7,A
0060 EF              616             MOV     A,R7
0061 4420            617             ORL     A,#020H
0063 FF              618             MOV     R7,A
0064 EF              619             MOV     A,R7
0065 F0              620             MOVX    @DPTR,A
                     621     ;               INTEN=1;                                                                //e
                             nable interrupt
                     622                             ; SOURCE LINE # 109
0066 90E05A          623             MOV     DPTR,#0E05AH
0069 E0              624             MOVX    A,@DPTR
006A FF              625             MOV     R7,A
006B EF              626             MOV     A,R7
006C 4401            627             ORL     A,#01H
006E FF              628             MOV     R7,A
006F EF              629             MOV     A,R7
0070 F0              630             MOVX    @DPTR,A
                     631     ;               SWFTRG=1;                                                               //s
                             tart AD conversion
                     632                             ; SOURCE LINE # 110
0071 90E05A          633             MOV     DPTR,#0E05AH
0074 E0              634             MOVX    A,@DPTR
0075 FF              635             MOV     R7,A
0076 EF              636             MOV     A,R7
0077 4420            637             ORL     A,#020H
0079 FF              638             MOV     R7,A
007A EF              639             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    11

007B F0              640             MOVX    @DPTR,A
                     641     ;               AD4OST_H=0xFC;                                  //AD offset 
                     642                             ; SOURCE LINE # 111
007C 90E064          643             MOV     DPTR,#0E064H
007F 74FC            644             MOV     A,#0FCH
0081 F0              645             MOVX    @DPTR,A
                     646     ;               AD4OST_L=0x00;                                  //AD offset
                     647                             ; SOURCE LINE # 112
0082 90E065          648             MOV     DPTR,#0E065H
0085 E4              649             CLR     A
0086 F0              650             MOVX    @DPTR,A
                     651     ;       
                     652     ;       
                     653     ;               EADC=1;
                     654                             ; SOURCE LINE # 115
0087 D2B8            655             SETB    EADC
                     656     ;               IADC=0;
                     657                             ; SOURCE LINE # 116
0089 C2C0            658             CLR     IADC
                     659     ; 
                     660     ;       }
                     661                             ; SOURCE LINE # 118
008B                 662     ?C0013:
008B 22              663             RET     
                     664     ; END OF InitADC
                     665     
                     666     ; 
                     667     ; 
                     668     ; void Initepwm(void)
                     669     
----                 670             RSEG  ?PR?Initepwm?INITIAL
0000                 671     Initepwm:
                     672             USING   0
                     673                             ; SOURCE LINE # 121
                     674     ; {
                     675                             ; SOURCE LINE # 122
                     676     ;       P2_FN_H = 0x55;                                                 // p2_4 ~ p2_7 as p
                             wm2x ~ pwm1x
                     677                             ; SOURCE LINE # 123
0000 90E0E0          678             MOV     DPTR,#0E0E0H
0003 7455            679             MOV     A,#055H
0005 F0              680             MOVX    @DPTR,A
                     681     ;       P2_FN_L = P2_FN_L & 0x0F | 0x50;                // p2_2 ~ p2_3 as pwm3x
                     682                             ; SOURCE LINE # 124
0006 90E0E1          683             MOV     DPTR,#0E0E1H
0009 E0              684             MOVX    A,@DPTR
000A FF              685             MOV     R7,A
000B EF              686             MOV     A,R7
000C 540F            687             ANL     A,#0FH
000E FF              688             MOV     R7,A
000F EF              689             MOV     A,R7
0010 4450            690             ORL     A,#050H
0012 FF              691             MOV     R7,A
0013 90E0E1          692             MOV     DPTR,#0E0E1H
0016 EF              693             MOV     A,R7
0017 F0              694             MOVX    @DPTR,A
                     695     ;       //P0_FN_L = P0_FN_L & 0xF0 | 0x05;                // p0_0 ~ p0_1 as pwm4x
                     696     ; 
                     697     ; //    P1TBPRD_L = 0x90;                                               // pwm period is 10
                             KHz
                     698     ; //    P1TBPRD_H = 0x01;
                     699     ; //    P2TBPRD_L = 0x90;
                     700     ; //    P2TBPRD_H = 0x01;
                     701     ; //    P3TBPRD_L = 0x90;
                     702     ; //    P3TBPRD_H = 0x01;
                     703     ; //    P4TBPRD_L = 0x90;
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    12

                     704     ; //    P4TBPRD_H = 0x01;
                     705     ; 
                     706     ;       PCLKCR = 0x1E;//0x1F                                                    // clock fo
                             r pwm1 ~ pwm4 is enable,and synchronize all channel disable
                     707                             ; SOURCE LINE # 136
0018 90E000          708             MOV     DPTR,#0E000H
001B 741E            709             MOV     A,#01EH
001D F0              710             MOVX    @DPTR,A
                     711     ; //    PSYNCICR = 0x3C;//0x1F;                                         // all synchronize 
                             input enable
                     712     ; 
                     713     ;       P1TBCTL_L = 0x02;//0x12;                                                // period l
                             oad from shadow,up down mode,synchronize at CTR = ZERO
                     714                             ; SOURCE LINE # 139
001E 90E003          715             MOV     DPTR,#0E003H
0021 7402            716             MOV     A,#02H
0023 F0              717             MOVX    @DPTR,A
                     718     ;       P1TBCTL_H = 0x80;                                               // time base free r
                             un when emulation
                     719                             ; SOURCE LINE # 140
0024 90E002          720             MOV     DPTR,#0E002H
0027 7480            721             MOV     A,#080H
0029 F0              722             MOVX    @DPTR,A
                     723     ;       P2TBCTL_L = 0x02;//0x12;
                     724                             ; SOURCE LINE # 141
002A 90E019          725             MOV     DPTR,#0E019H
002D 7402            726             MOV     A,#02H
002F F0              727             MOVX    @DPTR,A
                     728     ;       P2TBCTL_H = 0x80;
                     729                             ; SOURCE LINE # 142
0030 90E018          730             MOV     DPTR,#0E018H
0033 7480            731             MOV     A,#080H
0035 F0              732             MOVX    @DPTR,A
                     733     ;       P3TBCTL_L = 0x02;//0x12;
                     734                             ; SOURCE LINE # 143
0036 90E02F          735             MOV     DPTR,#0E02FH
0039 7402            736             MOV     A,#02H
003B F0              737             MOVX    @DPTR,A
                     738     ;       P3TBCTL_H = 0x80;
                     739                             ; SOURCE LINE # 144
003C 90E02E          740             MOV     DPTR,#0E02EH
003F 7480            741             MOV     A,#080H
0041 F0              742             MOVX    @DPTR,A
                     743     ;       P4TBCTL_L = 0x02;//0x12;
                     744                             ; SOURCE LINE # 145
0042 90E045          745             MOV     DPTR,#0E045H
0045 7402            746             MOV     A,#02H
0047 F0              747             MOVX    @DPTR,A
                     748     ;       P4TBCTL_H = 0x80;
                     749                             ; SOURCE LINE # 146
0048 90E044          750             MOV     DPTR,#0E044H
004B 7480            751             MOV     A,#080H
004D F0              752             MOVX    @DPTR,A
                     753     ; 
                     754     ; //    P1TBCTL_L = 0x00;                                               // period load from
                              shadow,up mode
                     755     ; //    P1TBCTL_H = 0x80;
                     756     ; //    P2TBCTL_L = 0x00;
                     757     ; //    P2TBCTL_H = 0x80;
                     758     ; //    P3TBCTL_L = 0x00;
                     759     ; //    P3TBCTL_H = 0x80;
                     760     ; //    P4TBCTL_L = 0x00;
                     761     ; //    P4TBCTL_H = 0x80;
                     762     ; 
                     763     ;       P1CMPCTL = 0x00;                                                // shadow on,update
                              at CTR = ZERO
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    13

                     764                             ; SOURCE LINE # 157
004E 90E007          765             MOV     DPTR,#0E007H
0051 E4              766             CLR     A
0052 F0              767             MOVX    @DPTR,A
                     768     ;       P2CMPCTL = 0x00;
                     769                             ; SOURCE LINE # 158
0053 90E01D          770             MOV     DPTR,#0E01DH
0056 E4              771             CLR     A
0057 F0              772             MOVX    @DPTR,A
                     773     ;       P3CMPCTL = 0x00;
                     774                             ; SOURCE LINE # 159
0058 90E033          775             MOV     DPTR,#0E033H
005B E4              776             CLR     A
005C F0              777             MOVX    @DPTR,A
                     778     ;       P4CMPCTL = 0x00;
                     779                             ; SOURCE LINE # 160
005D 90E049          780             MOV     DPTR,#0E049H
0060 E4              781             CLR     A
0061 F0              782             MOVX    @DPTR,A
                     783     ;       P1AQCTLA_L = 0x60;                                              // when cmpA,count 
                             up is set,count down is clear
                     784                             ; SOURCE LINE # 161
0062 90E009          785             MOV     DPTR,#0E009H
0065 7460            786             MOV     A,#060H
0067 F0              787             MOVX    @DPTR,A
                     788     ;       P1AQCTLA_H = 0x00;                                              // when cmpB pwmxA 
                             do nothing
                     789                             ; SOURCE LINE # 162
0068 90E008          790             MOV     DPTR,#0E008H
006B E4              791             CLR     A
006C F0              792             MOVX    @DPTR,A
                     793     ;       P2AQCTLA_L = 0x60;
                     794                             ; SOURCE LINE # 163
006D 90E01F          795             MOV     DPTR,#0E01FH
0070 7460            796             MOV     A,#060H
0072 F0              797             MOVX    @DPTR,A
                     798     ;       P2AQCTLA_H = 0x00;
                     799                             ; SOURCE LINE # 164
0073 90E01E          800             MOV     DPTR,#0E01EH
0076 E4              801             CLR     A
0077 F0              802             MOVX    @DPTR,A
                     803     ;       P3AQCTLA_L = 0x60;
                     804                             ; SOURCE LINE # 165
0078 90E035          805             MOV     DPTR,#0E035H
007B 7460            806             MOV     A,#060H
007D F0              807             MOVX    @DPTR,A
                     808     ;       P3AQCTLA_H = 0x00;
                     809                             ; SOURCE LINE # 166
007E 90E034          810             MOV     DPTR,#0E034H
0081 E4              811             CLR     A
0082 F0              812             MOVX    @DPTR,A
                     813     ;       P4AQCTLA_L = 0x60;
                     814                             ; SOURCE LINE # 167
0083 90E04B          815             MOV     DPTR,#0E04BH
0086 7460            816             MOV     A,#060H
0088 F0              817             MOVX    @DPTR,A
                     818     ;       P4AQCTLA_H = 0x00;
                     819                             ; SOURCE LINE # 168
0089 90E04A          820             MOV     DPTR,#0E04AH
008C E4              821             CLR     A
008D F0              822             MOVX    @DPTR,A
                     823     ;       P1AQCTLB_L = 0x00;//0x60;
                     824                             ; SOURCE LINE # 169
008E 90E00B          825             MOV     DPTR,#0E00BH
0091 E4              826             CLR     A
0092 F0              827             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    14

                     828     ;       P1AQCTLB_H = 0x00;
                     829                             ; SOURCE LINE # 170
0093 90E00A          830             MOV     DPTR,#0E00AH
0096 E4              831             CLR     A
0097 F0              832             MOVX    @DPTR,A
                     833     ;       P2AQCTLB_L = 0x00;//0x60;
                     834                             ; SOURCE LINE # 171
0098 90E021          835             MOV     DPTR,#0E021H
009B E4              836             CLR     A
009C F0              837             MOVX    @DPTR,A
                     838     ;       P2AQCTLB_H = 0x00;
                     839                             ; SOURCE LINE # 172
009D 90E020          840             MOV     DPTR,#0E020H
00A0 E4              841             CLR     A
00A1 F0              842             MOVX    @DPTR,A
                     843     ;       P3AQCTLB_L = 0x00;//0x60;
                     844                             ; SOURCE LINE # 173
00A2 90E037          845             MOV     DPTR,#0E037H
00A5 E4              846             CLR     A
00A6 F0              847             MOVX    @DPTR,A
                     848     ;       P3AQCTLB_H = 0x00;
                     849                             ; SOURCE LINE # 174
00A7 90E036          850             MOV     DPTR,#0E036H
00AA E4              851             CLR     A
00AB F0              852             MOVX    @DPTR,A
                     853     ;       P4AQCTLB_L = 0x00;//0x60;
                     854                             ; SOURCE LINE # 175
00AC 90E04D          855             MOV     DPTR,#0E04DH
00AF E4              856             CLR     A
00B0 F0              857             MOVX    @DPTR,A
                     858     ;       P4AQCTLB_H = 0x00;
                     859                             ; SOURCE LINE # 176
00B1 90E04C          860             MOV     DPTR,#0E04CH
00B4 E4              861             CLR     A
00B5 F0              862             MOVX    @DPTR,A
                     863     ; 
                     864     ; //    P1AQCTLA_L = 0x12;                                                      // CTR = ZE
                             RO set,CTR = CMPA up clear,CTR = PRD nothing,CTR = CMPA down nothing
                     865     ; //    P1AQCTLA_H = 0x00;                                                      // when cmp
                             B pwmxA do nothing
                     866     ; //    P1AQCTLB_L = 0x02;                                                      // CTR = ZE
                             RO set,CTR = CMPA up nothing,CTR = PRD nothing,CTR = CMPA down nothing
                     867     ; //    P1AQCTLB_H = 0x01;                                                      // CTR = CM
                             PB clear
                     868     ; //    P2AQCTLA_L = 0x12;
                     869     ; //    P2AQCTLA_H = 0x00;
                     870     ; //    P2AQCTLB_L = 0x02;
                     871     ; //    P2AQCTLB_H = 0x01;
                     872     ; //    P3AQCTLA_L = 0x12;
                     873     ; //    P3AQCTLA_H = 0x00;
                     874     ; //    P3AQCTLB_L = 0x02;
                     875     ; //    P3AQCTLB_H = 0x01;
                     876     ; //    P4AQCTLA_L = 0x12;
                     877     ; //    P4AQCTLA_H = 0x00;
                     878     ; //    P4AQCTLB_L = 0x02;
                     879     ; //    P4AQCTLB_H = 0x01;
                     880     ; 
                     881     ;       P1DBCTL = 0x0B;                                                 // delay source is 
                             epwmxA,dead band full,epwmxB invert
                     882                             ; SOURCE LINE # 195
00B6 90E00C          883             MOV     DPTR,#0E00CH
00B9 740B            884             MOV     A,#0BH
00BB F0              885             MOVX    @DPTR,A
                     886     ;       P2DBCTL = 0x0B;
                     887                             ; SOURCE LINE # 196
00BC 90E022          888             MOV     DPTR,#0E022H
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    15

00BF 740B            889             MOV     A,#0BH
00C1 F0              890             MOVX    @DPTR,A
                     891     ;       P3DBCTL = 0x0B;
                     892                             ; SOURCE LINE # 197
00C2 90E038          893             MOV     DPTR,#0E038H
00C5 740B            894             MOV     A,#0BH
00C7 F0              895             MOVX    @DPTR,A
                     896     ;       P4DBCTL = 0x0B;
                     897                             ; SOURCE LINE # 198
00C8 90E04E          898             MOV     DPTR,#0E04EH
00CB 740B            899             MOV     A,#0BH
00CD F0              900             MOVX    @DPTR,A
                     901     ; //    P1DBCTL = 0x07;                                                 // delay source is 
                             epwmxA,dead band full,epwmxA invert
                     902     ; //    P2DBCTL = 0x07;
                     903     ; //    P3DBCTL = 0x07;
                     904     ; //    P4DBCTL = 0x07;
                     905     ;       P1DBRED_L = 0x32;//0x0A                                         // rise edge dead t
                             ime is 1.25uS
                     906                             ; SOURCE LINE # 203
00CE 90E00E          907             MOV     DPTR,#0E00EH
00D1 7432            908             MOV     A,#032H
00D3 F0              909             MOVX    @DPTR,A
                     910     ;       P1DBRED_H = 0x00;
                     911                             ; SOURCE LINE # 204
00D4 90E00D          912             MOV     DPTR,#0E00DH
00D7 E4              913             CLR     A
00D8 F0              914             MOVX    @DPTR,A
                     915     ;       P2DBRED_L = 0x32;
                     916                             ; SOURCE LINE # 205
00D9 90E024          917             MOV     DPTR,#0E024H
00DC 7432            918             MOV     A,#032H
00DE F0              919             MOVX    @DPTR,A
                     920     ;       P2DBRED_H = 0x00;
                     921                             ; SOURCE LINE # 206
00DF 90E023          922             MOV     DPTR,#0E023H
00E2 E4              923             CLR     A
00E3 F0              924             MOVX    @DPTR,A
                     925     ;       P3DBRED_L = 0x32;
                     926                             ; SOURCE LINE # 207
00E4 90E03A          927             MOV     DPTR,#0E03AH
00E7 7432            928             MOV     A,#032H
00E9 F0              929             MOVX    @DPTR,A
                     930     ;       P3DBRED_H = 0x00;
                     931                             ; SOURCE LINE # 208
00EA 90E039          932             MOV     DPTR,#0E039H
00ED E4              933             CLR     A
00EE F0              934             MOVX    @DPTR,A
                     935     ;       P4DBRED_L = 0x32;
                     936                             ; SOURCE LINE # 209
00EF 90E050          937             MOV     DPTR,#0E050H
00F2 7432            938             MOV     A,#032H
00F4 F0              939             MOVX    @DPTR,A
                     940     ;       P4DBRED_H = 0x00;
                     941                             ; SOURCE LINE # 210
00F5 90E04F          942             MOV     DPTR,#0E04FH
00F8 E4              943             CLR     A
00F9 F0              944             MOVX    @DPTR,A
                     945     ;       P1DBFED_L = 0x32;                                               // fall edge dead t
                             ime is 1.25uS
                     946                             ; SOURCE LINE # 211
00FA 90E010          947             MOV     DPTR,#0E010H
00FD 7432            948             MOV     A,#032H
00FF F0              949             MOVX    @DPTR,A
                     950     ;       P1DBFED_H = 0x00;
                     951                             ; SOURCE LINE # 212
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    16

0100 90E00F          952             MOV     DPTR,#0E00FH
0103 E4              953             CLR     A
0104 F0              954             MOVX    @DPTR,A
                     955     ;       P2DBFED_L = 0x32;
                     956                             ; SOURCE LINE # 213
0105 90E026          957             MOV     DPTR,#0E026H
0108 7432            958             MOV     A,#032H
010A F0              959             MOVX    @DPTR,A
                     960     ;       P2DBFED_H = 0x00;
                     961                             ; SOURCE LINE # 214
010B 90E025          962             MOV     DPTR,#0E025H
010E E4              963             CLR     A
010F F0              964             MOVX    @DPTR,A
                     965     ;       P3DBFED_L = 0x32;
                     966                             ; SOURCE LINE # 215
0110 90E03C          967             MOV     DPTR,#0E03CH
0113 7432            968             MOV     A,#032H
0115 F0              969             MOVX    @DPTR,A
                     970     ;       P3DBFED_H = 0x00;
                     971                             ; SOURCE LINE # 216
0116 90E03B          972             MOV     DPTR,#0E03BH
0119 E4              973             CLR     A
011A F0              974             MOVX    @DPTR,A
                     975     ;       P4DBFED_L = 0x32;
                     976                             ; SOURCE LINE # 217
011B 90E052          977             MOV     DPTR,#0E052H
011E 7432            978             MOV     A,#032H
0120 F0              979             MOVX    @DPTR,A
                     980     ;       P4DBFED_H = 0x00;
                     981                             ; SOURCE LINE # 218
0121 90E051          982             MOV     DPTR,#0E051H
0124 E4              983             CLR     A
0125 F0              984             MOVX    @DPTR,A
                     985     ; 
                     986     ; //    P1DBCTL = 0x00;                                                 // dead band is byp
                             ass
                     987     ; //    P2DBCTL = 0x00;
                     988     ; //    P3DBCTL = 0x00;
                     989     ; //    P4DBCTL = 0x00;
                     990     ; 
                     991     ;       P1TZSEL = 0x00;                                                 // disable all trig
                             ger zone
                     992                             ; SOURCE LINE # 225
0126 90E011          993             MOV     DPTR,#0E011H
0129 E4              994             CLR     A
012A F0              995             MOVX    @DPTR,A
                     996     ;       P2TZSEL = 0x00;
                     997                             ; SOURCE LINE # 226
012B 90E027          998             MOV     DPTR,#0E027H
012E E4              999             CLR     A
012F F0             1000             MOVX    @DPTR,A
                    1001     ;       P3TZSEL = 0x00;
                    1002                             ; SOURCE LINE # 227
0130 90E03D         1003             MOV     DPTR,#0E03DH
0133 E4             1004             CLR     A
0134 F0             1005             MOVX    @DPTR,A
                    1006     ;       P4TZSEL = 0x00;
                    1007                             ; SOURCE LINE # 228
0135 90E053         1008             MOV     DPTR,#0E053H
0138 E4             1009             CLR     A
0139 F0             1010             MOVX    @DPTR,A
                    1011     ;       P1TZCTL = 0x00;                                                 // when trigger,epw
                             mxA and epwmxB high impedance
                    1012                             ; SOURCE LINE # 229
013A 90E012         1013             MOV     DPTR,#0E012H
013D E4             1014             CLR     A
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    17

013E F0             1015             MOVX    @DPTR,A
                    1016     ;       P2TZCTL = 0x00;
                    1017                             ; SOURCE LINE # 230
013F 90E028         1018             MOV     DPTR,#0E028H
0142 E4             1019             CLR     A
0143 F0             1020             MOVX    @DPTR,A
                    1021     ;       P3TZCTL = 0x00;
                    1022                             ; SOURCE LINE # 231
0144 90E03E         1023             MOV     DPTR,#0E03EH
0147 E4             1024             CLR     A
0148 F0             1025             MOVX    @DPTR,A
                    1026     ;       P4TZCTL = 0x00;
                    1027                             ; SOURCE LINE # 232
0149 90E054         1028             MOV     DPTR,#0E054H
014C E4             1029             CLR     A
014D F0             1030             MOVX    @DPTR,A
                    1031     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1032     ; //    P2TZEINT = 0x00;
                    1033     ; //    P3TZEINT = 0x00;
                    1034     ; //    P4TZEINT = 0x00;
                    1035     ; 
                    1036     ; //    P1TZSEL = 0x01;                                                 // OSHT enable
                    1037     ; //    P2TZSEL = 0x01;
                    1038     ; //    P3TZSEL = 0x01;
                    1039     ; //    P4TZSEL = 0x01;
                    1040     ; //    P1TZCTL = 0x00;                                                 // when trigger,epw
                             mxA and epwmxB high impedance
                    1041     ; //    P2TZCTL = 0x00;
                    1042     ; //    P3TZCTL = 0x00;
                    1043     ; //    P4TZCTL = 0x00;
                    1044     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1045     ; //    P2TZEINT = 0x00;
                    1046     ; //    P3TZEINT = 0x00;
                    1047     ; //    P4TZEINT = 0x00;
                    1048     ; 
                    1049     ; //    P1TZSEL = 0x02;                                                 // CBC enable
                    1050     ; //    P2TZSEL = 0x02;
                    1051     ; //    P3TZSEL = 0x02;
                    1052     ; //    P4TZSEL = 0x02;
                    1053     ; //    P1TZCTL = 0x00;                                                 // when trigger,epw
                             mxA and epwmxB high impedance
                    1054     ; //    P2TZCTL = 0x00;
                    1055     ; //    P3TZCTL = 0x00;
                    1056     ; //    P4TZCTL = 0x00;
                    1057     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1058     ; //    P2TZEINT = 0x00;
                    1059     ; //    P3TZEINT = 0x00;
                    1060     ; //    P4TZEINT = 0x00;
                    1061     ; 
                    1062     ;       P1ETSEL_L = 0x09;                                               // epwm interrupt e
                             nable at CTR = ZERO
                    1063                             ; SOURCE LINE # 264
014E 90E015         1064             MOV     DPTR,#0E015H
0151 7409           1065             MOV     A,#09H
0153 F0             1066             MOVX    @DPTR,A
                    1067     ;     P1ETSEL_H = 0x0C;//0xE0;//0xA0;//0x90;//0x0A;//0x09;                       // enable 
                             SOCA,SOCA is CTR = ZERO
                    1068                             ; SOURCE LINE # 265
0154 90E014         1069             MOV     DPTR,#0E014H
0157 740C           1070             MOV     A,#0CH
0159 F0             1071             MOVX    @DPTR,A
                    1072     ;       P2ETSEL_L = 0x00;
                    1073                             ; SOURCE LINE # 266
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    18

015A 90E02B         1074             MOV     DPTR,#0E02BH
015D E4             1075             CLR     A
015E F0             1076             MOVX    @DPTR,A
                    1077     ;       P2ETSEL_H = 0x00;//0xF0;//0x00;
                    1078                             ; SOURCE LINE # 267
015F 90E02A         1079             MOV     DPTR,#0E02AH
0162 E4             1080             CLR     A
0163 F0             1081             MOVX    @DPTR,A
                    1082     ;       P3ETSEL_L = 0x00;
                    1083                             ; SOURCE LINE # 268
0164 90E041         1084             MOV     DPTR,#0E041H
0167 E4             1085             CLR     A
0168 F0             1086             MOVX    @DPTR,A
                    1087     ;       P3ETSEL_H = 0x00;
                    1088                             ; SOURCE LINE # 269
0169 90E040         1089             MOV     DPTR,#0E040H
016C E4             1090             CLR     A
016D F0             1091             MOVX    @DPTR,A
                    1092     ;       P4ETSEL_L = 0x00;
                    1093                             ; SOURCE LINE # 270
016E 90E057         1094             MOV     DPTR,#0E057H
0171 E4             1095             CLR     A
0172 F0             1096             MOVX    @DPTR,A
                    1097     ;       P4ETSEL_H = 0x00;
                    1098                             ; SOURCE LINE # 271
0173 90E056         1099             MOV     DPTR,#0E056H
0176 E4             1100             CLR     A
0177 F0             1101             MOVX    @DPTR,A
                    1102     ;       P1ETPS_L = 0x05;                                                // 1 event 1 interr
                             upt
                    1103                             ; SOURCE LINE # 272
0178 90E017         1104             MOV     DPTR,#0E017H
017B 7405           1105             MOV     A,#05H
017D F0             1106             MOVX    @DPTR,A
                    1107     ;     P1ETPS_H = 0x05;//0x50;//0x05;                        // 1 evnt,SOCA period is 1
                    1108                             ; SOURCE LINE # 273
017E 90E016         1109             MOV     DPTR,#0E016H
0181 7405           1110             MOV     A,#05H
0183 F0             1111             MOVX    @DPTR,A
                    1112     ;       P2ETPS_L = 0x00;
                    1113                             ; SOURCE LINE # 274
0184 90E02D         1114             MOV     DPTR,#0E02DH
0187 E4             1115             CLR     A
0188 F0             1116             MOVX    @DPTR,A
                    1117     ;     P2ETPS_H = 0x00;//0x50;
                    1118                             ; SOURCE LINE # 275
0189 90E02C         1119             MOV     DPTR,#0E02CH
018C E4             1120             CLR     A
018D F0             1121             MOVX    @DPTR,A
                    1122     ;       P3ETPS_L = 0x00;
                    1123                             ; SOURCE LINE # 276
018E 90E043         1124             MOV     DPTR,#0E043H
0191 E4             1125             CLR     A
0192 F0             1126             MOVX    @DPTR,A
                    1127     ;       P4ETPS_L = 0x00;
                    1128                             ; SOURCE LINE # 277
0193 90E059         1129             MOV     DPTR,#0E059H
0196 E4             1130             CLR     A
0197 F0             1131             MOVX    @DPTR,A
                    1132     ; 
                    1133     ;       P1TBPRD_L = 0xD0;                                               // pwm period is 0x
                             0190@8MHz 10KHz 0x7D0@40MHz
                    1134                             ; SOURCE LINE # 279
0198 75A1D0         1135             MOV     P1TBPRD_L,#0D0H
                    1136     ;       P1TBPRD_H = 0x07;
                    1137                             ; SOURCE LINE # 280
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    19

019B 75A207         1138             MOV     P1TBPRD_H,#07H
                    1139     ;       P2TBPRD_L = 0xD0;
                    1140                             ; SOURCE LINE # 281
019E 75C1D0         1141             MOV     P2TBPRD_L,#0D0H
                    1142     ;       P2TBPRD_H = 0x07;
                    1143                             ; SOURCE LINE # 282
01A1 75C207         1144             MOV     P2TBPRD_H,#07H
                    1145     ;       P3TBPRD_L = 0xD0;
                    1146                             ; SOURCE LINE # 283
01A4 75D1D0         1147             MOV     P3TBPRD_L,#0D0H
                    1148     ;       P3TBPRD_H = 0x07;
                    1149                             ; SOURCE LINE # 284
01A7 75D207         1150             MOV     P3TBPRD_H,#07H
                    1151     ;       P4TBPRD_L = 0xD0;
                    1152                             ; SOURCE LINE # 285
01AA 75E1D0         1153             MOV     P4TBPRD_L,#0D0H
                    1154     ;       P4TBPRD_H = 0x07;
                    1155                             ; SOURCE LINE # 286
01AD 75E207         1156             MOV     P4TBPRD_H,#07H
                    1157     ; 
                    1158     ; //    P1TBPRD_L = 0x1F;                                               // pwm period is 10
                             KHz
                    1159     ; //    P1TBPRD_H = 0x03;
                    1160     ; //    P2TBPRD_L = 0x1F;
                    1161     ; //    P2TBPRD_H = 0x03;
                    1162     ; //    P3TBPRD_L = 0x1F;
                    1163     ; //    P3TBPRD_H = 0x03;
                    1164     ; //    P4TBPRD_L = 0x1F;
                    1165     ; //    P4TBPRD_H = 0x03;
                    1166     ; 
                    1167     ;       P1CMPA_L = 0xE8;                                                // pwm period is 0x
                             0C8@8MHz 10KHz
                    1168                             ; SOURCE LINE # 297
01B0 75A3E8         1169             MOV     P1CMPA_L,#0E8H
                    1170     ;       P1CMPA_H = 0x03;
                    1171                             ; SOURCE LINE # 298
01B3 75A403         1172             MOV     P1CMPA_H,#03H
                    1173     ;       //P1CMPB_L = 0xC8;
                    1174     ;       //P1CMPB_H = 0x00;
                    1175     ;       P2CMPA_L = 0xE8;
                    1176                             ; SOURCE LINE # 301
01B6 75C3E8         1177             MOV     P2CMPA_L,#0E8H
                    1178     ;       P2CMPA_H = 0x03;
                    1179                             ; SOURCE LINE # 302
01B9 75C403         1180             MOV     P2CMPA_H,#03H
                    1181     ;       //P2CMPB_L = 0xC8;
                    1182     ;       //P2CMPB_H = 0x00;
                    1183     ;       P3CMPA_L = 0xE8;
                    1184                             ; SOURCE LINE # 305
01BC 75D3E8         1185             MOV     P3CMPA_L,#0E8H
                    1186     ;       P3CMPA_H = 0x03;
                    1187                             ; SOURCE LINE # 306
01BF 75D403         1188             MOV     P3CMPA_H,#03H
                    1189     ;       //P3CMPB_L = 0xC8;
                    1190     ;       //P3CMPB_H = 0x00;
                    1191     ;       P4CMPA_L = 0xE8;
                    1192                             ; SOURCE LINE # 309
01C2 75E3E8         1193             MOV     P4CMPA_L,#0E8H
                    1194     ;       P4CMPA_H = 0x03;
                    1195                             ; SOURCE LINE # 310
01C5 75E403         1196             MOV     P4CMPA_H,#03H
                    1197     ;       //P4CMPB_L = 0xC8;
                    1198     ;       //P4CMPB_H = 0x00;
                    1199     ; 
                    1200     ; //    P1CMPA_L = 0xF4;                                                // pwm period is 0x
                             0C8@8MHz 10KHz
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    20

                    1201     ; //    P1CMPA_H = 0x01;
                    1202     ; //    P1CMPB_L = 0xEE;
                    1203     ; //    P1CMPB_H = 0x02;
                    1204     ; //    P2CMPA_L = 0xE8;
                    1205     ; //    P2CMPA_H = 0x03;
                    1206     ; //    P2CMPB_L = 0xE2;
                    1207     ; //    P2CMPB_H = 0x04;
                    1208     ; //    P3CMPA_L = 0xDC;
                    1209     ; //    P3CMPA_H = 0x05;
                    1210     ; 
                    1211     ; //    P1CMPA_L = 0x90;
                    1212     ; //    P1CMPA_H = 0x01;
                    1213     ; //    P1CMPB_L = 0x90;
                    1214     ; //    P1CMPB_H = 0x01;
                    1215     ; //    P2CMPA_L = 0x90;
                    1216     ; //    P2CMPA_H = 0x01;
                    1217     ; //    P2CMPB_L = 0x90;
                    1218     ; //    P2CMPB_H = 0x01;
                    1219     ; //    P3CMPA_L = 0x90;
                    1220     ; //    P3CMPA_H = 0x01;
                    1221     ; //    P3CMPB_L = 0x90;
                    1222     ; //    P3CMPB_H = 0x01;
                    1223     ; //    P4CMPA_L = 0x90;
                    1224     ; //    P4CMPA_H = 0x01;
                    1225     ; //    P4CMPB_L = 0x90;
                    1226     ; //    P4CMPB_H = 0x01;
                    1227     ; 
                    1228     ; //    OPAMP_SEL = 0xF0;
                    1229     ; //    COMP_INT_EN = COMP_INT_EN | (1 << 0);   // comparator1 interrupt output enable
                    1230     ; //    COMP_INT_SET = COMP_INT_SET & 0xFC;             // comparator1 falling edge trigger
                    1231     ; //    P1_FN_H = P1_FN_H & 0xF3 | 0x08;                // comp1 output
                    1232     ; //    ex1 = 1;                                                                // enable c
                             omp1 to CPU interrupt
                    1233     ; 
                    1234     ;       PCLKCR = PCLKCR | 1;                                    // all epwm channel synchro
                             nize enable
                    1235                             ; SOURCE LINE # 348
01C8 90E000         1236             MOV     DPTR,#0E000H
01CB E0             1237             MOVX    A,@DPTR
01CC FF             1238             MOV     R7,A
01CD EF             1239             MOV     A,R7
01CE 4401           1240             ORL     A,#01H
01D0 FF             1241             MOV     R7,A
01D1 EF             1242             MOV     A,R7
01D2 F0             1243             MOVX    @DPTR,A
                    1244     ; 
                    1245     ;       P1ETCLR = 1;
                    1246                             ; SOURCE LINE # 350
01D3 75B601         1247             MOV     P1ETCLR,#01H
                    1248     ;       I2FR = 1;
                    1249                             ; SOURCE LINE # 351
01D6 D2CD           1250             SETB    I2FR
                    1251     ;       EX2 = 1;                                                                // enable e
                             pwm1,2,3 interrupt
                    1252                             ; SOURCE LINE # 352
01D8 D2B9           1253             SETB    EX2
                    1254     ;       //ex3 = 1;                                                              // enable e
                             pwm4 interrupt
                    1255     ; }
                    1256                             ; SOURCE LINE # 354
01DA                1257     ?C0014:
01DA 22             1258             RET     
                    1259     ; END OF Initepwm
                    1260     
                    1261     ; 
                    1262     ; 
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    21

                    1263     ; void InitComp234(void)
                    1264     
----                1265             RSEG  ?PR?InitComp234?INITIAL
0000                1266     InitComp234:
                    1267             USING   0
                    1268                             ; SOURCE LINE # 357
                    1269     ; {
                    1270                             ; SOURCE LINE # 358
                    1271     ;       P1_FN_L = P1_FN_L & 0x0F | 0xA0;
                    1272                             ; SOURCE LINE # 359
0000 90E0DB         1273             MOV     DPTR,#0E0DBH
0003 E0             1274             MOVX    A,@DPTR
0004 FF             1275             MOV     R7,A
0005 EF             1276             MOV     A,R7
0006 540F           1277             ANL     A,#0FH
0008 FF             1278             MOV     R7,A
0009 EF             1279             MOV     A,R7
000A 44A0           1280             ORL     A,#0A0H
000C FF             1281             MOV     R7,A
000D 90E0DB         1282             MOV     DPTR,#0E0DBH
0010 EF             1283             MOV     A,R7
0011 F0             1284             MOVX    @DPTR,A
                    1285     ;       P1_FN_H = P1_FN_H & 0xF0 | 0x0A;
                    1286                             ; SOURCE LINE # 360
0012 90E0DA         1287             MOV     DPTR,#0E0DAH
0015 E0             1288             MOVX    A,@DPTR
0016 FF             1289             MOV     R7,A
0017 EF             1290             MOV     A,R7
0018 54F0           1291             ANL     A,#0F0H
001A FF             1292             MOV     R7,A
001B EF             1293             MOV     A,R7
001C 440A           1294             ORL     A,#0AH
001E FF             1295             MOV     R7,A
001F 90E0DA         1296             MOV     DPTR,#0E0DAH
0022 EF             1297             MOV     A,R7
0023 F0             1298             MOVX    @DPTR,A
                    1299     ;       //COMP_FILTER_1 = 4;
                    1300     ;       //COMP_FILTER_2 = 4;
                    1301     ;       //COMP_FILTER_3 = 4;
                    1302     ;       //COMP_FILTER_4 = 4;
                    1303     ;       OPAMP_SEL = 0xF0;
                    1304                             ; SOURCE LINE # 365
0024 90E0A5         1305             MOV     DPTR,#0E0A5H
0027 74F0           1306             MOV     A,#0F0H
0029 F0             1307             MOVX    @DPTR,A
                    1308     ;     COMP_INT_SEL = 0xAA;//0;//0x55;                    // comp1 ~ comp4 all trigger at ri
                             se egde
                    1309                             ; SOURCE LINE # 366
002A 90E0C6         1310             MOV     DPTR,#0E0C6H
002D 74AA           1311             MOV     A,#0AAH
002F F0             1312             MOVX    @DPTR,A
                    1313     ;       COMP_INT_EN = 0x3E;//0x1E;//0x14;                                               // 
                             comp2,3,4 interrupt enable,and comp2,3,4 to CPU enable
                    1314                             ; SOURCE LINE # 367
0030 90E0EB         1315             MOV     DPTR,#0E0EBH
0033 743E           1316             MOV     A,#03EH
0035 F0             1317             MOVX    @DPTR,A
                    1318     ;       EX4 = 1;                                                                // external
                              interrupt 4 enable
                    1319                             ; SOURCE LINE # 368
0036 D2BB           1320             SETB    EX4
                    1321     ; }
                    1322                             ; SOURCE LINE # 369
0038                1323     ?C0015:
0038 22             1324             RET     
                    1325     ; END OF InitComp234
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    22

                    1326     
                    1327     ; 
                    1328     ; 
                    1329     ; 
                    1330     ; void InitWatchDog(void)
                    1331     
----                1332             RSEG  ?PR?InitWatchDog?INITIAL
0000                1333     InitWatchDog:
                    1334             USING   0
                    1335                             ; SOURCE LINE # 373
                    1336     ; {
                    1337                             ; SOURCE LINE # 374
                    1338     ;               WDTREL = 0xFF;
                    1339                             ; SOURCE LINE # 375
0000 7586FF         1340             MOV     WDTREL,#0FFH
                    1341     ;       WDT = 1;
                    1342                             ; SOURCE LINE # 376
0003 D2AE           1343             SETB    WDT
                    1344     ;       SWDT = 1;
                    1345                             ; SOURCE LINE # 377
0005 D2BE           1346             SETB    SWDT
                    1347     ;     P1_FN_L = P1_FN_L & 0xFC;               //p1_0 as GPIO
                    1348                             ; SOURCE LINE # 378
0007 90E0DB         1349             MOV     DPTR,#0E0DBH
000A E0             1350             MOVX    A,@DPTR
000B FF             1351             MOV     R7,A
000C EF             1352             MOV     A,R7
000D 54FC           1353             ANL     A,#0FCH
000F FF             1354             MOV     R7,A
0010 EF             1355             MOV     A,R7
0011 F0             1356             MOVX    @DPTR,A
                    1357     ;     P1_DD = P1_DD & 0xFE;                     //p1_0 as output
                    1358                             ; SOURCE LINE # 379
0012 90E0DC         1359             MOV     DPTR,#0E0DCH
0015 E0             1360             MOVX    A,@DPTR
0016 FF             1361             MOV     R7,A
0017 EF             1362             MOV     A,R7
0018 54FE           1363             ANL     A,#0FEH
001A FF             1364             MOV     R7,A
001B EF             1365             MOV     A,R7
001C F0             1366             MOVX    @DPTR,A
                    1367     ; }
                    1368                             ; SOURCE LINE # 380
001D                1369     ?C0016:
001D 22             1370             RET     
                    1371     ; END OF InitWatchDog
                    1372     
                    1373     ; 
                    1374     ; 
                    1375     ; void InitGPIO(void)
                    1376     
----                1377             RSEG  ?PR?InitGPIO?INITIAL
0000                1378     InitGPIO:
                    1379             USING   0
                    1380                             ; SOURCE LINE # 383
                    1381     ; {
                    1382                             ; SOURCE LINE # 384
                    1383     ;               P0_FN_L = 0x00;                                                            
                                  // P00 ~ P03as GPIO
                    1384                             ; SOURCE LINE # 385
0000 90E0D5         1385             MOV     DPTR,#0E0D5H
0003 E4             1386             CLR     A
0004 F0             1387             MOVX    @DPTR,A
                    1388     ;               P0_FN_H = 0x00;                                                            
                                  // P04 ~ P07 as GPIO
                    1389                             ; SOURCE LINE # 386
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    23

0005 90E0D4         1390             MOV     DPTR,#0E0D4H
0008 E4             1391             CLR     A
0009 F0             1392             MOVX    @DPTR,A
                    1393     ;               P0_DD = 0x00;                                                              
                                          //      P00 ~  P07 intput
                    1394                             ; SOURCE LINE # 387
000A 90E0D6         1395             MOV     DPTR,#0E0D6H
000D E4             1396             CLR     A
000E F0             1397             MOVX    @DPTR,A
                    1398     ;               P0_PE = 0xFF;                                                              
                                          // output resistor enable       
                    1399                             ; SOURCE LINE # 388
000F 90E0D8         1400             MOV     DPTR,#0E0D8H
0012 74FF           1401             MOV     A,#0FFH
0014 F0             1402             MOVX    @DPTR,A
                    1403     ;               P0_DS = 0x00;                                                              
                                          //drive current =4mA
                    1404                             ; SOURCE LINE # 389
0015 90E0D7         1405             MOV     DPTR,#0E0D7H
0018 E4             1406             CLR     A
0019 F0             1407             MOVX    @DPTR,A
                    1408     ;               P0_PS=  0x00;                                                              
                                          //pull down resistor 
                    1409                             ; SOURCE LINE # 390
001A 90E0D9         1410             MOV     DPTR,#0E0D9H
001D E4             1411             CLR     A
001E F0             1412             MOVX    @DPTR,A
                    1413     ;       
                    1414     ;               P1_FN_L = 0x00;                                                            
                                  // P10 ~ P13 as GPIO
                    1415                             ; SOURCE LINE # 392
001F 90E0DB         1416             MOV     DPTR,#0E0DBH
0022 E4             1417             CLR     A
0023 F0             1418             MOVX    @DPTR,A
                    1419     ;               P1_FN_H = 0x00;                                                            
                                  // P14 ~ P17 as GPIO
                    1420                             ; SOURCE LINE # 393
0024 90E0DA         1421             MOV     DPTR,#0E0DAH
0027 E4             1422             CLR     A
0028 F0             1423             MOVX    @DPTR,A
                    1424     ;               P1_DD = 0x00;                                                              
                                          // P10 ~ P17 intput
                    1425                             ; SOURCE LINE # 394
0029 90E0DC         1426             MOV     DPTR,#0E0DCH
002C E4             1427             CLR     A
002D F0             1428             MOVX    @DPTR,A
                    1429     ;               P1_PE = 0xFF;                                                              
                                          // output resistor enable       
                    1430                             ; SOURCE LINE # 395
002E 90E0DE         1431             MOV     DPTR,#0E0DEH
0031 74FF           1432             MOV     A,#0FFH
0033 F0             1433             MOVX    @DPTR,A
                    1434     ;               P1_DS = 0x00;                                                              
                                          //drive current =4mA
                    1435                             ; SOURCE LINE # 396
0034 90E0DD         1436             MOV     DPTR,#0E0DDH
0037 E4             1437             CLR     A
0038 F0             1438             MOVX    @DPTR,A
                    1439     ;               P1_PS=  0x00;                                                              
                                          //pull down resistor 
                    1440                             ; SOURCE LINE # 397
0039 90E0DF         1441             MOV     DPTR,#0E0DFH
003C E4             1442             CLR     A
003D F0             1443             MOVX    @DPTR,A
                    1444     ;       
                    1445     ;               P2_FN_L = 0x00;                                                            
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    24

                                  // P20 ~ P23 as GPIO
                    1446                             ; SOURCE LINE # 399
003E 90E0E1         1447             MOV     DPTR,#0E0E1H
0041 E4             1448             CLR     A
0042 F0             1449             MOVX    @DPTR,A
                    1450     ;               P2_FN_H = 0x00;                                                            
                                  // P24 ~ P27 as GPIO
                    1451                             ; SOURCE LINE # 400
0043 90E0E0         1452             MOV     DPTR,#0E0E0H
0046 E4             1453             CLR     A
0047 F0             1454             MOVX    @DPTR,A
                    1455     ;               P2_DD = 0x00;                                                              
                                          // P20~ P27 intput
                    1456                             ; SOURCE LINE # 401
0048 90E0E2         1457             MOV     DPTR,#0E0E2H
004B E4             1458             CLR     A
004C F0             1459             MOVX    @DPTR,A
                    1460     ;               P2_PE = 0xFF;                                                              
                                          // pull/down resistor enable    
                    1461                             ; SOURCE LINE # 402
004D 90E0E4         1462             MOV     DPTR,#0E0E4H
0050 74FF           1463             MOV     A,#0FFH
0052 F0             1464             MOVX    @DPTR,A
                    1465     ;               P2_DS = 0x00;                                                              
                                          //drive current =4mA
                    1466                             ; SOURCE LINE # 403
0053 90E0E3         1467             MOV     DPTR,#0E0E3H
0056 E4             1468             CLR     A
0057 F0             1469             MOVX    @DPTR,A
                    1470     ;               P2_PS=  0x00;                                                              
                                          //pull down resistor 
                    1471                             ; SOURCE LINE # 404
0058 90E0E5         1472             MOV     DPTR,#0E0E5H
005B E4             1473             CLR     A
005C F0             1474             MOVX    @DPTR,A
                    1475     ;       
                    1476     ;       // use P26 and P00 as output
                    1477     ;       
                    1478     ;     P00_FN= CFG0;                      // P00 as GPIO
                    1479                             ; SOURCE LINE # 408
005D 90E0D5         1480             MOV     DPTR,#0E0D5H
0060 E0             1481             MOVX    A,@DPTR
0061 FF             1482             MOV     R7,A
0062 EF             1483             MOV     A,R7
0063 54FC           1484             ANL     A,#0FCH
0065 FF             1485             MOV     R7,A
0066 EF             1486             MOV     A,R7
0067 F0             1487             MOVX    @DPTR,A
                    1488     ;     P00_DD = OUTPUT;               //P00 as output
                    1489                             ; SOURCE LINE # 409
0068 90E0D6         1490             MOV     DPTR,#0E0D6H
006B E0             1491             MOVX    A,@DPTR
006C FF             1492             MOV     R7,A
006D EF             1493             MOV     A,R7
006E 4401           1494             ORL     A,#01H
0070 FF             1495             MOV     R7,A
0071 EF             1496             MOV     A,R7
0072 F0             1497             MOVX    @DPTR,A
                    1498     ;     P00_PE = RES_DIS;               //P00 pull resistor off
                    1499                             ; SOURCE LINE # 410
0073 90E0D8         1500             MOV     DPTR,#0E0D8H
0076 E0             1501             MOVX    A,@DPTR
0077 FF             1502             MOV     R7,A
0078 EF             1503             MOV     A,R7
0079 54FE           1504             ANL     A,#0FEH
007B FF             1505             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    25

007C EF             1506             MOV     A,R7
007D F0             1507             MOVX    @DPTR,A
                    1508     ;               P00_DS = I_4MA;
                    1509                             ; SOURCE LINE # 411
007E 90E0D7         1510             MOV     DPTR,#0E0D7H
0081 E0             1511             MOVX    A,@DPTR
0082 FF             1512             MOV     R7,A
0083 EF             1513             MOV     A,R7
0084 54FE           1514             ANL     A,#0FEH
0086 FF             1515             MOV     R7,A
0087 EF             1516             MOV     A,R7
0088 F0             1517             MOVX    @DPTR,A
                    1518     ; 
                    1519     ;     P26_FN = CFG0;               //P26 as GPIO
                    1520                             ; SOURCE LINE # 413
0089 90E0E0         1521             MOV     DPTR,#0E0E0H
008C E0             1522             MOVX    A,@DPTR
008D FF             1523             MOV     R7,A
008E EF             1524             MOV     A,R7
008F 54CF           1525             ANL     A,#0CFH
0091 FF             1526             MOV     R7,A
0092 EF             1527             MOV     A,R7
0093 F0             1528             MOVX    @DPTR,A
                    1529     ;     P26_DD = OUTPUT;               //P26 as output
                    1530                             ; SOURCE LINE # 414
0094 90E0E2         1531             MOV     DPTR,#0E0E2H
0097 E0             1532             MOVX    A,@DPTR
0098 FF             1533             MOV     R7,A
0099 EF             1534             MOV     A,R7
009A 4440           1535             ORL     A,#040H
009C FF             1536             MOV     R7,A
009D EF             1537             MOV     A,R7
009E F0             1538             MOVX    @DPTR,A
                    1539     ;     P26_PE = RES_DIS;               //P26 output resistor off
                    1540                             ; SOURCE LINE # 415
009F 90E0E4         1541             MOV     DPTR,#0E0E4H
00A2 E0             1542             MOVX    A,@DPTR
00A3 FF             1543             MOV     R7,A
00A4 EF             1544             MOV     A,R7
00A5 54BF           1545             ANL     A,#0BFH
00A7 FF             1546             MOV     R7,A
00A8 EF             1547             MOV     A,R7
00A9 F0             1548             MOVX    @DPTR,A
                    1549     ;               P26_DS = I_4MA;
                    1550                             ; SOURCE LINE # 416
00AA 90E0E3         1551             MOV     DPTR,#0E0E3H
00AD E0             1552             MOVX    A,@DPTR
00AE FF             1553             MOV     R7,A
00AF EF             1554             MOV     A,R7
00B0 54BF           1555             ANL     A,#0BFH
00B2 FF             1556             MOV     R7,A
00B3 EF             1557             MOV     A,R7
00B4 F0             1558             MOVX    @DPTR,A
                    1559     ; 
                    1560     ;       
                    1561     ;       
                    1562     ;       
                    1563     ;       // use P20 as EXT2
                    1564     ;       
                    1565     ;           P20_FN= CFG1;                //P20 as EXT2
                    1566                             ; SOURCE LINE # 423
00B5 90E0E1         1567             MOV     DPTR,#0E0E1H
00B8 E0             1568             MOVX    A,@DPTR
00B9 FF             1569             MOV     R7,A
00BA EF             1570             MOV     A,R7
00BB 54FC           1571             ANL     A,#0FCH
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    26

00BD FF             1572             MOV     R7,A
00BE EF             1573             MOV     A,R7
00BF 4401           1574             ORL     A,#01H
00C1 FF             1575             MOV     R7,A
00C2 EF             1576             MOV     A,R7
00C3 F0             1577             MOVX    @DPTR,A
                    1578     ;                       P20_DD = INPUT;               //P20 as input
                    1579                             ; SOURCE LINE # 424
00C4 90E0E2         1580             MOV     DPTR,#0E0E2H
00C7 E0             1581             MOVX    A,@DPTR
00C8 FF             1582             MOV     R7,A
00C9 EF             1583             MOV     A,R7
00CA 54FE           1584             ANL     A,#0FEH
00CC FF             1585             MOV     R7,A
00CD EF             1586             MOV     A,R7
00CE F0             1587             MOVX    @DPTR,A
                    1588     ;                       P20_PE = RES_EN;               // P20 output resistor enable
                    1589                             ; SOURCE LINE # 425
00CF 90E0E4         1590             MOV     DPTR,#0E0E4H
00D2 E0             1591             MOVX    A,@DPTR
00D3 FF             1592             MOV     R7,A
00D4 EF             1593             MOV     A,R7
00D5 4401           1594             ORL     A,#01H
00D7 FF             1595             MOV     R7,A
00D8 EF             1596             MOV     A,R7
00D9 F0             1597             MOVX    @DPTR,A
                    1598     ;                       P20_PS = PULL_DOWN;               //P20 with pull down resistor
                    1599                             ; SOURCE LINE # 426
00DA 90E0E5         1600             MOV     DPTR,#0E0E5H
00DD E0             1601             MOVX    A,@DPTR
00DE FF             1602             MOV     R7,A
00DF EF             1603             MOV     A,R7
00E0 54FE           1604             ANL     A,#0FEH
00E2 FF             1605             MOV     R7,A
00E3 EF             1606             MOV     A,R7
00E4 F0             1607             MOVX    @DPTR,A
                    1608     ;       
                    1609     ;               hh=P2_FN_L|0x0;
                    1610                             ; SOURCE LINE # 428
00E5 90E0E1         1611             MOV     DPTR,#0E0E1H
00E8 E0             1612             MOVX    A,@DPTR
00E9 FF             1613             MOV     R7,A
00EA 8F00     F     1614             MOV     hh,R7
                    1615     ;       
                    1616     ; }
                    1617                             ; SOURCE LINE # 430
00EC                1618     ?C0017:
00EC 22             1619             RET     
                    1620     ; END OF InitGPIO
                    1621     
                    1622     ; 
                    1623     ; void InitTimer01(void)
                    1624     
----                1625             RSEG  ?PR?InitTimer01?INITIAL
0000                1626     InitTimer01:
                    1627             USING   0
                    1628                             ; SOURCE LINE # 432
                    1629     ; {
                    1630                             ; SOURCE LINE # 433
                    1631     ;               T01_DIV = 0x0240;                 //clock divider is 122
                    1632                             ; SOURCE LINE # 434
0000 90E0EE         1633             MOV     DPTR,#0E0EEH
0003 7402           1634             MOV     A,#02H
0005 F0             1635             MOVX    @DPTR,A
0006 A3             1636             INC     DPTR
0007 7440           1637             MOV     A,#040H
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    27

0009 F0             1638             MOVX    @DPTR,A
                    1639     ;     TMOD = TMOD & 0xF0 | (3 << 0);                     //timer0 is 16bit timer
                    1640                             ; SOURCE LINE # 435
000A E589           1641             MOV     A,TMOD
000C 54F0           1642             ANL     A,#0F0H
000E FF             1643             MOV     R7,A
000F EF             1644             MOV     A,R7
0010 4403           1645             ORL     A,#03H
0012 F589           1646             MOV     TMOD,A
                    1647     ;     TL0 = 0x00;
                    1648                             ; SOURCE LINE # 436
0014 758A00         1649             MOV     TL0,#00H
                    1650     ;     TH0= 0x00;
                    1651                             ; SOURCE LINE # 437
0017 758C00         1652             MOV     TH0,#00H
                    1653     ;               
                    1654     ;     ET0 = 1;                                //enable timer0 overflow interrupt
                    1655                             ; SOURCE LINE # 439
001A D2A9           1656             SETB    ET0
                    1657     ;     ET1 = 1;                                //enable timer1 overflow interrupt
                    1658                             ; SOURCE LINE # 440
001C D2AB           1659             SETB    ET1
                    1660     ;               TR0= 1;                                //start timer0
                    1661                             ; SOURCE LINE # 441
001E D28C           1662             SETB    TR0
                    1663     ;               TR1 = 1;    
                    1664                             ; SOURCE LINE # 442
0020 D28E           1665             SETB    TR1
                    1666     ; }
                    1667                             ; SOURCE LINE # 443
0022                1668     ?C0018:
0022 22             1669             RET     
                    1670     ; END OF InitTimer01
                    1671     
                    1672     ; 
                    1673     ; void InitTimer3(void)
                    1674     
----                1675             RSEG  ?PR?InitTimer3?INITIAL
0000                1676     InitTimer3:
                    1677             USING   0
                    1678                             ; SOURCE LINE # 445
                    1679     ; {
                    1680                             ; SOURCE LINE # 446
                    1681     ;       T3PS = 0;                                                               // no divid
                             er
                    1682                             ; SOURCE LINE # 447
0000 90E0C9         1683             MOV     DPTR,#0E0C9H
0003 E4             1684             CLR     A
0004 F0             1685             MOVX    @DPTR,A
                    1686     ;       T3RC= 0x00C0;
                    1687                             ; SOURCE LINE # 448
0005 90E0CC         1688             MOV     DPTR,#0E0CCH
0008 E4             1689             CLR     A
0009 F0             1690             MOVX    @DPTR,A
000A A3             1691             INC     DPTR
000B 74C0           1692             MOV     A,#0C0H
000D F0             1693             MOVX    @DPTR,A
                    1694     ; 
                    1695     ;       T3TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    1696                             ; SOURCE LINE # 450
000E 90E0C8         1697             MOV     DPTR,#0E0C8H
0011 E0             1698             MOVX    A,@DPTR
0012 FF             1699             MOV     R7,A
0013 EF             1700             MOV     A,R7
0014 4420           1701             ORL     A,#020H
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    28

0016 FF             1702             MOV     R7,A
0017 EF             1703             MOV     A,R7
0018 F0             1704             MOVX    @DPTR,A
                    1705     ;       T3TR = 1;                               // start timer4
                    1706                             ; SOURCE LINE # 451
0019 90E0C8         1707             MOV     DPTR,#0E0C8H
001C E0             1708             MOVX    A,@DPTR
001D FF             1709             MOV     R7,A
001E EF             1710             MOV     A,R7
001F 4404           1711             ORL     A,#04H
0021 FF             1712             MOV     R7,A
0022 EF             1713             MOV     A,R7
0023 F0             1714             MOVX    @DPTR,A
                    1715     ;       CLR_T3_INT();
                    1716                             ; SOURCE LINE # 452
0024 53F9E0         1717             ANL     INT_REG1,#0E0H
                    1718     ;       IE1=0;
                    1719                             ; SOURCE LINE # 453
0027 C28B           1720             CLR     IE1
                    1721     ;        EX1=1;
                    1722                             ; SOURCE LINE # 454
0029 D2AA           1723             SETB    EX1
                    1724     ; }
                    1725                             ; SOURCE LINE # 455
002B                1726     ?C0019:
002B 22             1727             RET     
                    1728     ; END OF InitTimer3
                    1729     
                    1730     ; 
                    1731     ; void InitTimer4(void)
                    1732     
----                1733             RSEG  ?PR?InitTimer4?INITIAL
0000                1734     InitTimer4:
                    1735             USING   0
                    1736                             ; SOURCE LINE # 457
                    1737     ; {
                    1738                             ; SOURCE LINE # 458
                    1739     ;       T4PS = 0;                                                               // no divid
                             er
                    1740                             ; SOURCE LINE # 459
0000 90E0CF         1741             MOV     DPTR,#0E0CFH
0003 E4             1742             CLR     A
0004 F0             1743             MOVX    @DPTR,A
                    1744     ;       T4RC = 0xE0C0;
                    1745                             ; SOURCE LINE # 460
0005 90E0D2         1746             MOV     DPTR,#0E0D2H
0008 74E0           1747             MOV     A,#0E0H
000A F0             1748             MOVX    @DPTR,A
000B A3             1749             INC     DPTR
000C 74C0           1750             MOV     A,#0C0H
000E F0             1751             MOVX    @DPTR,A
                    1752     ; 
                    1753     ;       T4TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    1754                             ; SOURCE LINE # 462
000F 90E0CE         1755             MOV     DPTR,#0E0CEH
0012 E0             1756             MOVX    A,@DPTR
0013 FF             1757             MOV     R7,A
0014 EF             1758             MOV     A,R7
0015 4420           1759             ORL     A,#020H
0017 FF             1760             MOV     R7,A
0018 EF             1761             MOV     A,R7
0019 F0             1762             MOVX    @DPTR,A
                    1763     ;       T4TR = 1;                               // start timer4
                    1764                             ; SOURCE LINE # 463
001A 90E0CE         1765             MOV     DPTR,#0E0CEH
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    29

001D E0             1766             MOVX    A,@DPTR
001E FF             1767             MOV     R7,A
001F EF             1768             MOV     A,R7
0020 4404           1769             ORL     A,#04H
0022 FF             1770             MOV     R7,A
0023 EF             1771             MOV     A,R7
0024 F0             1772             MOVX    @DPTR,A
                    1773     ;       CLR_T4_INT();
                    1774                             ; SOURCE LINE # 464
0025 53FEF0         1775             ANL     INT_REG4,#0F0H
                    1776     ;       EX6 = 1;
                    1777                             ; SOURCE LINE # 465
0028 D2BD           1778             SETB    EX6
                    1779     ;       IEX6=0;
                    1780                             ; SOURCE LINE # 466
002A C2C5           1781             CLR     IEX6
                    1782     ; }
                    1783                             ; SOURCE LINE # 467
002C                1784     ?C0020:
002C 22             1785             RET     
                    1786     ; END OF InitTimer4
                    1787     
                    1788     ; void InitTimer5(void)
                    1789     
----                1790             RSEG  ?PR?InitTimer5?INITIAL
0000                1791     InitTimer5:
                    1792             USING   0
                    1793                             ; SOURCE LINE # 468
                    1794     ; {
                    1795                             ; SOURCE LINE # 469
                    1796     ;       T5PS = 0;                                                                          
                                          // no divider
                    1797                             ; SOURCE LINE # 470
0000 90E0F4         1798             MOV     DPTR,#0E0F4H
0003 E4             1799             CLR     A
0004 F0             1800             MOVX    @DPTR,A
                    1801     ;       T5RC = 0x10C0;
                    1802                             ; SOURCE LINE # 471
0005 90E0F7         1803             MOV     DPTR,#0E0F7H
0008 7410           1804             MOV     A,#010H
000A F0             1805             MOVX    @DPTR,A
000B A3             1806             INC     DPTR
000C 74C0           1807             MOV     A,#0C0H
000E F0             1808             MOVX    @DPTR,A
                    1809     ;       
                    1810     ;       T5TF_EINT        =1;                                                            // 
                             timer4 overflow interrupt enable
                    1811                             ; SOURCE LINE # 473
000F 90E0F3         1812             MOV     DPTR,#0E0F3H
0012 E0             1813             MOVX    A,@DPTR
0013 FF             1814             MOV     R7,A
0014 EF             1815             MOV     A,R7
0015 4420           1816             ORL     A,#020H
0017 FF             1817             MOV     R7,A
0018 EF             1818             MOV     A,R7
0019 F0             1819             MOVX    @DPTR,A
                    1820     ;       T5TR = 1;                                                                          
                                          // start timer4
                    1821                             ; SOURCE LINE # 474
001A 90E0F3         1822             MOV     DPTR,#0E0F3H
001D E0             1823             MOVX    A,@DPTR
001E FF             1824             MOV     R7,A
001F EF             1825             MOV     A,R7
0020 4404           1826             ORL     A,#04H
0022 FF             1827             MOV     R7,A
0023 EF             1828             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    30

0024 F0             1829             MOVX    @DPTR,A
                    1830     ;       T5TF=0;                                                                            
                                          // clear interrupt flag
                    1831                             ; SOURCE LINE # 475
0025 90E0F3         1832             MOV     DPTR,#0E0F3H
0028 E0             1833             MOVX    A,@DPTR
0029 FF             1834             MOV     R7,A
002A EF             1835             MOV     A,R7
002B 547F           1836             ANL     A,#07FH
002D FF             1837             MOV     R7,A
002E EF             1838             MOV     A,R7
002F F0             1839             MOVX    @DPTR,A
                    1840     ; 
                    1841     ;       
                    1842     ;       I3FR=1;
                    1843                             ; SOURCE LINE # 478
0030 D2CE           1844             SETB    I3FR
                    1845     ;       EX3 = 1;
                    1846                             ; SOURCE LINE # 479
0032 D2BA           1847             SETB    EX3
                    1848     ;       IEX3=0;
                    1849                             ; SOURCE LINE # 480
0034 C2C2           1850             CLR     IEX3
                    1851     ; }
                    1852                             ; SOURCE LINE # 481
0036                1853     ?C0021:
0036 22             1854             RET     
                    1855     ; END OF InitTimer5
                    1856     
                    1857     ; void InitTimer6(void)
                    1858     
----                1859             RSEG  ?PR?InitTimer6?INITIAL
0000                1860     InitTimer6:
                    1861             USING   0
                    1862                             ; SOURCE LINE # 482
                    1863     ; {
                    1864                             ; SOURCE LINE # 483
                    1865     ;       T6PS = 0;                                                                          
                                          // no divider
                    1866                             ; SOURCE LINE # 484
0000 90E0FA         1867             MOV     DPTR,#0E0FAH
0003 E4             1868             CLR     A
0004 F0             1869             MOVX    @DPTR,A
                    1870     ;       T6RC = 0x10C0;
                    1871                             ; SOURCE LINE # 485
0005 90E0FD         1872             MOV     DPTR,#0E0FDH
0008 7410           1873             MOV     A,#010H
000A F0             1874             MOVX    @DPTR,A
000B A3             1875             INC     DPTR
000C 74C0           1876             MOV     A,#0C0H
000E F0             1877             MOVX    @DPTR,A
                    1878     ;       
                    1879     ;       T6TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    1880                             ; SOURCE LINE # 487
000F 90E0F9         1881             MOV     DPTR,#0E0F9H
0012 E0             1882             MOVX    A,@DPTR
0013 FF             1883             MOV     R7,A
0014 EF             1884             MOV     A,R7
0015 4420           1885             ORL     A,#020H
0017 FF             1886             MOV     R7,A
0018 EF             1887             MOV     A,R7
0019 F0             1888             MOVX    @DPTR,A
                    1889     ;       T6TR = 1;                                                                          
                                  // start timer4
                    1890                             ; SOURCE LINE # 488
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    31

001A 90E0F9         1891             MOV     DPTR,#0E0F9H
001D E0             1892             MOVX    A,@DPTR
001E FF             1893             MOV     R7,A
001F EF             1894             MOV     A,R7
0020 4404           1895             ORL     A,#04H
0022 FF             1896             MOV     R7,A
0023 EF             1897             MOV     A,R7
0024 F0             1898             MOVX    @DPTR,A
                    1899     ;       T6TF=0;                                                                            
                                  // clear interrupt flag
                    1900                             ; SOURCE LINE # 489
0025 90E0F9         1901             MOV     DPTR,#0E0F9H
0028 E0             1902             MOVX    A,@DPTR
0029 FF             1903             MOV     R7,A
002A EF             1904             MOV     A,R7
002B 547F           1905             ANL     A,#07FH
002D FF             1906             MOV     R7,A
002E EF             1907             MOV     A,R7
002F F0             1908             MOVX    @DPTR,A
                    1909     ; 
                    1910     ;       
                    1911     ; 
                    1912     ;       EX5 = 1;
                    1913                             ; SOURCE LINE # 493
0030 D2BC           1914             SETB    EX5
                    1915     ;       IEX5=0;
                    1916                             ; SOURCE LINE # 494
0032 C2C4           1917             CLR     IEX5
                    1918     ; }
                    1919                             ; SOURCE LINE # 495
0034                1920     ?C0022:
0034 22             1921             RET     
                    1922     ; END OF InitTimer6
                    1923     
                    1924     ; void SystemClock(void)
                    1925     
----                1926             RSEG  ?PR?SystemClock?INITIAL
0000                1927     SystemClock:
                    1928             USING   0
                    1929                             ; SOURCE LINE # 496
                    1930     ; {
                    1931                             ; SOURCE LINE # 497
                    1932     ;     RC80M_RES = 0x2e;
                    1933                             ; SOURCE LINE # 498
0000 90E0B2         1934             MOV     DPTR,#0E0B2H
0003 742E           1935             MOV     A,#02EH
0005 F0             1936             MOVX    @DPTR,A
                    1937     ;         #pragma asm
                    1938     ;               nop
0006 00             1939               nop
                    1940     ;               nop
0007 00             1941               nop
                    1942     ;               nop
0008 00             1943               nop
                    1944     ;               nop
0009 00             1945               nop
                    1946     ;               nop
000A 00             1947               nop
                    1948     ;               nop
000B 00             1949               nop
                    1950     ;               nop
000C 00             1951               nop
                    1952     ;               nop
000D 00             1953               nop
                    1954     ;               nop
000E 00             1955               nop
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    32

                    1956     ;               nop
000F 00             1957               nop
                    1958     ;               nop
0010 00             1959               nop
                    1960     ;               nop
0011 00             1961               nop
                    1962     ;               nop
0012 00             1963               nop
                    1964     ;               nop
0013 00             1965               nop
                    1966     ;               nop
0014 00             1967               nop
                    1968     ;               nop
0015 00             1969               nop
                    1970     ;               nop
0016 00             1971               nop
                    1972     ;               nop
0017 00             1973               nop
                    1974     ;               nop
0018 00             1975               nop
                    1976     ;               nop
0019 00             1977               nop
                    1978     ;               nop
001A 00             1979               nop
                    1980     ;               nop
001B 00             1981               nop
                    1982     ;               nop
001C 00             1983               nop
                    1984     ;               nop
001D 00             1985               nop
                    1986     ;               nop
001E 00             1987               nop
                    1988     ;               nop
001F 00             1989               nop
                    1990     ;               nop
0020 00             1991               nop
                    1992     ;               nop
0021 00             1993               nop
                    1994     ;               nop
0022 00             1995               nop
                    1996     ;               nop
0023 00             1997               nop
                    1998     ;               nop
0024 00             1999               nop
                    2000     ;               nop
0025 00             2001               nop
                    2002     ;               nop
0026 00             2003               nop
                    2004     ;               #pragma endasm
                    2005     ;       
                    2006     ;         CLK_DIV_L = 0x02;
                    2007                             ; SOURCE LINE # 535
0027 90E0E7         2008             MOV     DPTR,#0E0E7H
002A 7402           2009             MOV     A,#02H
002C F0             2010             MOVX    @DPTR,A
                    2011     ;         CLK_DIV_H = 0x00;
                    2012                             ; SOURCE LINE # 536
002D 90E0E6         2013             MOV     DPTR,#0E0E6H
0030 E4             2014             CLR     A
0031 F0             2015             MOVX    @DPTR,A
                    2016     ;               
                    2017     ;               #pragma asm
                    2018     ;               nop
0032 00             2019               nop
                    2020     ;               nop
0033 00             2021               nop
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    33

                    2022     ;               nop
0034 00             2023               nop
                    2024     ;               nop
0035 00             2025               nop
                    2026     ;               nop
0036 00             2027               nop
                    2028     ;               nop
0037 00             2029               nop
                    2030     ;               nop
0038 00             2031               nop
                    2032     ;               nop
0039 00             2033               nop
                    2034     ;               nop
003A 00             2035               nop
                    2036     ;               nop
003B 00             2037               nop
                    2038     ;               nop
003C 00             2039               nop
                    2040     ;               nop
003D 00             2041               nop
                    2042     ;               nop
003E 00             2043               nop
                    2044     ;               nop
003F 00             2045               nop
                    2046     ;               nop
0040 00             2047               nop
                    2048     ;               nop
0041 00             2049               nop
                    2050     ;               nop
0042 00             2051               nop
                    2052     ;               nop
0043 00             2053               nop
                    2054     ;               nop
0044 00             2055               nop
                    2056     ;               nop
0045 00             2057               nop
                    2058     ;               nop
0046 00             2059               nop
                    2060     ;               nop
0047 00             2061               nop
                    2062     ;               nop
0048 00             2063               nop
                    2064     ;               nop
0049 00             2065               nop
                    2066     ;               nop
004A 00             2067               nop
                    2068     ;               nop
004B 00             2069               nop
                    2070     ;               nop
004C 00             2071               nop
                    2072     ;               nop
004D 00             2073               nop
                    2074     ;               nop
004E 00             2075               nop
                    2076     ;               nop
004F 00             2077               nop
                    2078     ;               nop
0050 00             2079               nop
                    2080     ;               nop
0051 00             2081               nop
                    2082     ;               #pragma endasm
                    2083     ; }
                    2084                             ; SOURCE LINE # 572
0052                2085     ?C0023:
0052 22             2086             RET     
                    2087     ; END OF SystemClock
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    34

                    2088     
                    2089     ; 
                    2090     ; 
                    2091     ; 
                    2092     ; //initial UART1, there are 2 different ways to generate baudrate
                    2093     ; //way 1
                    2094     ; void sInitUART1(void)
                    2095     
----                2096             RSEG  ?PR?sInitUART1?INITIAL
0000                2097     sInitUART1:
                    2098                             ; SOURCE LINE # 578
                    2099     ; {
                    2100                             ; SOURCE LINE # 579
                    2101     ;       S0CON  = 0x50;                // set as 8-bit UART,  enable serial 0 reception, ena
                             ble serial 0 multiprocessor function
                    2102                             ; SOURCE LINE # 580
0000 759850         2103             MOV     S0CON,#050H
                    2104     ;     WDCON = 0x80;            // 0x80: baud rate = (2^smod) * Fclk / (64 * (2^10 - s0rel))
                             ;
                    2105                             ; SOURCE LINE # 581
0003 75D880         2106             MOV     WDCON,#080H
                    2107     ;                               // 0x00: baud rate = (2^smod) * Fclk / (32 * 12 * (256 - th
                             1));
                    2108     ;                               // smod = 0;    Fclk = system clock
                    2109     ;     S0RELL = 0xF3;             //Fclk = 8MHz, baud rate = 9600
                    2110                             ; SOURCE LINE # 584
0006 75AAF3         2111             MOV     S0RELL,#0F3H
                    2112     ;     S0RELH = 0x03;    
                    2113                             ; SOURCE LINE # 585
0009 75BA03         2114             MOV     S0RELH,#03H
                    2115     ; }
                    2116                             ; SOURCE LINE # 586
000C                2117     ?C0024:
000C 22             2118             RET     
                    2119     ; END OF sInitUART1
                    2120     
                    2121     ; 
                    2122     ; void sInitUART2(void)
                    2123     
----                2124             RSEG  ?PR?sInitUART2?INITIAL
0000                2125     sInitUART2:
                    2126                             ; SOURCE LINE # 588
                    2127     ; {
                    2128                             ; SOURCE LINE # 589
                    2129     ;     S1CON  = 0x90;                    //enable serial 1 reception, enable serial 0 multip
                             rocessor function
                    2130                             ; SOURCE LINE # 590
0000 759B90         2131             MOV     S1CON,#090H
                    2132     ;                                 //s1con.7 = 1: 8-bit UART(mode B)    s1con.7 = 0: 9-bit U
                             ART(mode A)
                    2133     ;     S1RELL = 0xE6;            //baud rate = Fclk / (32 * (2^10 - s0rel));
                    2134                             ; SOURCE LINE # 592
0003 759DE6         2135             MOV     S1RELL,#0E6H
                    2136     ;     S1RELH = 0x03;              //Fclk = 8MHz, baud rate = 9600
                    2137                             ; SOURCE LINE # 593
0006 75BB03         2138             MOV     S1RELH,#03H
                    2139     ; }
                    2140                             ; SOURCE LINE # 594
0009                2141     ?C0025:
0009 22             2142             RET     
                    2143     ; END OF sInitUART2
                    2144     
                    2145             END
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    35

SYMBOL TABLE LISTING
------ ----- -------


N A M E                        T Y P E  V A L U E   ATTRIBUTES

?C0001. . . . . . . . . . . .  C ADDR   001EH   R   SEG=?PR?INITEXT?INITIAL
?C0002. . . . . . . . . . . .  C ADDR   0019H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0003. . . . . . . . . . . .  C ADDR   0039H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0004. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0005. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0006. . . . . . . . . . . .  C ADDR   002DH   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0007. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0008. . . . . . . . . . . .  C ADDR   0037H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0009. . . . . . . . . . . .  C ADDR   0045H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0010. . . . . . . . . . . .  C ADDR   0009H   R   SEG=?PR?INITBREAKPOINT?INITIAL
?C0011. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?EPWMOUTPUTDISABLE?INITIAL
?C0012. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?EPWMOUTPUTENABLE?INITIAL
?C0013. . . . . . . . . . . .  C ADDR   008BH   R   SEG=?PR?INITADC?INITIAL
?C0014. . . . . . . . . . . .  C ADDR   01DAH   R   SEG=?PR?INITEPWM?INITIAL
?C0015. . . . . . . . . . . .  C ADDR   0038H   R   SEG=?PR?INITCOMP234?INITIAL
?C0016. . . . . . . . . . . .  C ADDR   001DH   R   SEG=?PR?INITWATCHDOG?INITIAL
?C0017. . . . . . . . . . . .  C ADDR   00ECH   R   SEG=?PR?INITGPIO?INITIAL
?C0018. . . . . . . . . . . .  C ADDR   0022H   R   SEG=?PR?INITTIMER01?INITIAL
?C0019. . . . . . . . . . . .  C ADDR   002BH   R   SEG=?PR?INITTIMER3?INITIAL
?C0020. . . . . . . . . . . .  C ADDR   002CH   R   SEG=?PR?INITTIMER4?INITIAL
?C0021. . . . . . . . . . . .  C ADDR   0036H   R   SEG=?PR?INITTIMER5?INITIAL
?C0022. . . . . . . . . . . .  C ADDR   0034H   R   SEG=?PR?INITTIMER6?INITIAL
?C0023. . . . . . . . . . . .  C ADDR   0052H   R   SEG=?PR?SYSTEMCLOCK?INITIAL
?C0024. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?SINITUART1?INITIAL
?C0025. . . . . . . . . . . .  C ADDR   0009H   R   SEG=?PR?SINITUART2?INITIAL
?PR?EPWMOUTPUTDISABLE?INITIAL  C SEG    000DH       REL=UNIT
?PR?EPWMOUTPUTENABLE?INITIAL.  C SEG    000DH       REL=UNIT
?PR?INITADC?INITIAL . . . . .  C SEG    008CH       REL=UNIT
?PR?INITBREAKPOINT?INITIAL. .  C SEG    000AH       REL=UNIT
?PR?INITCOMP234?INITIAL . . .  C SEG    0039H       REL=UNIT
?PR?INITEPWM?INITIAL. . . . .  C SEG    01DBH       REL=UNIT
?PR?INITEXT?INITIAL . . . . .  C SEG    001FH       REL=UNIT
?PR?INITGPIO?INITIAL. . . . .  C SEG    00EDH       REL=UNIT
?PR?INITISDDEBUG?INITIAL. . .  C SEG    0046H       REL=UNIT
?PR?INITTIMER01?INITIAL . . .  C SEG    0023H       REL=UNIT
?PR?INITTIMER3?INITIAL. . . .  C SEG    002CH       REL=UNIT
?PR?INITTIMER4?INITIAL. . . .  C SEG    002DH       REL=UNIT
?PR?INITTIMER5?INITIAL. . . .  C SEG    0037H       REL=UNIT
?PR?INITTIMER6?INITIAL. . . .  C SEG    0035H       REL=UNIT
?PR?INITWATCHDOG?INITIAL. . .  C SEG    001EH       REL=UNIT
?PR?SINITUART1?INITIAL. . . .  C SEG    000DH       REL=UNIT
?PR?SINITUART2?INITIAL. . . .  C SEG    000AH       REL=UNIT
?PR?SYSTEMCLOCK?INITIAL . . .  C SEG    0053H       REL=UNIT
ACC . . . . . . . . . . . . .  D ADDR   00E0H   A   
ARCON . . . . . . . . . . . .  D ADDR   00EFH   A   
B . . . . . . . . . . . . . .  D ADDR   00F0H   A   
BPCTRL. . . . . . . . . . . .  D ADDR   0093H   A   
BREAKH. . . . . . . . . . . .  D ADDR   0095H   A   
BREAKL. . . . . . . . . . . .  D ADDR   0094H   A   
BSHCTL. . . . . . . . . . . .  D ADDR   00ABH   A   
BSHI_0. . . . . . . . . . . .  D ADDR   00ACH   A   
BSHI_1. . . . . . . . . . . .  D ADDR   00ADH   A   
BSHI_2. . . . . . . . . . . .  D ADDR   00AEH   A   
BSHI_3. . . . . . . . . . . .  D ADDR   00AFH   A   
BSHO_0. . . . . . . . . . . .  D ADDR   00BCH   A   
BSHO_1. . . . . . . . . . . .  D ADDR   00BDH   A   
BSHO_2. . . . . . . . . . . .  D ADDR   00BEH   A   
BSHO_3. . . . . . . . . . . .  D ADDR   00BFH   A   
CKCON . . . . . . . . . . . .  D ADDR   008EH   A   
CLK_DIV . . . . . . . . . . .  D ADDR   0091H   A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    36

CLK_PD_CON. . . . . . . . . .  D ADDR   008FH   A   
DPH . . . . . . . . . . . . .  D ADDR   0083H   A   
DPH1. . . . . . . . . . . . .  D ADDR   0085H   A   
DPL . . . . . . . . . . . . .  D ADDR   0082H   A   
DPL1. . . . . . . . . . . . .  D ADDR   0084H   A   
DPS . . . . . . . . . . . . .  D ADDR   0092H   A   
EADC. . . . . . . . . . . . .  B ADDR   00B8H.0 A   
EAL . . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EPWMOUTPUTDISABLE . . . . . .  C ADDR   0000H   R   SEG=?PR?EPWMOUTPUTDISABLE?INITIAL
EPWMOUTPUTENABLE. . . . . . .  C ADDR   0000H   R   SEG=?PR?EPWMOUTPUTENABLE?INITIAL
ES. . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ES0 . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0 . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . . . . .  B ADDR   00A8H.3 A   
EX0 . . . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . . . . .  B ADDR   00A8H.2 A   
EX2 . . . . . . . . . . . . .  B ADDR   00B8H.1 A   
EX3 . . . . . . . . . . . . .  B ADDR   00B8H.2 A   
EX4 . . . . . . . . . . . . .  B ADDR   00B8H.3 A   
EX5 . . . . . . . . . . . . .  B ADDR   00B8H.4 A   
EX6 . . . . . . . . . . . . .  B ADDR   00B8H.5 A   
HH. . . . . . . . . . . . . .  D ADDR   -----       EXT
I2FR. . . . . . . . . . . . .  B ADDR   00C8H.5 A   
I3FR. . . . . . . . . . . . .  B ADDR   00C8H.6 A   
IADC. . . . . . . . . . . . .  B ADDR   00C0H.0 A   
IE. . . . . . . . . . . . . .  D ADDR   00A8H   A   
IE0 . . . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1 . . . . . . . . . . . . .  B ADDR   0088H.3 A   
IEN0. . . . . . . . . . . . .  D ADDR   00A8H   A   
IEN1. . . . . . . . . . . . .  D ADDR   00B8H   A   
IEN2. . . . . . . . . . . . .  D ADDR   009AH   A   
IEX2. . . . . . . . . . . . .  B ADDR   00C0H.1 A   
IEX3. . . . . . . . . . . . .  B ADDR   00C0H.2 A   
IEX4. . . . . . . . . . . . .  B ADDR   00C0H.3 A   
IEX5. . . . . . . . . . . . .  B ADDR   00C0H.4 A   
IEX6. . . . . . . . . . . . .  B ADDR   00C0H.5 A   
INITADC . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITADC?INITIAL
INITBREAKPOINT. . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITBREAKPOINT?INITIAL
INITCOMP234 . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITCOMP234?INITIAL
INITEPWM. . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITEPWM?INITIAL
INITEXT . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITEXT?INITIAL
INITGPIO. . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITGPIO?INITIAL
INITIAL . . . . . . . . . . .  N NUMB   -----       
INITISDDEBUG. . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITISDDEBUG?INITIAL
INITTIMER01 . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER01?INITIAL
INITTIMER3. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER3?INITIAL
INITTIMER4. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER4?INITIAL
INITTIMER5. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER5?INITIAL
INITTIMER6. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER6?INITIAL
INITWATCHDOG. . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITWATCHDOG?INITIAL
INT_REG1. . . . . . . . . . .  D ADDR   00F9H   A   
INT_REG2. . . . . . . . . . .  D ADDR   00FAH   A   
INT_REG3. . . . . . . . . . .  D ADDR   00FDH   A   
INT_REG4. . . . . . . . . . .  D ADDR   00FEH   A   
IP0 . . . . . . . . . . . . .  D ADDR   00A9H   A   
IP1 . . . . . . . . . . . . .  D ADDR   00B9H   A   
IRCON . . . . . . . . . . . .  D ADDR   00C0H   A   
IT0 . . . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . . . . .  B ADDR   0088H.2 A   
MD0 . . . . . . . . . . . . .  D ADDR   00E9H   A   
MD1 . . . . . . . . . . . . .  D ADDR   00EAH   A   
MD2 . . . . . . . . . . . . .  D ADDR   00EBH   A   
MD3 . . . . . . . . . . . . .  D ADDR   00ECH   A   
MD4 . . . . . . . . . . . . .  D ADDR   00EDH   A   
MD5 . . . . . . . . . . . . .  D ADDR   00EEH   A   
MEM_CONFIG. . . . . . . . . .  D ADDR   00E8H   A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    37

P0. . . . . . . . . . . . . .  D ADDR   0080H   A   
P00 . . . . . . . . . . . . .  B ADDR   0080H.0 A   
P01 . . . . . . . . . . . . .  B ADDR   0080H.1 A   
P02 . . . . . . . . . . . . .  B ADDR   0080H.2 A   
P03 . . . . . . . . . . . . .  B ADDR   0080H.3 A   
P04 . . . . . . . . . . . . .  B ADDR   0080H.4 A   
P05 . . . . . . . . . . . . .  B ADDR   0080H.5 A   
P06 . . . . . . . . . . . . .  B ADDR   0080H.6 A   
P07 . . . . . . . . . . . . .  B ADDR   0080H.7 A   
P1. . . . . . . . . . . . . .  D ADDR   0090H   A   
P10 . . . . . . . . . . . . .  B ADDR   0090H.0 A   
P11 . . . . . . . . . . . . .  B ADDR   0090H.1 A   
P12 . . . . . . . . . . . . .  B ADDR   0090H.2 A   
P13 . . . . . . . . . . . . .  B ADDR   0090H.3 A   
P14 . . . . . . . . . . . . .  B ADDR   0090H.4 A   
P15 . . . . . . . . . . . . .  B ADDR   0090H.5 A   
P16 . . . . . . . . . . . . .  B ADDR   0090H.6 A   
P17 . . . . . . . . . . . . .  B ADDR   0090H.7 A   
P1AQCSFRC . . . . . . . . . .  D ADDR   00B1H   A   
P1AQSFRC. . . . . . . . . . .  D ADDR   00A7H   A   
P1CMPA. . . . . . . . . . . .  D ADDR   00A3H   A   
P1CMPA_H. . . . . . . . . . .  D ADDR   00A4H   A   
P1CMPA_L. . . . . . . . . . .  D ADDR   00A3H   A   
P1CMPB. . . . . . . . . . . .  D ADDR   00A5H   A   
P1CMPB_H. . . . . . . . . . .  D ADDR   00A6H   A   
P1CMPB_L. . . . . . . . . . .  D ADDR   00A5H   A   
P1ETCLR . . . . . . . . . . .  D ADDR   00B6H   A   
P1ETFLG . . . . . . . . . . .  D ADDR   00B5H   A   
P1ETFRC . . . . . . . . . . .  D ADDR   00B7H   A   
P1TBPRD . . . . . . . . . . .  D ADDR   00A1H   A   
P1TBPRD_H . . . . . . . . . .  D ADDR   00A2H   A   
P1TBPRD_L . . . . . . . . . .  D ADDR   00A1H   A   
P1TZCLR . . . . . . . . . . .  D ADDR   00B3H   A   
P1TZFLG . . . . . . . . . . .  D ADDR   00B2H   A   
P1TZFRC . . . . . . . . . . .  D ADDR   00B4H   A   
P2. . . . . . . . . . . . . .  D ADDR   00A0H   A   
P20 . . . . . . . . . . . . .  B ADDR   00A0H.0 A   
P21 . . . . . . . . . . . . .  B ADDR   00A0H.1 A   
P22 . . . . . . . . . . . . .  B ADDR   00A0H.2 A   
P23 . . . . . . . . . . . . .  B ADDR   00A0H.3 A   
P24 . . . . . . . . . . . . .  B ADDR   00A0H.4 A   
P25 . . . . . . . . . . . . .  B ADDR   00A0H.5 A   
P26 . . . . . . . . . . . . .  B ADDR   00A0H.6 A   
P27 . . . . . . . . . . . . .  B ADDR   00A0H.7 A   
P2AQCSFRC . . . . . . . . . .  D ADDR   00C9H   A   
P2AQSFRC. . . . . . . . . . .  D ADDR   00C7H   A   
P2CMPA. . . . . . . . . . . .  D ADDR   00C3H   A   
P2CMPA_H. . . . . . . . . . .  D ADDR   00C4H   A   
P2CMPA_L. . . . . . . . . . .  D ADDR   00C3H   A   
P2CMPB. . . . . . . . . . . .  D ADDR   00C5H   A   
P2CMPB_H. . . . . . . . . . .  D ADDR   00C6H   A   
P2CMPB_L. . . . . . . . . . .  D ADDR   00C5H   A   
P2ETCLR . . . . . . . . . . .  D ADDR   00CEH   A   
P2ETFLG . . . . . . . . . . .  D ADDR   00CDH   A   
P2ETFRC . . . . . . . . . . .  D ADDR   00CFH   A   
P2TBPRD . . . . . . . . . . .  D ADDR   00C1H   A   
P2TBPRD_H . . . . . . . . . .  D ADDR   00C2H   A   
P2TBPRD_L . . . . . . . . . .  D ADDR   00C1H   A   
P2TZCLR . . . . . . . . . . .  D ADDR   00CBH   A   
P2TZFLG . . . . . . . . . . .  D ADDR   00CAH   A   
P2TZFRC . . . . . . . . . . .  D ADDR   00CCH   A   
P3. . . . . . . . . . . . . .  D ADDR   00B0H   A   
P30 . . . . . . . . . . . . .  B ADDR   00B0H.0 A   
P31 . . . . . . . . . . . . .  B ADDR   00B0H.1 A   
P32 . . . . . . . . . . . . .  B ADDR   00B0H.2 A   
P33 . . . . . . . . . . . . .  B ADDR   00B0H.3 A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    38

P34 . . . . . . . . . . . . .  B ADDR   00B0H.4 A   
P35 . . . . . . . . . . . . .  B ADDR   00B0H.5 A   
P36 . . . . . . . . . . . . .  B ADDR   00B0H.6 A   
P37 . . . . . . . . . . . . .  B ADDR   00B0H.7 A   
P3AQCSFRC . . . . . . . . . .  D ADDR   00D9H   A   
P3AQSFRC. . . . . . . . . . .  D ADDR   00D7H   A   
P3CMPA. . . . . . . . . . . .  D ADDR   00D3H   A   
P3CMPA_H. . . . . . . . . . .  D ADDR   00D4H   A   
P3CMPA_L. . . . . . . . . . .  D ADDR   00D3H   A   
P3CMPB. . . . . . . . . . . .  D ADDR   00D5H   A   
P3CMPB_H. . . . . . . . . . .  D ADDR   00D6H   A   
P3CMPB_L. . . . . . . . . . .  D ADDR   00D5H   A   
P3ETCLR . . . . . . . . . . .  D ADDR   00DEH   A   
P3ETFLG . . . . . . . . . . .  D ADDR   00DDH   A   
P3ETFRC . . . . . . . . . . .  D ADDR   00DFH   A   
P3TBPRD . . . . . . . . . . .  D ADDR   00D1H   A   
P3TBPRD_H . . . . . . . . . .  D ADDR   00D2H   A   
P3TBPRD_L . . . . . . . . . .  D ADDR   00D1H   A   
P3TZCLR . . . . . . . . . . .  D ADDR   00DBH   A   
P3TZFLG . . . . . . . . . . .  D ADDR   00DAH   A   
P3TZFRC . . . . . . . . . . .  D ADDR   00DCH   A   
P4AQCSFRC . . . . . . . . . .  D ADDR   00F1H   A   
P4AQSFRC. . . . . . . . . . .  D ADDR   00E7H   A   
P4CMPA. . . . . . . . . . . .  D ADDR   00E3H   A   
P4CMPA_H. . . . . . . . . . .  D ADDR   00E4H   A   
P4CMPA_L. . . . . . . . . . .  D ADDR   00E3H   A   
P4CMPB. . . . . . . . . . . .  D ADDR   00E5H   A   
P4CMPB_H. . . . . . . . . . .  D ADDR   00E6H   A   
P4CMPB_L. . . . . . . . . . .  D ADDR   00E5H   A   
P4ETCLR . . . . . . . . . . .  D ADDR   00F6H   A   
P4ETFLG . . . . . . . . . . .  D ADDR   00F5H   A   
P4ETFRC . . . . . . . . . . .  D ADDR   00F7H   A   
P4TBPRD . . . . . . . . . . .  D ADDR   00E1H   A   
P4TBPRD_H . . . . . . . . . .  D ADDR   00E2H   A   
P4TBPRD_L . . . . . . . . . .  D ADDR   00E1H   A   
P4TZCLR . . . . . . . . . . .  D ADDR   00F3H   A   
P4TZFLG . . . . . . . . . . .  D ADDR   00F2H   A   
P4TZFRC . . . . . . . . . . .  D ADDR   00F4H   A   
PCON. . . . . . . . . . . . .  D ADDR   0087H   A   
POWER_CON . . . . . . . . . .  D ADDR   0097H   A   
PSW . . . . . . . . . . . . .  D ADDR   00D0H   A   
RB80. . . . . . . . . . . . .  B ADDR   0098H.2 A   
REN0. . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI. . . . . . . . . . . . . .  B ADDR   0098H.0 A   
RI0 . . . . . . . . . . . . .  B ADDR   0098H.0 A   
S0BUF . . . . . . . . . . . .  D ADDR   0099H   A   
S0CON . . . . . . . . . . . .  D ADDR   0098H   A   
S0RELH. . . . . . . . . . . .  D ADDR   00BAH   A   
S0RELL. . . . . . . . . . . .  D ADDR   00AAH   A   
S1BUF . . . . . . . . . . . .  D ADDR   009CH   A   
S1CON . . . . . . . . . . . .  D ADDR   009BH   A   
S1RELH. . . . . . . . . . . .  D ADDR   00BBH   A   
S1RELL. . . . . . . . . . . .  D ADDR   009DH   A   
SBUF. . . . . . . . . . . . .  D ADDR   0099H   A   
SINITUART1. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SINITUART1?INITIAL
SINITUART2. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SINITUART2?INITIAL
SM0 . . . . . . . . . . . . .  B ADDR   0098H.7 A   
SM1 . . . . . . . . . . . . .  B ADDR   0098H.6 A   
SM20. . . . . . . . . . . . .  B ADDR   0098H.5 A   
SP. . . . . . . . . . . . . .  D ADDR   0081H   A   
SRAM_CON. . . . . . . . . . .  D ADDR   00F8H   A   
SWDT. . . . . . . . . . . . .  B ADDR   00B8H.6 A   
SYSTEMCLOCK . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SYSTEMCLOCK?INITIAL
T2CON . . . . . . . . . . . .  D ADDR   00C8H   A   
TB80. . . . . . . . . . . . .  B ADDR   0098H.3 A   
TCON. . . . . . . . . . . . .  D ADDR   0088H   A   
A51 MACRO ASSEMBLER  INITIAL                                                              10/05/2018 04:20:41 PAGE    39

TF0 . . . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1 . . . . . . . . . . . . .  B ADDR   0088H.7 A   
TH0 . . . . . . . . . . . . .  D ADDR   008CH   A   
TH1 . . . . . . . . . . . . .  D ADDR   008DH   A   
TI0 . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TL0 . . . . . . . . . . . . .  D ADDR   008AH   A   
TL1 . . . . . . . . . . . . .  D ADDR   008BH   A   
TMOD. . . . . . . . . . . . .  D ADDR   0089H   A   
TR0 . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1 . . . . . . . . . . . . .  B ADDR   0088H.6 A   
WDCON . . . . . . . . . . . .  D ADDR   00D8H   A   
WDCON_7 . . . . . . . . . . .  B ADDR   00D8H.7 A   
WDT . . . . . . . . . . . . .  B ADDR   00A8H.6 A   
WDTREL. . . . . . . . . . . .  D ADDR   0086H   A   
__ISD_INIT. . . . . . . . . .  C ADDR   -----       EXT


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
