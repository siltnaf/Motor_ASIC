A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     1


MACRO ASSEMBLER A51 V8.02c
OBJECT MODULE PLACED IN .\OUTPUT\initial.OBJ
ASSEMBLER INVOKED BY: C:\Keil\v5\C51\BIN\A51.EXE .\OUTPUT\initial.src PR(.\files\initial.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\OUTPUT\initial.SRC generated from: SRC\initial.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil\v5\C51\BIN\C51.EXE SRC\initial.c OPTIMIZE(0,SPEED) REGFILE(.\OUTPUT\motor.
                             ORC) BROWSE INTVECTOR(0X2000) INCDIR(.\INC) DEBUG OBJECTEXTEND CODE PRINT(.\files\initial.l
                             st) TABS(2) SRC(.\OUTPUT\initial.SRC)
                       4     
                       5     $nomod51 
                       6     
                       7     NAME    INITIAL
                       8     
  00CE                 9     P2ETCLR DATA    0CEH
  009B                10     TB80    BIT     098H.3
  00DE                11     P3ETCLR DATA    0DEH
  00A1                12     P1TBPRD DATA    0A1H
  0080                13     P0      DATA    080H
  00F6                14     P4ETCLR DATA    0F6H
  00C1                15     P2TBPRD DATA    0C1H
  0090                16     P1      DATA    090H
  00D1                17     P3TBPRD DATA    0D1H
  00A0                18     P2      DATA    0A0H
  00E1                19     P4TBPRD DATA    0E1H
  00B0                20     P3      DATA    0B0H
  009D                21     SM20    BIT     098H.5
  00B1                22     P1AQCSFRC       DATA    0B1H
  00C9                23     P2AQCSFRC       DATA    0C9H
  00D9                24     P3AQCSFRC       DATA    0D9H
  00F1                25     P4AQCSFRC       DATA    0F1H
  00B2                26     P1TZFLG DATA    0B2H
  00CA                27     P2TZFLG DATA    0CAH
  00DA                28     P3TZFLG DATA    0DAH
  00B4                29     P1TZFRC DATA    0B4H
  00A8                30     IEN0    DATA    0A8H
  00F2                31     P4TZFLG DATA    0F2H
  00CC                32     P2TZFRC DATA    0CCH
  00A8                33     IE      DATA    0A8H
  00B8                34     EADC    BIT     0B8H.0
  00B8                35     IEN1    DATA    0B8H
  0085                36     DPH1    DATA    085H
  00DC                37     P3TZFRC DATA    0DCH
  009A                38     IEN2    DATA    09AH
  00F4                39     P4TZFRC DATA    0F4H
  008F                40     CLK_PD_CON      DATA    08FH
  00C0                41     IADC    BIT     0C0H.0
  0084                42     DPL1    DATA    084H
  00B3                43     P1TZCLR DATA    0B3H
  00CB                44     P2TZCLR DATA    0CBH
  00DF                45     WDCON_7 BIT     0D8H.7
  00CD                46     I2FR    BIT     0C8H.5
  00DB                47     P3TZCLR DATA    0DBH
  00CE                48     I3FR    BIT     0C8H.6
  00F3                49     P4TZCLR DATA    0F3H
  009C                50     REN0    BIT     098H.4
  00AC                51     ES      BIT     0A8H.4
  00C1                52     IEX2    BIT     0C0H.1
  00C2                53     IEX3    BIT     0C0H.2
  0098                54     RI      BIT     098H.0
  00C3                55     IEX4    BIT     0C0H.3
  00C4                56     IEX5    BIT     0C0H.4
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     2

  00C5                57     IEX6    BIT     0C0H.5
  0091                58     CLK_DIV DATA    091H
  0081                59     SP      DATA    081H
  00A3                60     P1CMPA  DATA    0A3H
  00C3                61     P2CMPA  DATA    0C3H
  00A5                62     P1CMPB  DATA    0A5H
  00D3                63     P3CMPA  DATA    0D3H
  00C5                64     P2CMPB  DATA    0C5H
  00E3                65     P4CMPA  DATA    0E3H
  00D5                66     P3CMPB  DATA    0D5H
  00AC                67     BSHI    DATA    0ACH
  00E5                68     P4CMPB  DATA    0E5H
  00A2                69     P1TBPRD_H       DATA    0A2H
  00C2                70     P2TBPRD_H       DATA    0C2H
  00D2                71     P3TBPRD_H       DATA    0D2H
  00E2                72     P4TBPRD_H       DATA    0E2H
  00A1                73     P1TBPRD_L       DATA    0A1H
  00C1                74     P2TBPRD_L       DATA    0C1H
  00BC                75     BSHO    DATA    0BCH
  00D1                76     P3TBPRD_L       DATA    0D1H
  00E1                77     P4TBPRD_L       DATA    0E1H
  0095                78     BREAKH  DATA    095H
  00BA                79     S0RELH  DATA    0BAH
  0080                80     P00     BIT     080H.0
  0099                81     SBUF    DATA    099H
  00BB                82     S1RELH  DATA    0BBH
  0090                83     P10     BIT     090H.0
  0087                84     PCON    DATA    087H
  0081                85     P01     BIT     080H.1
  00A0                86     P20     BIT     0A0H.0
  0091                87     P11     BIT     090H.1
  0082                88     P02     BIT     080H.2
  00B0                89     P30     BIT     0B0H.0
  00A1                90     P21     BIT     0A0H.1
  0092                91     P12     BIT     090H.2
  0083                92     P03     BIT     080H.3
  0094                93     BREAKL  DATA    094H
  00B1                94     P31     BIT     0B0H.1
  00AA                95     S0RELL  DATA    0AAH
  00A2                96     P22     BIT     0A0H.2
  0093                97     P13     BIT     090H.3
  0084                98     P04     BIT     080H.4
  00B2                99     P32     BIT     0B0H.2
  00A3               100     P23     BIT     0A0H.3
  009D               101     S1RELL  DATA    09DH
  0094               102     P14     BIT     090H.4
  0089               103     TMOD    DATA    089H
  0088               104     TCON    DATA    088H
  0085               105     P05     BIT     080H.5
  00B3               106     P33     BIT     0B0H.3
  00A4               107     P24     BIT     0A0H.4
  0095               108     P15     BIT     090H.5
  0086               109     P06     BIT     080H.6
  00B4               110     P34     BIT     0B0H.4
  00AC               111     BSHI_0  DATA    0ACH
  00A5               112     P25     BIT     0A0H.5
  0096               113     P16     BIT     090H.6
  0087               114     P07     BIT     080H.7
  00B5               115     P35     BIT     0B0H.5
  00AD               116     BSHI_1  DATA    0ADH
  00A6               117     P26     BIT     0A0H.6
  0097               118     P17     BIT     090H.7
  00B6               119     P36     BIT     0B0H.6
  00AE               120     BSHI_2  DATA    0AEH
  00A7               121     P27     BIT     0A0H.7
  00B7               122     P37     BIT     0B0H.7
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     3

  00AF               123     BSHI_3  DATA    0AFH
  00BC               124     BSHO_0  DATA    0BCH
  00BD               125     BSHO_1  DATA    0BDH
  0089               126     IE0     BIT     088H.1
  00BE               127     BSHO_2  DATA    0BEH
  008B               128     IE1     BIT     088H.3
  00BF               129     BSHO_3  DATA    0BFH
  00F0               130     B       DATA    0F0H
  00E9               131     MD0     DATA    0E9H
  00EA               132     MD1     DATA    0EAH
  00AB               133     BSHCTL  DATA    0ABH
  00EB               134     MD2     DATA    0EBH
  00BE               135     SWDT    BIT     0B8H.6
  00A7               136     P1AQSFRC        DATA    0A7H
  00EC               137     MD3     DATA    0ECH
  00C7               138     P2AQSFRC        DATA    0C7H
  00ED               139     MD4     DATA    0EDH
  00D7               140     P3AQSFRC        DATA    0D7H
  00EE               141     MD5     DATA    0EEH
  00E7               142     P4AQSFRC        DATA    0E7H
  00E0               143     ACC     DATA    0E0H
  00AC               144     ES0     BIT     0A8H.4
  00A9               145     IP0     DATA    0A9H
  00A9               146     ET0     BIT     0A8H.1
  0093               147     BPCTRL  DATA    093H
  00B9               148     IP1     DATA    0B9H
  00AB               149     ET1     BIT     0A8H.3
  008D               150     TF0     BIT     088H.5
  0098               151     RI0     BIT     098H.0
  008F               152     TF1     BIT     088H.7
  00A4               153     P1CMPA_H        DATA    0A4H
  008C               154     TH0     DATA    08CH
  00C4               155     P2CMPA_H        DATA    0C4H
  00A6               156     P1CMPB_H        DATA    0A6H
  00A8               157     EX0     BIT     0A8H.0
  0099               158     TI0     BIT     098H.1
  008D               159     TH1     DATA    08DH
  0088               160     IT0     BIT     088H.0
  00D4               161     P3CMPA_H        DATA    0D4H
  00C6               162     P2CMPB_H        DATA    0C6H
  00AA               163     EX1     BIT     0A8H.2
  008A               164     IT1     BIT     088H.2
  00E4               165     P4CMPA_H        DATA    0E4H
  00D6               166     P3CMPB_H        DATA    0D6H
  00B9               167     EX2     BIT     0B8H.1
  00E6               168     P4CMPB_H        DATA    0E6H
  00A3               169     P1CMPA_L        DATA    0A3H
  00BA               170     EX3     BIT     0B8H.2
  009F               171     SM0     BIT     098H.7
  0097               172     POWER_CON       DATA    097H
  008A               173     TL0     DATA    08AH
  00C3               174     P2CMPA_L        DATA    0C3H
  00A5               175     P1CMPB_L        DATA    0A5H
  00BB               176     EX4     BIT     0B8H.3
  009E               177     SM1     BIT     098H.6
  008B               178     TL1     DATA    08BH
  00D3               179     P3CMPA_L        DATA    0D3H
  00C5               180     P2CMPB_L        DATA    0C5H
  00BC               181     EX5     BIT     0B8H.4
  00AF               182     EAL     BIT     0A8H.7
  00E3               183     P4CMPA_L        DATA    0E3H
  00D5               184     P3CMPB_L        DATA    0D5H
  00BD               185     EX6     BIT     0B8H.5
  00E5               186     P4CMPB_L        DATA    0E5H
  0086               187     WDTREL  DATA    086H
  008C               188     TR0     BIT     088H.4
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     4

  008E               189     TR1     BIT     088H.6
  00F9               190     INT_REG1        DATA    0F9H
  0083               191     DPH     DATA    083H
  00FA               192     INT_REG2        DATA    0FAH
  00FD               193     INT_REG3        DATA    0FDH
  00FE               194     INT_REG4        DATA    0FEH
  0082               195     DPL     DATA    082H
  0099               196     S0BUF   DATA    099H
  009C               197     S1BUF   DATA    09CH
  0098               198     S0CON   DATA    098H
  009B               199     S1CON   DATA    09BH
  00C8               200     T2CON   DATA    0C8H
  0092               201     DPS     DATA    092H
  00AE               202     WDT     BIT     0A8H.6
  008E               203     CKCON   DATA    08EH
  00EF               204     ARCON   DATA    0EFH
  00B5               205     P1ETFLG DATA    0B5H
  00F8               206     SRAM_CON        DATA    0F8H
  00CD               207     P2ETFLG DATA    0CDH
  00DD               208     P3ETFLG DATA    0DDH
  00B7               209     P1ETFRC DATA    0B7H
  00F5               210     P4ETFLG DATA    0F5H
  00CF               211     P2ETFRC DATA    0CFH
  00E8               212     MEM_CONFIG      DATA    0E8H
  00DF               213     P3ETFRC DATA    0DFH
  00F7               214     P4ETFRC DATA    0F7H
  00D0               215     PSW     DATA    0D0H
  00D8               216     WDCON   DATA    0D8H
  00C0               217     IRCON   DATA    0C0H
  009A               218     RB80    BIT     098H.2
  00B6               219     P1ETCLR DATA    0B6H
                     220     ?PR?InitEXT?INITIAL  SEGMENT CODE 
                     221     ?PR?InitISDDebug?INITIAL                 SEGMENT CODE 
                     222     ?PR?InitBreakPoint?INITIAL               SEGMENT CODE 
                     223     ?PR?epwmOutputDisable?INITIAL            SEGMENT CODE 
                     224     ?PR?epwmOutputEnable?INITIAL             SEGMENT CODE 
                     225     ?PR?InitADC?INITIAL  SEGMENT CODE 
                     226     ?PR?Initepwm?INITIAL SEGMENT CODE 
                     227     ?PR?InitComparator?INITIAL               SEGMENT CODE 
                     228     ?PR?InitWatchDog?INITIAL                 SEGMENT CODE 
                     229     ?PR?InitGPIO?INITIAL SEGMENT CODE 
                     230     ?PR?InitTimer01?INITIAL                  SEGMENT CODE 
                     231     ?PR?InitTimer3?INITIAL                   SEGMENT CODE 
                     232     ?PR?InitTimer4?INITIAL                   SEGMENT CODE 
                     233     ?PR?InitTimer5?INITIAL                   SEGMENT CODE 
                     234     ?PR?InitTimer6?INITIAL                   SEGMENT CODE 
                     235     ?PR?SystemClock?INITIAL                  SEGMENT CODE 
                     236     ?PR?sInitUART1?INITIAL                   SEGMENT CODE 
                     237     ?PR?sInitUART2?INITIAL                   SEGMENT CODE 
                     238     ?PR?InitDAC?INITIAL  SEGMENT CODE 
                     239             EXTRN   CODE (__isd_init)
                     240             PUBLIC  InitDAC
                     241             PUBLIC  sInitUART2
                     242             PUBLIC  sInitUART1
                     243             PUBLIC  SystemClock
                     244             PUBLIC  InitTimer6
                     245             PUBLIC  InitTimer5
                     246             PUBLIC  InitTimer4
                     247             PUBLIC  InitTimer3
                     248             PUBLIC  InitTimer01
                     249             PUBLIC  InitGPIO
                     250             PUBLIC  InitWatchDog
                     251             PUBLIC  InitComparator
                     252             PUBLIC  Initepwm
                     253             PUBLIC  InitADC
                     254             PUBLIC  epwmOutputEnable
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     5

                     255             PUBLIC  epwmOutputDisable
                     256             PUBLIC  InitBreakPoint
                     257             PUBLIC  InitISDDebug
                     258             PUBLIC  InitEXT
                     259     ; #include "register.h"
                     260     ; #include <intrins.h>
                     261     ; #include "app.h"
                     262     ; #include "initial.h"
                     263     ; #include "ISD51.H"
                     264     ; #include "epwm.h"
                     265     ; 
                     266     ; 
                     267     ; 
                     268     ; 
                     269     ; void InitEXT(void)
                     270     
----                 271             RSEG  ?PR?InitEXT?INITIAL
0000                 272     InitEXT:
                     273             USING   0
                     274                             ; SOURCE LINE # 11
                     275     ; {     
                     276                             ; SOURCE LINE # 12
                     277     ; //            EINT1_EN=0; 
                     278     ; //            EINT2_EN=1;                             //enable EXT2
                     279     ; //            EINT3_EN=0;
                     280     ; //            EINT4_EN=0;
                     281     ;       
                     282     ;                       EXINT_EN = 0x02;                                        //RXINT_EN 
                             cannot be read, it can be write only
                     283                             ; SOURCE LINE # 18
0000 90E08D          284             MOV     DPTR,#0E08DH
0003 7402            285             MOV     A,#02H
0005 F0              286             MOVX    @DPTR,A
                     287     ;                                                                                          
                                                                  //EXINT_EN= 0x01      -----enable EXT1
                     288     ;                                                                                          
                                                                  //                                      0x02                    -----enable EXT2
                     289     ;                                                                                          
                                                                  //                                      0x04              -----enable EXT3
                     290     ;                                                                                          
                                                                  //                                      0x08                    -----enable EXT4
                     291     ;       
                     292     ;               EINT2_CFG=RISING_EDGE;          //rising edge trigger
                     293                             ; SOURCE LINE # 24
0006 90E0BF          294             MOV     DPTR,#0E0BFH
0009 E0              295             MOVX    A,@DPTR
000A FF              296             MOV     R7,A
000B EF              297             MOV     A,R7
000C 54F3            298             ANL     A,#0F3H
000E FF              299             MOV     R7,A
000F EF              300             MOV     A,R7
0010 4404            301             ORL     A,#04H
0012 FF              302             MOV     R7,A
0013 EF              303             MOV     A,R7
0014 F0              304             MOVX    @DPTR,A
                     305     ;               EX0=1;
                     306                             ; SOURCE LINE # 25
0015 D2A8            307             SETB    EX0
                     308     ;               IT0=1;
                     309                             ; SOURCE LINE # 26
0017 D288            310             SETB    IT0
                     311     ;               IE0=0;
                     312                             ; SOURCE LINE # 27
0019 C289            313             CLR     IE0
                     314     ;               INT_REG1 &=0xf0;              
                     315                             ; SOURCE LINE # 28
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     6

001B 53F9F0          316             ANL     INT_REG1,#0F0H
                     317     ;       
                     318     ; }
                     319                             ; SOURCE LINE # 30
001E                 320     ?C0001:
001E 22              321             RET     
                     322     ; END OF InitEXT
                     323     
                     324     ; 
                     325     ; void InitISDDebug(void)
                     326     
----                 327             RSEG  ?PR?InitISDDebug?INITIAL
0000                 328     InitISDDebug:
                     329             USING   0
                     330                             ; SOURCE LINE # 32
                     331     ; {
                     332                             ; SOURCE LINE # 33
                     333     ;       
                     334     ;     EAL = 0;
                     335                             ; SOURCE LINE # 35
0000 C2AF            336             CLR     EAL
                     337     ;     //ISD51++++++++++++++++++++++++++
                     338     ;     #if ISDDebug == ENABLE_ISD
                     339     ;               InitBreakPoint();
                     340                             ; SOURCE LINE # 38
0002 120000   F      341             LCALL   InitBreakPoint
                     342     ;     sInitUART1();
                     343                             ; SOURCE LINE # 39
0005 120000   F      344             LCALL   sInitUART1
                     345     ;  
                     346     ;     IP0 = 0x30;
                     347                             ; SOURCE LINE # 41
0008 75A930          348             MOV     IP0,#030H
                     349     ;     IP1 = 0x20;
                     350                             ; SOURCE LINE # 42
000B 75B920          351             MOV     IP1,#020H
                     352     ;     ET0 = 0;
                     353                             ; SOURCE LINE # 43
000E C2A9            354             CLR     ET0
                     355     ;     EX6 = 0 ;
                     356                             ; SOURCE LINE # 44
0010 C2BD            357             CLR     EX6
                     358     ;     ES0 = 1;
                     359                             ; SOURCE LINE # 45
0012 D2AC            360             SETB    ES0
                     361     ;     EAL = 1;
                     362                             ; SOURCE LINE # 46
0014 D2AF            363             SETB    EAL
                     364     ;     _nop_();
                     365                             ; SOURCE LINE # 47
0016 00              366             NOP     
                     367     ;     _nop_();
                     368                             ; SOURCE LINE # 48
0017 00              369             NOP     
                     370     ;     _nop_();
                     371                             ; SOURCE LINE # 49
0018 00              372             NOP     
0019                 373     ?C0002:
                     374     ;     while(1)
                     375                             ; SOURCE LINE # 50
                     376     ;     {
                     377                             ; SOURCE LINE # 51
                     378     ;         P10 = 0;
                     379                             ; SOURCE LINE # 52
0019 C290            380             CLR     P10
                     381     ;         P10 = 1;
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     7

                     382                             ; SOURCE LINE # 53
001B D290            383             SETB    P10
                     384     ;         ISDcheck();      // initialize uVision2 Debugger and continue program run
                     385                             ; SOURCE LINE # 54
001D 20AC10          386             JB      ES,?C0004
0020 30980D          387             JNB     RI,?C0004
0023 E599            388             MOV     A,SBUF
0025 64A5            389             XRL     A,#0A5H
0027 6004            390             JZ      ?C0006
0029 C298            391             CLR     RI
002B 8003            392             SJMP    ?C0004
002D                 393     ?C0006:
002D 120000   F      394             LCALL   __isd_init
0030                 395     ?C0007:
0030                 396     ?C0005:
0030                 397     ?C0004:
                     398     ;         if((BPCTRL & 0x10) != 0) break;
                     399                             ; SOURCE LINE # 55
0030 E593            400             MOV     A,BPCTRL
0032 30E4E4          401             JNB     ACC.4,?C0002
0035 8002            402             SJMP    ?C0003
0037                 403     ?C0008:
                     404     ;     }
                     405                             ; SOURCE LINE # 56
0037 80E0            406             SJMP    ?C0002
0039                 407     ?C0003:
                     408     ;     _nop_();
                     409                             ; SOURCE LINE # 57
0039 00              410             NOP     
                     411     ;     _nop_();
                     412                             ; SOURCE LINE # 58
003A 00              413             NOP     
                     414     ;     _nop_();
                     415                             ; SOURCE LINE # 59
003B 00              416             NOP     
                     417     ;     ET0 = 1;
                     418                             ; SOURCE LINE # 60
003C D2A9            419             SETB    ET0
                     420     ;     EX6 = 1;
                     421                             ; SOURCE LINE # 61
003E D2BD            422             SETB    EX6
                     423     ;     _nop_();
                     424                             ; SOURCE LINE # 62
0040 00              425             NOP     
                     426     ;     _nop_();
                     427                             ; SOURCE LINE # 63
0041 00              428             NOP     
                     429     ;     _nop_();
                     430                             ; SOURCE LINE # 64
0042 00              431             NOP     
                     432     ;     #endif
                     433     ;     //++++++++++++++++++++++++++++++
                     434     ;               EAL = 1;                                //enable all interrupts
                     435                             ; SOURCE LINE # 67
0043 D2AF            436             SETB    EAL
                     437     ; }
                     438                             ; SOURCE LINE # 68
0045                 439     ?C0009:
0045 22              440             RET     
                     441     ; END OF InitISDDebug
                     442     
                     443     ; 
                     444     ; 
                     445     ; 
                     446     ; 
                     447     ; 
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     8

                     448     ; void InitBreakPoint  (void)
                     449     
----                 450             RSEG  ?PR?InitBreakPoint?INITIAL
0000                 451     InitBreakPoint:
                     452                             ; SOURCE LINE # 74
                     453     ; {
                     454                             ; SOURCE LINE # 75
                     455     ;     BPCTRL   = 0x01;
                     456                             ; SOURCE LINE # 76
0000 759301          457             MOV     BPCTRL,#01H
                     458     ;       BREAKL   = 0xff;
                     459                             ; SOURCE LINE # 77
0003 7594FF          460             MOV     BREAKL,#0FFH
                     461     ;       BREAKH   = 0xff;
                     462                             ; SOURCE LINE # 78
0006 7595FF          463             MOV     BREAKH,#0FFH
                     464     ; }
                     465                             ; SOURCE LINE # 79
0009                 466     ?C0010:
0009 22              467             RET     
                     468     ; END OF InitBreakPoint
                     469     
                     470     ; 
                     471     ; void epwmOutputDisable(void)
                     472     
----                 473             RSEG  ?PR?epwmOutputDisable?INITIAL
0000                 474     epwmOutputDisable:
                     475                             ; SOURCE LINE # 81
                     476     ; {
                     477                             ; SOURCE LINE # 82
                     478     ;       P1AQCSFRC = 0x05;                                               // force epwmxA and
                              epwmxB output low
                     479                             ; SOURCE LINE # 83
0000 75B105          480             MOV     P1AQCSFRC,#05H
                     481     ;       P2AQCSFRC = 0x05;
                     482                             ; SOURCE LINE # 84
0003 75C905          483             MOV     P2AQCSFRC,#05H
                     484     ;       P3AQCSFRC = 0x05;
                     485                             ; SOURCE LINE # 85
0006 75D905          486             MOV     P3AQCSFRC,#05H
                     487     ;       P4AQCSFRC = 0x05;
                     488                             ; SOURCE LINE # 86
0009 75F105          489             MOV     P4AQCSFRC,#05H
                     490     ; }
                     491                             ; SOURCE LINE # 87
000C                 492     ?C0011:
000C 22              493             RET     
                     494     ; END OF epwmOutputDisable
                     495     
                     496     ; 
                     497     ; void epwmOutputEnable(void)
                     498     
----                 499             RSEG  ?PR?epwmOutputEnable?INITIAL
0000                 500     epwmOutputEnable:
                     501                             ; SOURCE LINE # 89
                     502     ; {
                     503                             ; SOURCE LINE # 90
                     504     ;       P1AQCSFRC = 0x0F;                                               // software force d
                             isable
                     505                             ; SOURCE LINE # 91
0000 75B10F          506             MOV     P1AQCSFRC,#0FH
                     507     ;       P2AQCSFRC = 0x0F;
                     508                             ; SOURCE LINE # 92
0003 75C90F          509             MOV     P2AQCSFRC,#0FH
                     510     ;       P3AQCSFRC = 0x0F;
                     511                             ; SOURCE LINE # 93
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE     9

0006 75D90F          512             MOV     P3AQCSFRC,#0FH
                     513     ;       P4AQCSFRC = 0x0F;
                     514                             ; SOURCE LINE # 94
0009 75F10F          515             MOV     P4AQCSFRC,#0FH
                     516     ; }
                     517                             ; SOURCE LINE # 95
000C                 518     ?C0012:
000C 22              519             RET     
                     520     ; END OF epwmOutputEnable
                     521     
                     522     ; 
                     523     ; void InitADC(void)
                     524     
----                 525             RSEG  ?PR?InitADC?INITIAL
0000                 526     InitADC:
                     527             USING   0
                     528                             ; SOURCE LINE # 97
                     529     ; {
                     530                             ; SOURCE LINE # 98
                     531     ; 
                     532     ;               AD_PD = 0;                                                      //Power up 
                             ADD
                     533                             ; SOURCE LINE # 100
0000 90E08B          534             MOV     DPTR,#0E08BH
0003 E4              535             CLR     A
0004 F0              536             MOVX    @DPTR,A
                     537     ;         ADC_CLK_EN=1;
                     538                             ; SOURCE LINE # 101
0005 90E0EC          539             MOV     DPTR,#0E0ECH
0008 E0              540             MOVX    A,@DPTR
0009 FF              541             MOV     R7,A
000A EF              542             MOV     A,R7
000B 4408            543             ORL     A,#08H
000D FF              544             MOV     R7,A
000E EF              545             MOV     A,R7
000F F0              546             MOVX    @DPTR,A
                     547     ;               ADC_CLK_DIV_SEL=0x03;    //system divided by 4
                     548                             ; SOURCE LINE # 102
0010 90E0EC          549             MOV     DPTR,#0E0ECH
0013 E0              550             MOVX    A,@DPTR
0014 FF              551             MOV     R7,A
0015 EF              552             MOV     A,R7
0016 4403            553             ORL     A,#03H
0018 FF              554             MOV     R7,A
0019 EF              555             MOV     A,R7
001A F0              556             MOVX    @DPTR,A
                     557     ;     ADCHS = 0x0f;                                             // select channel CH1-CH4
                     558                             ; SOURCE LINE # 103
001B 90E05C          559             MOV     DPTR,#0E05CH
001E 740F            560             MOV     A,#0FH
0020 F0              561             MOVX    @DPTR,A
                     562     ;               
                     563     ;       
                     564     ;       
                     565     ;               DAC1_PD = 1;                                            // DAC12 down
                     566                             ; SOURCE LINE # 107
0021 90E07A          567             MOV     DPTR,#0E07AH
0024 E0              568             MOVX    A,@DPTR
0025 FF              569             MOV     R7,A
0026 EF              570             MOV     A,R7
0027 4404            571             ORL     A,#04H
0029 FF              572             MOV     R7,A
002A EF              573             MOV     A,R7
002B F0              574             MOVX    @DPTR,A
                     575     ;               DAC2_PD = 1;
                     576                             ; SOURCE LINE # 108
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    10

002C 90E07A          577             MOV     DPTR,#0E07AH
002F E0              578             MOVX    A,@DPTR
0030 FF              579             MOV     R7,A
0031 EF              580             MOV     A,R7
0032 4401            581             ORL     A,#01H
0034 FF              582             MOV     R7,A
0035 EF              583             MOV     A,R7
0036 F0              584             MOVX    @DPTR,A
                     585     ;       
                     586     ;       
                     587     ;       
                     588     ;               C1PDO1PD=CFG2;                                                          //C
                             OMP1 power off and OP1 power on
                     589                             ; SOURCE LINE # 112
0037 90E0A4          590             MOV     DPTR,#0E0A4H
003A E0              591             MOVX    A,@DPTR
003B FF              592             MOV     R7,A
003C EF              593             MOV     A,R7
003D 54FC            594             ANL     A,#0FCH
003F FF              595             MOV     R7,A
0040 EF              596             MOV     A,R7
0041 4402            597             ORL     A,#02H
0043 FF              598             MOV     R7,A
0044 EF              599             MOV     A,R7
0045 F0              600             MOVX    @DPTR,A
                     601     ;               C2PDO2PD=CFG2;                                                          //C
                             OMP2 power off and OP2 power on
                     602                             ; SOURCE LINE # 113
0046 90E0A4          603             MOV     DPTR,#0E0A4H
0049 E0              604             MOVX    A,@DPTR
004A FF              605             MOV     R7,A
004B EF              606             MOV     A,R7
004C 54F3            607             ANL     A,#0F3H
004E FF              608             MOV     R7,A
004F EF              609             MOV     A,R7
0050 4408            610             ORL     A,#08H
0052 FF              611             MOV     R7,A
0053 EF              612             MOV     A,R7
0054 F0              613             MOVX    @DPTR,A
                     614     ;               C3PDO3PD=CFG2;                                                          //C
                             OMP3 power off and OP3 power on
                     615                             ; SOURCE LINE # 114
0055 90E0A4          616             MOV     DPTR,#0E0A4H
0058 E0              617             MOVX    A,@DPTR
0059 FF              618             MOV     R7,A
005A EF              619             MOV     A,R7
005B 54CF            620             ANL     A,#0CFH
005D FF              621             MOV     R7,A
005E EF              622             MOV     A,R7
005F 4420            623             ORL     A,#020H
0061 FF              624             MOV     R7,A
0062 EF              625             MOV     A,R7
0063 F0              626             MOVX    @DPTR,A
                     627     ;       
                     628     ;       
                     629     ;               LDO25_PD=0;             //use internal 2.5V for AD VREF
                     630                             ; SOURCE LINE # 117
0064 90E09D          631             MOV     DPTR,#0E09DH
0067 E0              632             MOVX    A,@DPTR
0068 FF              633             MOV     R7,A
0069 EF              634             MOV     A,R7
006A 54FD            635             ANL     A,#0FDH
006C FF              636             MOV     R7,A
006D EF              637             MOV     A,R7
006E F0              638             MOVX    @DPTR,A
                     639     ;               BP4=0;                  //CH4 normal and no bypass
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    11

                     640                             ; SOURCE LINE # 118
006F 90E05D          641             MOV     DPTR,#0E05DH
0072 E0              642             MOVX    A,@DPTR
0073 FF              643             MOV     R7,A
0074 EF              644             MOV     A,R7
0075 54F7            645             ANL     A,#0F7H
0077 FF              646             MOV     R7,A
0078 EF              647             MOV     A,R7
0079 F0              648             MOVX    @DPTR,A
                     649     ;       
                     650     ;               SWFTRG=1;
                     651                             ; SOURCE LINE # 120
007A 90E05A          652             MOV     DPTR,#0E05AH
007D E0              653             MOVX    A,@DPTR
007E FF              654             MOV     R7,A
007F EF              655             MOV     A,R7
0080 4420            656             ORL     A,#020H
0082 FF              657             MOV     R7,A
0083 EF              658             MOV     A,R7
0084 F0              659             MOVX    @DPTR,A
                     660     ;         INTEN=1;
                     661                             ; SOURCE LINE # 121
0085 90E05A          662             MOV     DPTR,#0E05AH
0088 E0              663             MOVX    A,@DPTR
0089 FF              664             MOV     R7,A
008A EF              665             MOV     A,R7
008B 4401            666             ORL     A,#01H
008D FF              667             MOV     R7,A
008E EF              668             MOV     A,R7
008F F0              669             MOVX    @DPTR,A
                     670     ;               AD4OST=0x0000;                                  //AD offset   0xFC
                     671                             ; SOURCE LINE # 122
0090 90E064          672             MOV     DPTR,#0E064H
0093 E4              673             CLR     A
0094 F0              674             MOVX    @DPTR,A
0095 A3              675             INC     DPTR
0096 E4              676             CLR     A
0097 F0              677             MOVX    @DPTR,A
                     678     ; 
                     679     ;       
                     680     ;       
                     681     ;               EADC=1;
                     682                             ; SOURCE LINE # 126
0098 D2B8            683             SETB    EADC
                     684     ;               IADC=0;
                     685                             ; SOURCE LINE # 127
009A C2C0            686             CLR     IADC
                     687     ; 
                     688     ;       }
                     689                             ; SOURCE LINE # 129
009C                 690     ?C0013:
009C 22              691             RET     
                     692     ; END OF InitADC
                     693     
                     694     ; 
                     695     ; 
                     696     ; void Initepwm(void)
                     697     
----                 698             RSEG  ?PR?Initepwm?INITIAL
0000                 699     Initepwm:
                     700             USING   0
                     701                             ; SOURCE LINE # 132
                     702     ; {
                     703                             ; SOURCE LINE # 133
                     704     ;       
                     705     ;       
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    12

                     706     ;       // config IO for ePWM output
                     707     ; 
                     708     ;       P22_FN=CFG1;          //P22 output  PWM3B
                     709                             ; SOURCE LINE # 138
0000 90E0E1          710             MOV     DPTR,#0E0E1H
0003 E0              711             MOVX    A,@DPTR
0004 FF              712             MOV     R7,A
0005 EF              713             MOV     A,R7
0006 54CF            714             ANL     A,#0CFH
0008 FF              715             MOV     R7,A
0009 EF              716             MOV     A,R7
000A 4410            717             ORL     A,#010H
000C FF              718             MOV     R7,A
000D EF              719             MOV     A,R7
000E F0              720             MOVX    @DPTR,A
                     721     ;       P23_FN=CFG1;                                    //P23 output  PWM3A
                     722                             ; SOURCE LINE # 139
000F 90E0E1          723             MOV     DPTR,#0E0E1H
0012 E0              724             MOVX    A,@DPTR
0013 FF              725             MOV     R7,A
0014 EF              726             MOV     A,R7
0015 543F            727             ANL     A,#03FH
0017 FF              728             MOV     R7,A
0018 EF              729             MOV     A,R7
0019 4440            730             ORL     A,#040H
001B FF              731             MOV     R7,A
001C EF              732             MOV     A,R7
001D F0              733             MOVX    @DPTR,A
                     734     ;       
                     735     ;       P24_FN=CFG1;          //P24 output  PWM2B
                     736                             ; SOURCE LINE # 141
001E 90E0E0          737             MOV     DPTR,#0E0E0H
0021 E0              738             MOVX    A,@DPTR
0022 FF              739             MOV     R7,A
0023 EF              740             MOV     A,R7
0024 54FC            741             ANL     A,#0FCH
0026 FF              742             MOV     R7,A
0027 EF              743             MOV     A,R7
0028 4401            744             ORL     A,#01H
002A FF              745             MOV     R7,A
002B EF              746             MOV     A,R7
002C F0              747             MOVX    @DPTR,A
                     748     ;       P25_FN=CFG1;                                    //P25 output  PWM2A
                     749                             ; SOURCE LINE # 142
002D 90E0E0          750             MOV     DPTR,#0E0E0H
0030 E0              751             MOVX    A,@DPTR
0031 FF              752             MOV     R7,A
0032 EF              753             MOV     A,R7
0033 54F3            754             ANL     A,#0F3H
0035 FF              755             MOV     R7,A
0036 EF              756             MOV     A,R7
0037 4404            757             ORL     A,#04H
0039 FF              758             MOV     R7,A
003A EF              759             MOV     A,R7
003B F0              760             MOVX    @DPTR,A
                     761     ;       
                     762     ;       P26_FN=CFG1;                                    //P26 output  PWM1B
                     763                             ; SOURCE LINE # 144
003C 90E0E0          764             MOV     DPTR,#0E0E0H
003F E0              765             MOVX    A,@DPTR
0040 FF              766             MOV     R7,A
0041 EF              767             MOV     A,R7
0042 54CF            768             ANL     A,#0CFH
0044 FF              769             MOV     R7,A
0045 EF              770             MOV     A,R7
0046 4410            771             ORL     A,#010H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    13

0048 FF              772             MOV     R7,A
0049 EF              773             MOV     A,R7
004A F0              774             MOVX    @DPTR,A
                     775     ;       P27_FN=CFG1;          //P27 output  PWM1A
                     776                             ; SOURCE LINE # 145
004B 90E0E0          777             MOV     DPTR,#0E0E0H
004E E0              778             MOVX    A,@DPTR
004F FF              779             MOV     R7,A
0050 EF              780             MOV     A,R7
0051 543F            781             ANL     A,#03FH
0053 FF              782             MOV     R7,A
0054 EF              783             MOV     A,R7
0055 4440            784             ORL     A,#040H
0057 FF              785             MOV     R7,A
0058 EF              786             MOV     A,R7
0059 F0              787             MOVX    @DPTR,A
                     788     ;       
                     789     ; //    P00_FN=CFG1;                                    //P00 output  PWM4B
                     790     ; //  P01_FN=CFG1;          //P01 output  PWM4A 
                     791     ; 
                     792     ; 
                     793     ; // set period 
                     794     ; 
                     795     ;       P1TBPRD =       0x0190;                                         // 400 step per pwm
                              period or 10KHz
                     796                             ; SOURCE LINE # 153
005A 75A201          797             MOV     P1TBPRD+01H,#01H
005D 75A190          798             MOV     P1TBPRD,#090H
                     799     ;       P2TBPRD = 0x0190;
                     800                             ; SOURCE LINE # 154
0060 75C201          801             MOV     P2TBPRD+01H,#01H
0063 75C190          802             MOV     P2TBPRD,#090H
                     803     ;       P3TBPRD = 0x0190;
                     804                             ; SOURCE LINE # 155
0066 75D201          805             MOV     P3TBPRD+01H,#01H
0069 75D190          806             MOV     P3TBPRD,#090H
                     807     ;       P4TBPRD = 0x0190;
                     808                             ; SOURCE LINE # 156
006C 75E201          809             MOV     P4TBPRD+01H,#01H
006F 75E190          810             MOV     P4TBPRD,#090H
                     811     ; 
                     812     ;       
                     813     ; //enable epwm clock 
                     814     ;       
                     815     ;       
                     816     ;       EPWM1_ENCLK =1;                                                 // clock for pwm1 ~
                              pwm4 is enable,and synchronize all channel disable
                     817                             ; SOURCE LINE # 162
0072 90E000          818             MOV     DPTR,#0E000H
0075 E0              819             MOVX    A,@DPTR
0076 FF              820             MOV     R7,A
0077 EF              821             MOV     A,R7
0078 4402            822             ORL     A,#02H
007A FF              823             MOV     R7,A
007B EF              824             MOV     A,R7
007C F0              825             MOVX    @DPTR,A
                     826     ;       EPWM2_ENCLK     =1;
                     827                             ; SOURCE LINE # 163
007D 90E000          828             MOV     DPTR,#0E000H
0080 E0              829             MOVX    A,@DPTR
0081 FF              830             MOV     R7,A
0082 EF              831             MOV     A,R7
0083 4404            832             ORL     A,#04H
0085 FF              833             MOV     R7,A
0086 EF              834             MOV     A,R7
0087 F0              835             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    14

                     836     ;       EPWM3_ENCLK =1;
                     837                             ; SOURCE LINE # 164
0088 90E000          838             MOV     DPTR,#0E000H
008B E0              839             MOVX    A,@DPTR
008C FF              840             MOV     R7,A
008D EF              841             MOV     A,R7
008E 4408            842             ORL     A,#08H
0090 FF              843             MOV     R7,A
0091 EF              844             MOV     A,R7
0092 F0              845             MOVX    @DPTR,A
                     846     ;       EPWM4_ENCLK =1;
                     847                             ; SOURCE LINE # 165
0093 90E000          848             MOV     DPTR,#0E000H
0096 E0              849             MOVX    A,@DPTR
0097 FF              850             MOV     R7,A
0098 EF              851             MOV     A,R7
0099 4410            852             ORL     A,#010H
009B FF              853             MOV     R7,A
009C EF              854             MOV     A,R7
009D F0              855             MOVX    @DPTR,A
                     856     ;       TBCLKSYNC=0;
                     857                             ; SOURCE LINE # 166
009E 90E000          858             MOV     DPTR,#0E000H
00A1 E0              859             MOVX    A,@DPTR
00A2 FF              860             MOV     R7,A
00A3 EF              861             MOV     A,R7
00A4 54FE            862             ANL     A,#0FEH
00A6 FF              863             MOV     R7,A
00A7 EF              864             MOV     A,R7
00A8 F0              865             MOVX    @DPTR,A
                     866     ;       
                     867     ;       
                     868     ;       //pwm count up or down
                     869     ;       
                     870     ;       P1CTRMODE=TB_COUNT_UPDOWN;     // period load from shadow,up down mode,synchronize 
                             at CTR = ZERO
                     871                             ; SOURCE LINE # 171
00A9 90E003          872             MOV     DPTR,#0E003H
00AC E0              873             MOVX    A,@DPTR
00AD FF              874             MOV     R7,A
00AE EF              875             MOV     A,R7
00AF 54FC            876             ANL     A,#0FCH
00B1 FF              877             MOV     R7,A
00B2 EF              878             MOV     A,R7
00B3 4402            879             ORL     A,#02H
00B5 FF              880             MOV     R7,A
00B6 EF              881             MOV     A,R7
00B7 F0              882             MOVX    @DPTR,A
                     883     ;       P2CTRMODE=TB_COUNT_UPDOWN;
                     884                             ; SOURCE LINE # 172
00B8 90E019          885             MOV     DPTR,#0E019H
00BB E0              886             MOVX    A,@DPTR
00BC FF              887             MOV     R7,A
00BD EF              888             MOV     A,R7
00BE 54FC            889             ANL     A,#0FCH
00C0 FF              890             MOV     R7,A
00C1 EF              891             MOV     A,R7
00C2 4402            892             ORL     A,#02H
00C4 FF              893             MOV     R7,A
00C5 EF              894             MOV     A,R7
00C6 F0              895             MOVX    @DPTR,A
                     896     ;       P3CTRMODE=TB_COUNT_UPDOWN;
                     897                             ; SOURCE LINE # 173
00C7 90E02F          898             MOV     DPTR,#0E02FH
00CA E0              899             MOVX    A,@DPTR
00CB FF              900             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    15

00CC EF              901             MOV     A,R7
00CD 54FC            902             ANL     A,#0FCH
00CF FF              903             MOV     R7,A
00D0 EF              904             MOV     A,R7
00D1 4402            905             ORL     A,#02H
00D3 FF              906             MOV     R7,A
00D4 EF              907             MOV     A,R7
00D5 F0              908             MOVX    @DPTR,A
                     909     ;       P4CTRMODE=TB_COUNT_UPDOWN;
                     910                             ; SOURCE LINE # 174
00D6 90E045          911             MOV     DPTR,#0E045H
00D9 E0              912             MOVX    A,@DPTR
00DA FF              913             MOV     R7,A
00DB EF              914             MOV     A,R7
00DC 54FC            915             ANL     A,#0FCH
00DE FF              916             MOV     R7,A
00DF EF              917             MOV     A,R7
00E0 4402            918             ORL     A,#02H
00E2 FF              919             MOV     R7,A
00E3 EF              920             MOV     A,R7
00E4 F0              921             MOVX    @DPTR,A
                     922     ;       
                     923     ;       
                     924     ;       P1PRDLD=TB_SHADOW;
                     925                             ; SOURCE LINE # 177
00E5 90E003          926             MOV     DPTR,#0E003H
00E8 E0              927             MOVX    A,@DPTR
00E9 FF              928             MOV     R7,A
00EA EF              929             MOV     A,R7
00EB 54F7            930             ANL     A,#0F7H
00ED FF              931             MOV     R7,A
00EE EF              932             MOV     A,R7
00EF F0              933             MOVX    @DPTR,A
                     934     ;       
                     935     ;       
                     936     ;       //time base free run or emulation 
                     937     ;       
                     938     ;       P1FREE_SOFT=FREE_RUN;                                                   // time bas
                             e free run when emulation
                     939                             ; SOURCE LINE # 182
00F0 90E002          940             MOV     DPTR,#0E002H
00F3 E0              941             MOVX    A,@DPTR
00F4 FF              942             MOV     R7,A
00F5 EF              943             MOV     A,R7
00F6 543F            944             ANL     A,#03FH
00F8 FF              945             MOV     R7,A
00F9 EF              946             MOV     A,R7
00FA 4480            947             ORL     A,#080H
00FC FF              948             MOV     R7,A
00FD EF              949             MOV     A,R7
00FE F0              950             MOVX    @DPTR,A
                     951     ;       P2FREE_SOFT=FREE_RUN;
                     952                             ; SOURCE LINE # 183
00FF 90E018          953             MOV     DPTR,#0E018H
0102 E0              954             MOVX    A,@DPTR
0103 FF              955             MOV     R7,A
0104 EF              956             MOV     A,R7
0105 543F            957             ANL     A,#03FH
0107 FF              958             MOV     R7,A
0108 EF              959             MOV     A,R7
0109 4480            960             ORL     A,#080H
010B FF              961             MOV     R7,A
010C EF              962             MOV     A,R7
010D F0              963             MOVX    @DPTR,A
                     964     ;       P3FREE_SOFT=FREE_RUN;
                     965                             ; SOURCE LINE # 184
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    16

010E 90E02E          966             MOV     DPTR,#0E02EH
0111 E0              967             MOVX    A,@DPTR
0112 FF              968             MOV     R7,A
0113 EF              969             MOV     A,R7
0114 543F            970             ANL     A,#03FH
0116 FF              971             MOV     R7,A
0117 EF              972             MOV     A,R7
0118 4480            973             ORL     A,#080H
011A FF              974             MOV     R7,A
011B EF              975             MOV     A,R7
011C F0              976             MOVX    @DPTR,A
                     977     ;       P4FREE_SOFT=FREE_RUN;
                     978                             ; SOURCE LINE # 185
011D 90E044          979             MOV     DPTR,#0E044H
0120 E0              980             MOVX    A,@DPTR
0121 FF              981             MOV     R7,A
0122 EF              982             MOV     A,R7
0123 543F            983             ANL     A,#03FH
0125 FF              984             MOV     R7,A
0126 EF              985             MOV     A,R7
0127 4480            986             ORL     A,#080H
0129 FF              987             MOV     R7,A
012A EF              988             MOV     A,R7
012B F0              989             MOVX    @DPTR,A
                     990     ; 
                     991     ; // shadow register load mode
                     992     ; 
                     993     ; 
                     994     ;       P1SHDWA_MODE = CC_SHADOW;;                                              // shadow o
                             n,update at CTR = ZERO
                     995                             ; SOURCE LINE # 190
012C 90E007          996             MOV     DPTR,#0E007H
012F E0              997             MOVX    A,@DPTR
0130 FF              998             MOV     R7,A
0131 EF              999             MOV     A,R7
0132 54EF           1000             ANL     A,#0EFH
0134 FF             1001             MOV     R7,A
0135 EF             1002             MOV     A,R7
0136 F0             1003             MOVX    @DPTR,A
                    1004     ;       P1SHDWB_MODE = CC_SHADOW;
                    1005                             ; SOURCE LINE # 191
0137 90E007         1006             MOV     DPTR,#0E007H
013A E0             1007             MOVX    A,@DPTR
013B FF             1008             MOV     R7,A
013C EF             1009             MOV     A,R7
013D 54DF           1010             ANL     A,#0DFH
013F FF             1011             MOV     R7,A
0140 EF             1012             MOV     A,R7
0141 F0             1013             MOVX    @DPTR,A
                    1014     ;       P1LOADA_MODE = CC_CTR_ZERO;
                    1015                             ; SOURCE LINE # 192
0142 90E007         1016             MOV     DPTR,#0E007H
0145 E0             1017             MOVX    A,@DPTR
0146 FF             1018             MOV     R7,A
0147 EF             1019             MOV     A,R7
0148 54FC           1020             ANL     A,#0FCH
014A FF             1021             MOV     R7,A
014B EF             1022             MOV     A,R7
014C F0             1023             MOVX    @DPTR,A
                    1024     ;       P1LOADB_MODE = CC_CTR_ZERO;
                    1025                             ; SOURCE LINE # 193
014D 90E007         1026             MOV     DPTR,#0E007H
0150 E0             1027             MOVX    A,@DPTR
0151 FF             1028             MOV     R7,A
0152 EF             1029             MOV     A,R7
0153 54F3           1030             ANL     A,#0F3H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    17

0155 FF             1031             MOV     R7,A
0156 EF             1032             MOV     A,R7
0157 F0             1033             MOVX    @DPTR,A
                    1034     ;       
                    1035     ;       P2SHDWA_MODE = CC_SHADOW;;                                              // shadow o
                             n,update at CTR = ZERO
                    1036                             ; SOURCE LINE # 195
0158 90E01D         1037             MOV     DPTR,#0E01DH
015B E0             1038             MOVX    A,@DPTR
015C FF             1039             MOV     R7,A
015D EF             1040             MOV     A,R7
015E 54EF           1041             ANL     A,#0EFH
0160 FF             1042             MOV     R7,A
0161 EF             1043             MOV     A,R7
0162 F0             1044             MOVX    @DPTR,A
                    1045     ;       P2SHDWB_MODE = CC_SHADOW;
                    1046                             ; SOURCE LINE # 196
0163 90E01D         1047             MOV     DPTR,#0E01DH
0166 E0             1048             MOVX    A,@DPTR
0167 FF             1049             MOV     R7,A
0168 EF             1050             MOV     A,R7
0169 54DF           1051             ANL     A,#0DFH
016B FF             1052             MOV     R7,A
016C EF             1053             MOV     A,R7
016D F0             1054             MOVX    @DPTR,A
                    1055     ;       P2LOADA_MODE = CC_CTR_ZERO;
                    1056                             ; SOURCE LINE # 197
016E 90E01D         1057             MOV     DPTR,#0E01DH
0171 E0             1058             MOVX    A,@DPTR
0172 FF             1059             MOV     R7,A
0173 EF             1060             MOV     A,R7
0174 54FC           1061             ANL     A,#0FCH
0176 FF             1062             MOV     R7,A
0177 EF             1063             MOV     A,R7
0178 F0             1064             MOVX    @DPTR,A
                    1065     ;       P2LOADB_MODE = CC_CTR_ZERO;
                    1066                             ; SOURCE LINE # 198
0179 90E01D         1067             MOV     DPTR,#0E01DH
017C E0             1068             MOVX    A,@DPTR
017D FF             1069             MOV     R7,A
017E EF             1070             MOV     A,R7
017F 54F3           1071             ANL     A,#0F3H
0181 FF             1072             MOV     R7,A
0182 EF             1073             MOV     A,R7
0183 F0             1074             MOVX    @DPTR,A
                    1075     ;       
                    1076     ;       P3SHDWA_MODE = CC_SHADOW;;                                              // shadow o
                             n,update at CTR = ZERO
                    1077                             ; SOURCE LINE # 200
0184 90E033         1078             MOV     DPTR,#0E033H
0187 E0             1079             MOVX    A,@DPTR
0188 FF             1080             MOV     R7,A
0189 EF             1081             MOV     A,R7
018A 54EF           1082             ANL     A,#0EFH
018C FF             1083             MOV     R7,A
018D EF             1084             MOV     A,R7
018E F0             1085             MOVX    @DPTR,A
                    1086     ;       P3SHDWB_MODE = CC_SHADOW;
                    1087                             ; SOURCE LINE # 201
018F 90E033         1088             MOV     DPTR,#0E033H
0192 E0             1089             MOVX    A,@DPTR
0193 FF             1090             MOV     R7,A
0194 EF             1091             MOV     A,R7
0195 54DF           1092             ANL     A,#0DFH
0197 FF             1093             MOV     R7,A
0198 EF             1094             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    18

0199 F0             1095             MOVX    @DPTR,A
                    1096     ;       P3LOADA_MODE = CC_CTR_ZERO;
                    1097                             ; SOURCE LINE # 202
019A 90E033         1098             MOV     DPTR,#0E033H
019D E0             1099             MOVX    A,@DPTR
019E FF             1100             MOV     R7,A
019F EF             1101             MOV     A,R7
01A0 54FC           1102             ANL     A,#0FCH
01A2 FF             1103             MOV     R7,A
01A3 EF             1104             MOV     A,R7
01A4 F0             1105             MOVX    @DPTR,A
                    1106     ;       P3LOADB_MODE = CC_CTR_ZERO;
                    1107                             ; SOURCE LINE # 203
01A5 90E033         1108             MOV     DPTR,#0E033H
01A8 E0             1109             MOVX    A,@DPTR
01A9 FF             1110             MOV     R7,A
01AA EF             1111             MOV     A,R7
01AB 54F3           1112             ANL     A,#0F3H
01AD FF             1113             MOV     R7,A
01AE EF             1114             MOV     A,R7
01AF F0             1115             MOVX    @DPTR,A
                    1116     ;       
                    1117     ;       P4SHDWA_MODE = CC_SHADOW;;                                              // shadow o
                             n,update at CTR = ZERO
                    1118                             ; SOURCE LINE # 205
01B0 90E049         1119             MOV     DPTR,#0E049H
01B3 E0             1120             MOVX    A,@DPTR
01B4 FF             1121             MOV     R7,A
01B5 EF             1122             MOV     A,R7
01B6 54EF           1123             ANL     A,#0EFH
01B8 FF             1124             MOV     R7,A
01B9 EF             1125             MOV     A,R7
01BA F0             1126             MOVX    @DPTR,A
                    1127     ;       P4SHDWB_MODE = CC_SHADOW;
                    1128                             ; SOURCE LINE # 206
01BB 90E049         1129             MOV     DPTR,#0E049H
01BE E0             1130             MOVX    A,@DPTR
01BF FF             1131             MOV     R7,A
01C0 EF             1132             MOV     A,R7
01C1 54DF           1133             ANL     A,#0DFH
01C3 FF             1134             MOV     R7,A
01C4 EF             1135             MOV     A,R7
01C5 F0             1136             MOVX    @DPTR,A
                    1137     ;       P4LOADA_MODE = CC_CTR_ZERO;
                    1138                             ; SOURCE LINE # 207
01C6 90E049         1139             MOV     DPTR,#0E049H
01C9 E0             1140             MOVX    A,@DPTR
01CA FF             1141             MOV     R7,A
01CB EF             1142             MOV     A,R7
01CC 54FC           1143             ANL     A,#0FCH
01CE FF             1144             MOV     R7,A
01CF EF             1145             MOV     A,R7
01D0 F0             1146             MOVX    @DPTR,A
                    1147     ;       P4LOADB_MODE = CC_CTR_ZERO;
                    1148                             ; SOURCE LINE # 208
01D1 90E049         1149             MOV     DPTR,#0E049H
01D4 E0             1150             MOVX    A,@DPTR
01D5 FF             1151             MOV     R7,A
01D6 EF             1152             MOV     A,R7
01D7 54F3           1153             ANL     A,#0F3H
01D9 FF             1154             MOV     R7,A
01DA EF             1155             MOV     A,R7
01DB F0             1156             MOVX    @DPTR,A
                    1157     ;       
                    1158     ;       
                    1159     ;       
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    19

                    1160     ;       //PWMxA waveform counter condition
                    1161     ;       // when counter count up to cmpA value, PWMxA output is set high, when counter coun
                             t down to cmpA value, PWMxA output is clear
                    1162     ;       // when cmpB is disable 
                    1163     ;       
                    1164     ;       P1CADA=AQ_CLEAR;                    
                    1165                             ; SOURCE LINE # 216
01DC 90E009         1166             MOV     DPTR,#0E009H
01DF E0             1167             MOVX    A,@DPTR
01E0 FF             1168             MOV     R7,A
01E1 EF             1169             MOV     A,R7
01E2 543F           1170             ANL     A,#03FH
01E4 FF             1171             MOV     R7,A
01E5 EF             1172             MOV     A,R7
01E6 4440           1173             ORL     A,#040H
01E8 FF             1174             MOV     R7,A
01E9 EF             1175             MOV     A,R7
01EA F0             1176             MOVX    @DPTR,A
                    1177     ;       P1CAUA=AQ_SET;
                    1178                             ; SOURCE LINE # 217
01EB 90E009         1179             MOV     DPTR,#0E009H
01EE E0             1180             MOVX    A,@DPTR
01EF FF             1181             MOV     R7,A
01F0 EF             1182             MOV     A,R7
01F1 54CF           1183             ANL     A,#0CFH
01F3 FF             1184             MOV     R7,A
01F4 EF             1185             MOV     A,R7
01F5 4420           1186             ORL     A,#020H
01F7 FF             1187             MOV     R7,A
01F8 EF             1188             MOV     A,R7
01F9 F0             1189             MOVX    @DPTR,A
                    1190     ;       P1CBDA=AQ_NO_ACTION;                
                    1191                             ; SOURCE LINE # 218
01FA 90E008         1192             MOV     DPTR,#0E008H
01FD E0             1193             MOVX    A,@DPTR
01FE FF             1194             MOV     R7,A
01FF EF             1195             MOV     A,R7
0200 54F3           1196             ANL     A,#0F3H
0202 FF             1197             MOV     R7,A
0203 EF             1198             MOV     A,R7
0204 F0             1199             MOVX    @DPTR,A
                    1200     ;       P1CBUA=AQ_NO_ACTION;
                    1201                             ; SOURCE LINE # 219
0205 90E008         1202             MOV     DPTR,#0E008H
0208 E0             1203             MOVX    A,@DPTR
0209 FF             1204             MOV     R7,A
020A EF             1205             MOV     A,R7
020B 54FC           1206             ANL     A,#0FCH
020D FF             1207             MOV     R7,A
020E EF             1208             MOV     A,R7
020F F0             1209             MOVX    @DPTR,A
                    1210     ;       P1PRDA=AQ_NO_ACTION;
                    1211                             ; SOURCE LINE # 220
0210 90E009         1212             MOV     DPTR,#0E009H
0213 E0             1213             MOVX    A,@DPTR
0214 FF             1214             MOV     R7,A
0215 EF             1215             MOV     A,R7
0216 54F3           1216             ANL     A,#0F3H
0218 FF             1217             MOV     R7,A
0219 EF             1218             MOV     A,R7
021A F0             1219             MOVX    @DPTR,A
                    1220     ;       P1ZROA=AQ_NO_ACTION;
                    1221                             ; SOURCE LINE # 221
021B 90E009         1222             MOV     DPTR,#0E009H
021E E0             1223             MOVX    A,@DPTR
021F FF             1224             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    20

0220 EF             1225             MOV     A,R7
0221 54FC           1226             ANL     A,#0FCH
0223 FF             1227             MOV     R7,A
0224 EF             1228             MOV     A,R7
0225 F0             1229             MOVX    @DPTR,A
                    1230     ;       
                    1231     ;       P2CADA=AQ_CLEAR;                    
                    1232                             ; SOURCE LINE # 223
0226 90E01F         1233             MOV     DPTR,#0E01FH
0229 E0             1234             MOVX    A,@DPTR
022A FF             1235             MOV     R7,A
022B EF             1236             MOV     A,R7
022C 543F           1237             ANL     A,#03FH
022E FF             1238             MOV     R7,A
022F EF             1239             MOV     A,R7
0230 4440           1240             ORL     A,#040H
0232 FF             1241             MOV     R7,A
0233 EF             1242             MOV     A,R7
0234 F0             1243             MOVX    @DPTR,A
                    1244     ;       P2CAUA=AQ_SET;
                    1245                             ; SOURCE LINE # 224
0235 90E01F         1246             MOV     DPTR,#0E01FH
0238 E0             1247             MOVX    A,@DPTR
0239 FF             1248             MOV     R7,A
023A EF             1249             MOV     A,R7
023B 54CF           1250             ANL     A,#0CFH
023D FF             1251             MOV     R7,A
023E EF             1252             MOV     A,R7
023F 4420           1253             ORL     A,#020H
0241 FF             1254             MOV     R7,A
0242 EF             1255             MOV     A,R7
0243 F0             1256             MOVX    @DPTR,A
                    1257     ;       P2CBDA=AQ_NO_ACTION;                     
                    1258                             ; SOURCE LINE # 225
0244 90E01E         1259             MOV     DPTR,#0E01EH
0247 E0             1260             MOVX    A,@DPTR
0248 FF             1261             MOV     R7,A
0249 EF             1262             MOV     A,R7
024A 54F3           1263             ANL     A,#0F3H
024C FF             1264             MOV     R7,A
024D EF             1265             MOV     A,R7
024E F0             1266             MOVX    @DPTR,A
                    1267     ;       P2CBUA=AQ_NO_ACTION;
                    1268                             ; SOURCE LINE # 226
024F 90E01E         1269             MOV     DPTR,#0E01EH
0252 E0             1270             MOVX    A,@DPTR
0253 FF             1271             MOV     R7,A
0254 EF             1272             MOV     A,R7
0255 54FC           1273             ANL     A,#0FCH
0257 FF             1274             MOV     R7,A
0258 EF             1275             MOV     A,R7
0259 F0             1276             MOVX    @DPTR,A
                    1277     ;       P2PRDA=AQ_NO_ACTION;
                    1278                             ; SOURCE LINE # 227
025A 90E01F         1279             MOV     DPTR,#0E01FH
025D E0             1280             MOVX    A,@DPTR
025E FF             1281             MOV     R7,A
025F EF             1282             MOV     A,R7
0260 54F3           1283             ANL     A,#0F3H
0262 FF             1284             MOV     R7,A
0263 EF             1285             MOV     A,R7
0264 F0             1286             MOVX    @DPTR,A
                    1287     ;       P2ZROA=AQ_NO_ACTION;
                    1288                             ; SOURCE LINE # 228
0265 90E01F         1289             MOV     DPTR,#0E01FH
0268 E0             1290             MOVX    A,@DPTR
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    21

0269 FF             1291             MOV     R7,A
026A EF             1292             MOV     A,R7
026B 54FC           1293             ANL     A,#0FCH
026D FF             1294             MOV     R7,A
026E EF             1295             MOV     A,R7
026F F0             1296             MOVX    @DPTR,A
                    1297     ;       
                    1298     ;       
                    1299     ;       P3CADA=AQ_CLEAR;                     
                    1300                             ; SOURCE LINE # 231
0270 90E035         1301             MOV     DPTR,#0E035H
0273 E0             1302             MOVX    A,@DPTR
0274 FF             1303             MOV     R7,A
0275 EF             1304             MOV     A,R7
0276 543F           1305             ANL     A,#03FH
0278 FF             1306             MOV     R7,A
0279 EF             1307             MOV     A,R7
027A 4440           1308             ORL     A,#040H
027C FF             1309             MOV     R7,A
027D EF             1310             MOV     A,R7
027E F0             1311             MOVX    @DPTR,A
                    1312     ;       P3CAUA=AQ_SET;
                    1313                             ; SOURCE LINE # 232
027F 90E035         1314             MOV     DPTR,#0E035H
0282 E0             1315             MOVX    A,@DPTR
0283 FF             1316             MOV     R7,A
0284 EF             1317             MOV     A,R7
0285 54CF           1318             ANL     A,#0CFH
0287 FF             1319             MOV     R7,A
0288 EF             1320             MOV     A,R7
0289 4420           1321             ORL     A,#020H
028B FF             1322             MOV     R7,A
028C EF             1323             MOV     A,R7
028D F0             1324             MOVX    @DPTR,A
                    1325     ;       P3CBDA=AQ_NO_ACTION;                       
                    1326                             ; SOURCE LINE # 233
028E 90E034         1327             MOV     DPTR,#0E034H
0291 E0             1328             MOVX    A,@DPTR
0292 FF             1329             MOV     R7,A
0293 EF             1330             MOV     A,R7
0294 54F3           1331             ANL     A,#0F3H
0296 FF             1332             MOV     R7,A
0297 EF             1333             MOV     A,R7
0298 F0             1334             MOVX    @DPTR,A
                    1335     ;       P3CBUA=AQ_NO_ACTION;
                    1336                             ; SOURCE LINE # 234
0299 90E034         1337             MOV     DPTR,#0E034H
029C E0             1338             MOVX    A,@DPTR
029D FF             1339             MOV     R7,A
029E EF             1340             MOV     A,R7
029F 54FC           1341             ANL     A,#0FCH
02A1 FF             1342             MOV     R7,A
02A2 EF             1343             MOV     A,R7
02A3 F0             1344             MOVX    @DPTR,A
                    1345     ;       P3PRDA=AQ_NO_ACTION;
                    1346                             ; SOURCE LINE # 235
02A4 90E035         1347             MOV     DPTR,#0E035H
02A7 E0             1348             MOVX    A,@DPTR
02A8 FF             1349             MOV     R7,A
02A9 EF             1350             MOV     A,R7
02AA 54F3           1351             ANL     A,#0F3H
02AC FF             1352             MOV     R7,A
02AD EF             1353             MOV     A,R7
02AE F0             1354             MOVX    @DPTR,A
                    1355     ;       P3ZROA=AQ_NO_ACTION;
                    1356                             ; SOURCE LINE # 236
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    22

02AF 90E035         1357             MOV     DPTR,#0E035H
02B2 E0             1358             MOVX    A,@DPTR
02B3 FF             1359             MOV     R7,A
02B4 EF             1360             MOV     A,R7
02B5 54FC           1361             ANL     A,#0FCH
02B7 FF             1362             MOV     R7,A
02B8 EF             1363             MOV     A,R7
02B9 F0             1364             MOVX    @DPTR,A
                    1365     ;       
                    1366     ;       
                    1367     ;       P4CADA=AQ_CLEAR;                     
                    1368                             ; SOURCE LINE # 239
02BA 90E04B         1369             MOV     DPTR,#0E04BH
02BD E0             1370             MOVX    A,@DPTR
02BE FF             1371             MOV     R7,A
02BF EF             1372             MOV     A,R7
02C0 543F           1373             ANL     A,#03FH
02C2 FF             1374             MOV     R7,A
02C3 EF             1375             MOV     A,R7
02C4 4440           1376             ORL     A,#040H
02C6 FF             1377             MOV     R7,A
02C7 EF             1378             MOV     A,R7
02C8 F0             1379             MOVX    @DPTR,A
                    1380     ;       P4CAUA=AQ_SET;
                    1381                             ; SOURCE LINE # 240
02C9 90E04B         1382             MOV     DPTR,#0E04BH
02CC E0             1383             MOVX    A,@DPTR
02CD FF             1384             MOV     R7,A
02CE EF             1385             MOV     A,R7
02CF 54CF           1386             ANL     A,#0CFH
02D1 FF             1387             MOV     R7,A
02D2 EF             1388             MOV     A,R7
02D3 4420           1389             ORL     A,#020H
02D5 FF             1390             MOV     R7,A
02D6 EF             1391             MOV     A,R7
02D7 F0             1392             MOVX    @DPTR,A
                    1393     ;       P4CBDA=AQ_NO_ACTION;                
                    1394                             ; SOURCE LINE # 241
02D8 90E04A         1395             MOV     DPTR,#0E04AH
02DB E0             1396             MOVX    A,@DPTR
02DC FF             1397             MOV     R7,A
02DD EF             1398             MOV     A,R7
02DE 54F3           1399             ANL     A,#0F3H
02E0 FF             1400             MOV     R7,A
02E1 EF             1401             MOV     A,R7
02E2 F0             1402             MOVX    @DPTR,A
                    1403     ;       P4CBUA=AQ_NO_ACTION;
                    1404                             ; SOURCE LINE # 242
02E3 90E04A         1405             MOV     DPTR,#0E04AH
02E6 E0             1406             MOVX    A,@DPTR
02E7 FF             1407             MOV     R7,A
02E8 EF             1408             MOV     A,R7
02E9 54FC           1409             ANL     A,#0FCH
02EB FF             1410             MOV     R7,A
02EC EF             1411             MOV     A,R7
02ED F0             1412             MOVX    @DPTR,A
                    1413     ;       P4PRDA=AQ_NO_ACTION;
                    1414                             ; SOURCE LINE # 243
02EE 90E04B         1415             MOV     DPTR,#0E04BH
02F1 E0             1416             MOVX    A,@DPTR
02F2 FF             1417             MOV     R7,A
02F3 EF             1418             MOV     A,R7
02F4 54F3           1419             ANL     A,#0F3H
02F6 FF             1420             MOV     R7,A
02F7 EF             1421             MOV     A,R7
02F8 F0             1422             MOVX    @DPTR,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    23

                    1423     ;       P4ZROA=AQ_NO_ACTION;
                    1424                             ; SOURCE LINE # 244
02F9 90E04B         1425             MOV     DPTR,#0E04BH
02FC E0             1426             MOVX    A,@DPTR
02FD FF             1427             MOV     R7,A
02FE EF             1428             MOV     A,R7
02FF 54FC           1429             ANL     A,#0FCH
0301 FF             1430             MOV     R7,A
0302 EF             1431             MOV     A,R7
0303 F0             1432             MOVX    @DPTR,A
                    1433     ;       
                    1434     ;       
                    1435     ;       
                    1436     ; 
                    1437     ; //    P1ZROA = AQ_SET;                                                         // CTR = Z
                             ERO set,CTR = CMPA up clear,CTR = PRD nothing,CTR = CMPA down nothing
                    1438     ; //  P1CAUA = AQ_CLEAR;
                    1439     ; //  P1PRDA = AQ_NO_ACTION;
                    1440     ; //  P1CADA = AQ_NO_ACTION;
                    1441     ; //  P1CBDA = AQ_NO_ACTION;         // when cmpB pwmxA do nothing
                    1442     ; //  P1CBUA = AQ_NO_ACTION;
                    1443     ; 
                    1444     ; 
                    1445     ; //    P1ZROA = AQ_SET;                                                        
                    1446     ; //    P1CAUA = AQ_NO_ACTION;                                                  // CTR = ZE
                             RO set,CTR = CMPA up nothing,CTR = PRD nothing,CTR = CMPA down nothing
                    1447     ; //  P1PRDA = AQ_NO_ACTION;
                    1448     ; //  P!CADA = AQ_NO_ACTION;
                    1449     ; //    P1CBUA = AQ_CLEAR;                                                      // CTR incr
                             ement upto CMPB  then clear PWMxA output
                    1450     ; //  P1CBDA = AQ_NO_ACTION;
                    1451     ; ;
                    1452     ; 
                    1453     ; 
                    1454     ;       //PWMxB waveform counter condition , PWMxB can be use seperately by setting P1OUT_M
                             ODE=DB_DISABLE
                    1455     ;       // when counter count up to cmpA value, PWMxB output is clear, when counter count d
                             own to cmpA value, PWMxB output is set,  PWMxB is complement of PWMxA
                    1456     ;       // when cmpB is disable 
                    1457     ;       
                    1458     ; //    P1CADB=AQ_SET;                    
                    1459     ; //    P1CAUB=AQ_CLEAR;
                    1460     ; //    P1CBDB=AQ_NO_ACTION;                
                    1461     ; //    P1CBUB=AQ_NO_ACTION;
                    1462     ; //    P1PRDB=AQ_NO_ACTION;
                    1463     ; //    P1ZROB=AQ_NO_ACTION;
                    1464     ;       
                    1465     ; 
                    1466     ; //Dead band generator control enable and set dead band time
                    1467     ; 
                    1468     ; 
                    1469     ;   P1OUT_MODE=DB_FULL_ENABLE;   // output is dead band full enable, rising edge delay on P
                             WMxA and falling edge delay on PWMxB
                    1470                             ; SOURCE LINE # 281
0304 90E00C         1471             MOV     DPTR,#0E00CH
0307 E0             1472             MOVX    A,@DPTR
0308 FF             1473             MOV     R7,A
0309 EF             1474             MOV     A,R7
030A 4403           1475             ORL     A,#03H
030C FF             1476             MOV     R7,A
030D EF             1477             MOV     A,R7
030E F0             1478             MOVX    @DPTR,A
                    1479     ;   P1POLSEL=DB_ACTV_HIC;        //PWMxB is inverted or active high complement
                    1480                             ; SOURCE LINE # 282
030F 90E00C         1481             MOV     DPTR,#0E00CH
0312 E0             1482             MOVX    A,@DPTR
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    24

0313 FF             1483             MOV     R7,A
0314 EF             1484             MOV     A,R7
0315 54F3           1485             ANL     A,#0F3H
0317 FF             1486             MOV     R7,A
0318 EF             1487             MOV     A,R7
0319 4408           1488             ORL     A,#08H
031B FF             1489             MOV     R7,A
031C EF             1490             MOV     A,R7
031D F0             1491             MOVX    @DPTR,A
                    1492     ;   P1IN_MODE=DB_AUAD;           // rising edge delay source from epwmxA, falling edge dela
                             y source from epwmxA,
                    1493                             ; SOURCE LINE # 283
031E 90E00C         1494             MOV     DPTR,#0E00CH
0321 E0             1495             MOVX    A,@DPTR
0322 FF             1496             MOV     R7,A
0323 EF             1497             MOV     A,R7
0324 54CF           1498             ANL     A,#0CFH
0326 FF             1499             MOV     R7,A
0327 EF             1500             MOV     A,R7
0328 F0             1501             MOVX    @DPTR,A
                    1502     ; 
                    1503     ;   P2OUT_MODE=DB_FULL_ENABLE;   // output is dead band full enable, rising edge delay on P
                             WMxA and falling edge delay on PWMxB
                    1504                             ; SOURCE LINE # 285
0329 90E022         1505             MOV     DPTR,#0E022H
032C E0             1506             MOVX    A,@DPTR
032D FF             1507             MOV     R7,A
032E EF             1508             MOV     A,R7
032F 4403           1509             ORL     A,#03H
0331 FF             1510             MOV     R7,A
0332 EF             1511             MOV     A,R7
0333 F0             1512             MOVX    @DPTR,A
                    1513     ;   P2POLSEL=DB_ACTV_HIC;        //PWMxB is inverted or active high complement
                    1514                             ; SOURCE LINE # 286
0334 90E022         1515             MOV     DPTR,#0E022H
0337 E0             1516             MOVX    A,@DPTR
0338 FF             1517             MOV     R7,A
0339 EF             1518             MOV     A,R7
033A 54F3           1519             ANL     A,#0F3H
033C FF             1520             MOV     R7,A
033D EF             1521             MOV     A,R7
033E 4408           1522             ORL     A,#08H
0340 FF             1523             MOV     R7,A
0341 EF             1524             MOV     A,R7
0342 F0             1525             MOVX    @DPTR,A
                    1526     ;   P2IN_MODE=DB_AUAD;           // rising edge delay source from epwmxA, falling edge dela
                             y source from epwmxA,
                    1527                             ; SOURCE LINE # 287
0343 90E022         1528             MOV     DPTR,#0E022H
0346 E0             1529             MOVX    A,@DPTR
0347 FF             1530             MOV     R7,A
0348 EF             1531             MOV     A,R7
0349 54CF           1532             ANL     A,#0CFH
034B FF             1533             MOV     R7,A
034C EF             1534             MOV     A,R7
034D F0             1535             MOVX    @DPTR,A
                    1536     ; 
                    1537     ;   P3OUT_MODE=DB_FULL_ENABLE;   // output is dead band full enable, rising edge delay on P
                             WMxA and falling edge delay on PWMxB
                    1538                             ; SOURCE LINE # 289
034E 90E038         1539             MOV     DPTR,#0E038H
0351 E0             1540             MOVX    A,@DPTR
0352 FF             1541             MOV     R7,A
0353 EF             1542             MOV     A,R7
0354 4403           1543             ORL     A,#03H
0356 FF             1544             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    25

0357 EF             1545             MOV     A,R7
0358 F0             1546             MOVX    @DPTR,A
                    1547     ;   P3POLSEL=DB_ACTV_HIC;        //PWMxB is inverted or active high complement
                    1548                             ; SOURCE LINE # 290
0359 90E038         1549             MOV     DPTR,#0E038H
035C E0             1550             MOVX    A,@DPTR
035D FF             1551             MOV     R7,A
035E EF             1552             MOV     A,R7
035F 54F3           1553             ANL     A,#0F3H
0361 FF             1554             MOV     R7,A
0362 EF             1555             MOV     A,R7
0363 4408           1556             ORL     A,#08H
0365 FF             1557             MOV     R7,A
0366 EF             1558             MOV     A,R7
0367 F0             1559             MOVX    @DPTR,A
                    1560     ;   P3IN_MODE=DB_AUAD;           // rising edge delay source from epwmxA, falling edge dela
                             y source from epwmxA,
                    1561                             ; SOURCE LINE # 291
0368 90E038         1562             MOV     DPTR,#0E038H
036B E0             1563             MOVX    A,@DPTR
036C FF             1564             MOV     R7,A
036D EF             1565             MOV     A,R7
036E 54CF           1566             ANL     A,#0CFH
0370 FF             1567             MOV     R7,A
0371 EF             1568             MOV     A,R7
0372 F0             1569             MOVX    @DPTR,A
                    1570     ; 
                    1571     ;   P4OUT_MODE=DB_FULL_ENABLE;   // output is dead band full enable, rising edge delay on P
                             WMxA and falling edge delay on PWMxB
                    1572                             ; SOURCE LINE # 293
0373 90E04E         1573             MOV     DPTR,#0E04EH
0376 E0             1574             MOVX    A,@DPTR
0377 FF             1575             MOV     R7,A
0378 EF             1576             MOV     A,R7
0379 4403           1577             ORL     A,#03H
037B FF             1578             MOV     R7,A
037C EF             1579             MOV     A,R7
037D F0             1580             MOVX    @DPTR,A
                    1581     ;   P4POLSEL=DB_ACTV_HIC;        //PWMxB is inverted or active high complement
                    1582                             ; SOURCE LINE # 294
037E 90E04E         1583             MOV     DPTR,#0E04EH
0381 E0             1584             MOVX    A,@DPTR
0382 FF             1585             MOV     R7,A
0383 EF             1586             MOV     A,R7
0384 54F3           1587             ANL     A,#0F3H
0386 FF             1588             MOV     R7,A
0387 EF             1589             MOV     A,R7
0388 4408           1590             ORL     A,#08H
038A FF             1591             MOV     R7,A
038B EF             1592             MOV     A,R7
038C F0             1593             MOVX    @DPTR,A
                    1594     ;   P4IN_MODE=DB_AUAD;           // rising edge delay source from epwmxA, falling edge dela
                             y source from epwmxA,
                    1595                             ; SOURCE LINE # 295
038D 90E04E         1596             MOV     DPTR,#0E04EH
0390 E0             1597             MOVX    A,@DPTR
0391 FF             1598             MOV     R7,A
0392 EF             1599             MOV     A,R7
0393 54CF           1600             ANL     A,#0CFH
0395 FF             1601             MOV     R7,A
0396 EF             1602             MOV     A,R7
0397 F0             1603             MOVX    @DPTR,A
                    1604     ; 
                    1605     ; 
                    1606     ; 
                    1607     ; //    P1OUT_MODE=DB_FULL_ENABLE;                                                      // 
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    26

                             delay source is epwmxA,dead band full,epwmxA invert
                    1608     ; //    P1POLSEL=DB_ACTV_LOC;
                    1609     ; //    P1IN_MODE=DB_AUAD;
                    1610     ;  
                    1611     ; 
                    1612     ; 
                    1613     ; 
                    1614     ;   P1DBRED = 0x0032;//0x0A                                             // rise edge dead t
                             ime is 1.25uS
                    1615                             ; SOURCE LINE # 306
0398 90E00D         1616             MOV     DPTR,#0E00DH
039B E4             1617             CLR     A
039C F0             1618             MOVX    @DPTR,A
039D A3             1619             INC     DPTR
039E 7432           1620             MOV     A,#032H
03A0 F0             1621             MOVX    @DPTR,A
                    1622     ;       P2DBRED = 0x0032;
                    1623                             ; SOURCE LINE # 307
03A1 90E023         1624             MOV     DPTR,#0E023H
03A4 E4             1625             CLR     A
03A5 F0             1626             MOVX    @DPTR,A
03A6 A3             1627             INC     DPTR
03A7 7432           1628             MOV     A,#032H
03A9 F0             1629             MOVX    @DPTR,A
                    1630     ;       P3DBRED = 0x0032;
                    1631                             ; SOURCE LINE # 308
03AA 90E039         1632             MOV     DPTR,#0E039H
03AD E4             1633             CLR     A
03AE F0             1634             MOVX    @DPTR,A
03AF A3             1635             INC     DPTR
03B0 7432           1636             MOV     A,#032H
03B2 F0             1637             MOVX    @DPTR,A
                    1638     ;       P4DBRED = 0x0032;
                    1639                             ; SOURCE LINE # 309
03B3 90E04F         1640             MOV     DPTR,#0E04FH
03B6 E4             1641             CLR     A
03B7 F0             1642             MOVX    @DPTR,A
03B8 A3             1643             INC     DPTR
03B9 7432           1644             MOV     A,#032H
03BB F0             1645             MOVX    @DPTR,A
                    1646     ;       
                    1647     ;       P1DBFED = 0x0032;               // fall edge dead time is 1.25uS
                    1648                             ; SOURCE LINE # 311
03BC 90E00F         1649             MOV     DPTR,#0E00FH
03BF E4             1650             CLR     A
03C0 F0             1651             MOVX    @DPTR,A
03C1 A3             1652             INC     DPTR
03C2 7432           1653             MOV     A,#032H
03C4 F0             1654             MOVX    @DPTR,A
                    1655     ;   P2DBFED = 0x0032;
                    1656                             ; SOURCE LINE # 312
03C5 90E025         1657             MOV     DPTR,#0E025H
03C8 E4             1658             CLR     A
03C9 F0             1659             MOVX    @DPTR,A
03CA A3             1660             INC     DPTR
03CB 7432           1661             MOV     A,#032H
03CD F0             1662             MOVX    @DPTR,A
                    1663     ;   P3DBFED = 0x0032;
                    1664                             ; SOURCE LINE # 313
03CE 90E03B         1665             MOV     DPTR,#0E03BH
03D1 E4             1666             CLR     A
03D2 F0             1667             MOVX    @DPTR,A
03D3 A3             1668             INC     DPTR
03D4 7432           1669             MOV     A,#032H
03D6 F0             1670             MOVX    @DPTR,A
                    1671     ;   P4DBFED = 0x0032;
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    27

                    1672                             ; SOURCE LINE # 314
03D7 90E051         1673             MOV     DPTR,#0E051H
03DA E4             1674             CLR     A
03DB F0             1675             MOVX    @DPTR,A
03DC A3             1676             INC     DPTR
03DD 7432           1677             MOV     A,#032H
03DF F0             1678             MOVX    @DPTR,A
                    1679     ; 
                    1680     ; 
                    1681     ; //     P1OUT_MODE=DB_DISABLE;                                         // dead band is byp
                             ass
                    1682     ; //     P2OUT_MODE=DB_DISABLE;         
                    1683     ; //     P3OUT_MODE=DB_DISABLE;         
                    1684     ; //     P4OUT_MODE=DB_DISABLE;         
                    1685     ; 
                    1686     ; 
                    1687     ; 
                    1688     ; // trip zone control: OSHT ---for one time; CBC for cycle by cycle
                    1689     ; 
                    1690     ;       P1TZ_OSHT =     TZ_ENABLE;                      // OSHT enable
                    1691                             ; SOURCE LINE # 326
03E0 90E011         1692             MOV     DPTR,#0E011H
03E3 E0             1693             MOVX    A,@DPTR
03E4 FF             1694             MOV     R7,A
03E5 EF             1695             MOV     A,R7
03E6 4401           1696             ORL     A,#01H
03E8 FF             1697             MOV     R7,A
03E9 EF             1698             MOV     A,R7
03EA F0             1699             MOVX    @DPTR,A
                    1700     ;       P1TZ_CBC =   TZ_DISABLE;
                    1701                             ; SOURCE LINE # 327
03EB 90E011         1702             MOV     DPTR,#0E011H
03EE E0             1703             MOVX    A,@DPTR
03EF FF             1704             MOV     R7,A
03F0 EF             1705             MOV     A,R7
03F1 54FD           1706             ANL     A,#0FDH
03F3 FF             1707             MOV     R7,A
03F4 EF             1708             MOV     A,R7
03F5 F0             1709             MOVX    @DPTR,A
                    1710     ;       
                    1711     ;       P2TZ_OSHT =     TZ_ENABLE;                              // OSHT enable
                    1712                             ; SOURCE LINE # 329
03F6 90E027         1713             MOV     DPTR,#0E027H
03F9 E0             1714             MOVX    A,@DPTR
03FA FF             1715             MOV     R7,A
03FB EF             1716             MOV     A,R7
03FC 4401           1717             ORL     A,#01H
03FE FF             1718             MOV     R7,A
03FF EF             1719             MOV     A,R7
0400 F0             1720             MOVX    @DPTR,A
                    1721     ;       P2TZ_CBC =   TZ_DISABLE;
                    1722                             ; SOURCE LINE # 330
0401 90E027         1723             MOV     DPTR,#0E027H
0404 E0             1724             MOVX    A,@DPTR
0405 FF             1725             MOV     R7,A
0406 EF             1726             MOV     A,R7
0407 54FD           1727             ANL     A,#0FDH
0409 FF             1728             MOV     R7,A
040A EF             1729             MOV     A,R7
040B F0             1730             MOVX    @DPTR,A
                    1731     ;       
                    1732     ;       P3TZ_OSHT =     TZ_ENABLE;                              // OSHT enable
                    1733                             ; SOURCE LINE # 332
040C 90E03D         1734             MOV     DPTR,#0E03DH
040F E0             1735             MOVX    A,@DPTR
0410 FF             1736             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    28

0411 EF             1737             MOV     A,R7
0412 4401           1738             ORL     A,#01H
0414 FF             1739             MOV     R7,A
0415 EF             1740             MOV     A,R7
0416 F0             1741             MOVX    @DPTR,A
                    1742     ;       P3TZ_CBC =   TZ_DISABLE;
                    1743                             ; SOURCE LINE # 333
0417 90E03D         1744             MOV     DPTR,#0E03DH
041A E0             1745             MOVX    A,@DPTR
041B FF             1746             MOV     R7,A
041C EF             1747             MOV     A,R7
041D 54FD           1748             ANL     A,#0FDH
041F FF             1749             MOV     R7,A
0420 EF             1750             MOV     A,R7
0421 F0             1751             MOVX    @DPTR,A
                    1752     ;       
                    1753     ;       P4TZ_OSHT =     TZ_ENABLE;                              // OSHT enable
                    1754                             ; SOURCE LINE # 335
0422 90E053         1755             MOV     DPTR,#0E053H
0425 E0             1756             MOVX    A,@DPTR
0426 FF             1757             MOV     R7,A
0427 EF             1758             MOV     A,R7
0428 4401           1759             ORL     A,#01H
042A FF             1760             MOV     R7,A
042B EF             1761             MOV     A,R7
042C F0             1762             MOVX    @DPTR,A
                    1763     ;       P4TZ_CBC =   TZ_DISABLE;
                    1764                             ; SOURCE LINE # 336
042D 90E053         1765             MOV     DPTR,#0E053H
0430 E0             1766             MOVX    A,@DPTR
0431 FF             1767             MOV     R7,A
0432 EF             1768             MOV     A,R7
0433 54FD           1769             ANL     A,#0FDH
0435 FF             1770             MOV     R7,A
0436 EF             1771             MOV     A,R7
0437 F0             1772             MOVX    @DPTR,A
                    1773     ;       
                    1774     ;       P1TZA=TZ_HIZ;              // when trigger,epwmxA high impedance
                    1775                             ; SOURCE LINE # 338
0438 90E012         1776             MOV     DPTR,#0E012H
043B E0             1777             MOVX    A,@DPTR
043C FF             1778             MOV     R7,A
043D EF             1779             MOV     A,R7
043E 54FC           1780             ANL     A,#0FCH
0440 FF             1781             MOV     R7,A
0441 EF             1782             MOV     A,R7
0442 F0             1783             MOVX    @DPTR,A
                    1784     ;       P1TZB=TZ_HIZ;              // when trigger,epwmxB high impedance
                    1785                             ; SOURCE LINE # 339
0443 90E012         1786             MOV     DPTR,#0E012H
0446 E0             1787             MOVX    A,@DPTR
0447 FF             1788             MOV     R7,A
0448 EF             1789             MOV     A,R7
0449 54F3           1790             ANL     A,#0F3H
044B FF             1791             MOV     R7,A
044C EF             1792             MOV     A,R7
044D F0             1793             MOVX    @DPTR,A
                    1794     ;       
                    1795     ;       P2TZA=TZ_HIZ;              // when trigger,epwmxA high impedance
                    1796                             ; SOURCE LINE # 341
044E 90E028         1797             MOV     DPTR,#0E028H
0451 E0             1798             MOVX    A,@DPTR
0452 FF             1799             MOV     R7,A
0453 EF             1800             MOV     A,R7
0454 54FC           1801             ANL     A,#0FCH
0456 FF             1802             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    29

0457 EF             1803             MOV     A,R7
0458 F0             1804             MOVX    @DPTR,A
                    1805     ;       P2TZB=TZ_HIZ;              // when trigger,epwmxB high impedance
                    1806                             ; SOURCE LINE # 342
0459 90E028         1807             MOV     DPTR,#0E028H
045C E0             1808             MOVX    A,@DPTR
045D FF             1809             MOV     R7,A
045E EF             1810             MOV     A,R7
045F 54F3           1811             ANL     A,#0F3H
0461 FF             1812             MOV     R7,A
0462 EF             1813             MOV     A,R7
0463 F0             1814             MOVX    @DPTR,A
                    1815     ;       
                    1816     ;       P3TZA=TZ_HIZ;              // when trigger,epwmxA high impedance
                    1817                             ; SOURCE LINE # 344
0464 90E03E         1818             MOV     DPTR,#0E03EH
0467 E0             1819             MOVX    A,@DPTR
0468 FF             1820             MOV     R7,A
0469 EF             1821             MOV     A,R7
046A 54FC           1822             ANL     A,#0FCH
046C FF             1823             MOV     R7,A
046D EF             1824             MOV     A,R7
046E F0             1825             MOVX    @DPTR,A
                    1826     ;       P3TZB=TZ_HIZ;              // when trigger,epwmxB high impedance
                    1827                             ; SOURCE LINE # 345
046F 90E03E         1828             MOV     DPTR,#0E03EH
0472 E0             1829             MOVX    A,@DPTR
0473 FF             1830             MOV     R7,A
0474 EF             1831             MOV     A,R7
0475 54F3           1832             ANL     A,#0F3H
0477 FF             1833             MOV     R7,A
0478 EF             1834             MOV     A,R7
0479 F0             1835             MOVX    @DPTR,A
                    1836     ;       
                    1837     ;               
                    1838     ;       P4TZA=TZ_HIZ;              // when trigger,epwmxA high impedance
                    1839                             ; SOURCE LINE # 348
047A 90E054         1840             MOV     DPTR,#0E054H
047D E0             1841             MOVX    A,@DPTR
047E FF             1842             MOV     R7,A
047F EF             1843             MOV     A,R7
0480 54FC           1844             ANL     A,#0FCH
0482 FF             1845             MOV     R7,A
0483 EF             1846             MOV     A,R7
0484 F0             1847             MOVX    @DPTR,A
                    1848     ;       P4TZB=TZ_HIZ;              // when trigger,epwmxB high impedance
                    1849                             ; SOURCE LINE # 349
0485 90E054         1850             MOV     DPTR,#0E054H
0488 E0             1851             MOVX    A,@DPTR
0489 FF             1852             MOV     R7,A
048A EF             1853             MOV     A,R7
048B 54F3           1854             ANL     A,#0F3H
048D FF             1855             MOV     R7,A
048E EF             1856             MOV     A,R7
048F F0             1857             MOVX    @DPTR,A
                    1858     ;       
                    1859     ;       
                    1860     ; // trip zone interrupt  ???  no description in datasheet
                    1861     ; 
                    1862     ;       
                    1863     ;       
                    1864     ;       
                    1865     ; //    P1TZEINT = 0x00;                                                // CBC trigger inte
                             rrupt and OST interrupt disable
                    1866     ; //    P2TZEINT = 0x00;
                    1867     ; //    P3TZEINT = 0x00;
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    30

                    1868     ; //    P4TZEINT = 0x00;
                    1869     ; 
                    1870     ; 
                    1871     ; 
                    1872     ; //event trigger select 
                    1873     ; 
                    1874     ;       P1ET_INTEN=1;                                                   //enable epwmx_INT 
                             interrupt
                    1875                             ; SOURCE LINE # 366
0490 90E015         1876             MOV     DPTR,#0E015H
0493 E0             1877             MOVX    A,@DPTR
0494 FF             1878             MOV     R7,A
0495 EF             1879             MOV     A,R7
0496 4408           1880             ORL     A,#08H
0498 FF             1881             MOV     R7,A
0499 EF             1882             MOV     A,R7
049A F0             1883             MOVX    @DPTR,A
                    1884     ;       P1ET_INTSEL=ET_CTR_ZERO;        // epwm interrupt enable at CTR = ZERO
                    1885                             ; SOURCE LINE # 367
049B 90E015         1886             MOV     DPTR,#0E015H
049E E0             1887             MOVX    A,@DPTR
049F FF             1888             MOV     R7,A
04A0 EF             1889             MOV     A,R7
04A1 54F8           1890             ANL     A,#0F8H
04A3 FF             1891             MOV     R7,A
04A4 EF             1892             MOV     A,R7
04A5 4401           1893             ORL     A,#01H
04A7 FF             1894             MOV     R7,A
04A8 EF             1895             MOV     A,R7
04A9 F0             1896             MOVX    @DPTR,A
                    1897     ;       P1ET_SOCAEN=1;                                          //enable SOCA pulse
                    1898                             ; SOURCE LINE # 368
04AA 90E014         1899             MOV     DPTR,#0E014H
04AD E0             1900             MOVX    A,@DPTR
04AE FF             1901             MOV     R7,A
04AF EF             1902             MOV     A,R7
04B0 4408           1903             ORL     A,#08H
04B2 FF             1904             MOV     R7,A
04B3 EF             1905             MOV     A,R7
04B4 F0             1906             MOVX    @DPTR,A
                    1907     ;       P1ET_SOCASEL=ET_CTR_ZERO;  // enable SOCA,SOCA is CTR = ZERO
                    1908                             ; SOURCE LINE # 369
04B5 90E014         1909             MOV     DPTR,#0E014H
04B8 E0             1910             MOVX    A,@DPTR
04B9 FF             1911             MOV     R7,A
04BA EF             1912             MOV     A,R7
04BB 54F8           1913             ANL     A,#0F8H
04BD FF             1914             MOV     R7,A
04BE EF             1915             MOV     A,R7
04BF 4401           1916             ORL     A,#01H
04C1 FF             1917             MOV     R7,A
04C2 EF             1918             MOV     A,R7
04C3 F0             1919             MOVX    @DPTR,A
                    1920     ;       P1ET_SOCBEN=0 ;                                         //disable SOCB pulse
                    1921                             ; SOURCE LINE # 370
04C4 90E014         1922             MOV     DPTR,#0E014H
04C7 E0             1923             MOVX    A,@DPTR
04C8 FF             1924             MOV     R7,A
04C9 EF             1925             MOV     A,R7
04CA 547F           1926             ANL     A,#07FH
04CC FF             1927             MOV     R7,A
04CD EF             1928             MOV     A,R7
04CE F0             1929             MOVX    @DPTR,A
                    1930     ;       P1ET_SOCBSEL=ET_CTR_ZERO;  // SOCB is CTR = ZERO                
                    1931                             ; SOURCE LINE # 371
04CF 90E014         1932             MOV     DPTR,#0E014H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    31

04D2 E0             1933             MOVX    A,@DPTR
04D3 FF             1934             MOV     R7,A
04D4 EF             1935             MOV     A,R7
04D5 548F           1936             ANL     A,#08FH
04D7 FF             1937             MOV     R7,A
04D8 EF             1938             MOV     A,R7
04D9 4410           1939             ORL     A,#010H
04DB FF             1940             MOV     R7,A
04DC EF             1941             MOV     A,R7
04DD F0             1942             MOVX    @DPTR,A
                    1943     ;  
                    1944     ;       P2ET_INTEN=1;                                                   //enable epwmx_INT 
                             interrupt
                    1945                             ; SOURCE LINE # 373
04DE 90E02B         1946             MOV     DPTR,#0E02BH
04E1 E0             1947             MOVX    A,@DPTR
04E2 FF             1948             MOV     R7,A
04E3 EF             1949             MOV     A,R7
04E4 4408           1950             ORL     A,#08H
04E6 FF             1951             MOV     R7,A
04E7 EF             1952             MOV     A,R7
04E8 F0             1953             MOVX    @DPTR,A
                    1954     ;       P2ET_INTSEL=ET_CTR_ZERO;        // epwm interrupt enable at CTR = ZERO
                    1955                             ; SOURCE LINE # 374
04E9 90E02B         1956             MOV     DPTR,#0E02BH
04EC E0             1957             MOVX    A,@DPTR
04ED FF             1958             MOV     R7,A
04EE EF             1959             MOV     A,R7
04EF 54F8           1960             ANL     A,#0F8H
04F1 FF             1961             MOV     R7,A
04F2 EF             1962             MOV     A,R7
04F3 4401           1963             ORL     A,#01H
04F5 FF             1964             MOV     R7,A
04F6 EF             1965             MOV     A,R7
04F7 F0             1966             MOVX    @DPTR,A
                    1967     ;       P2ET_SOCAEN=1;                                          //enable SOCA pulse
                    1968                             ; SOURCE LINE # 375
04F8 90E02A         1969             MOV     DPTR,#0E02AH
04FB E0             1970             MOVX    A,@DPTR
04FC FF             1971             MOV     R7,A
04FD EF             1972             MOV     A,R7
04FE 4408           1973             ORL     A,#08H
0500 FF             1974             MOV     R7,A
0501 EF             1975             MOV     A,R7
0502 F0             1976             MOVX    @DPTR,A
                    1977     ;       P2ET_SOCASEL=ET_CTR_ZERO;  // enable SOCA,SOCA is CTR = ZERO
                    1978                             ; SOURCE LINE # 376
0503 90E02A         1979             MOV     DPTR,#0E02AH
0506 E0             1980             MOVX    A,@DPTR
0507 FF             1981             MOV     R7,A
0508 EF             1982             MOV     A,R7
0509 54F8           1983             ANL     A,#0F8H
050B FF             1984             MOV     R7,A
050C EF             1985             MOV     A,R7
050D 4401           1986             ORL     A,#01H
050F FF             1987             MOV     R7,A
0510 EF             1988             MOV     A,R7
0511 F0             1989             MOVX    @DPTR,A
                    1990     ;       P2ET_SOCBEN=0 ;                                         //disable SOCB pulse
                    1991                             ; SOURCE LINE # 377
0512 90E02A         1992             MOV     DPTR,#0E02AH
0515 E0             1993             MOVX    A,@DPTR
0516 FF             1994             MOV     R7,A
0517 EF             1995             MOV     A,R7
0518 547F           1996             ANL     A,#07FH
051A FF             1997             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    32

051B EF             1998             MOV     A,R7
051C F0             1999             MOVX    @DPTR,A
                    2000     ;       P2ET_SOCBSEL=ET_CTR_ZERO;  // SOCB is CTR = ZERO                
                    2001                             ; SOURCE LINE # 378
051D 90E02A         2002             MOV     DPTR,#0E02AH
0520 E0             2003             MOVX    A,@DPTR
0521 FF             2004             MOV     R7,A
0522 EF             2005             MOV     A,R7
0523 548F           2006             ANL     A,#08FH
0525 FF             2007             MOV     R7,A
0526 EF             2008             MOV     A,R7
0527 4410           2009             ORL     A,#010H
0529 FF             2010             MOV     R7,A
052A EF             2011             MOV     A,R7
052B F0             2012             MOVX    @DPTR,A
                    2013     ;  
                    2014     ;       P3ET_INTEN=1;                                                   //enable epwmx_INT 
                             interrupt
                    2015                             ; SOURCE LINE # 380
052C 90E041         2016             MOV     DPTR,#0E041H
052F E0             2017             MOVX    A,@DPTR
0530 FF             2018             MOV     R7,A
0531 EF             2019             MOV     A,R7
0532 4408           2020             ORL     A,#08H
0534 FF             2021             MOV     R7,A
0535 EF             2022             MOV     A,R7
0536 F0             2023             MOVX    @DPTR,A
                    2024     ;       P3ET_INTSEL=ET_CTR_ZERO;        // epwm interrupt enable at CTR = ZERO
                    2025                             ; SOURCE LINE # 381
0537 90E041         2026             MOV     DPTR,#0E041H
053A E0             2027             MOVX    A,@DPTR
053B FF             2028             MOV     R7,A
053C EF             2029             MOV     A,R7
053D 54F8           2030             ANL     A,#0F8H
053F FF             2031             MOV     R7,A
0540 EF             2032             MOV     A,R7
0541 4401           2033             ORL     A,#01H
0543 FF             2034             MOV     R7,A
0544 EF             2035             MOV     A,R7
0545 F0             2036             MOVX    @DPTR,A
                    2037     ;       P3ET_SOCAEN=1;                                          //enable SOCA pulse
                    2038                             ; SOURCE LINE # 382
0546 90E040         2039             MOV     DPTR,#0E040H
0549 E0             2040             MOVX    A,@DPTR
054A FF             2041             MOV     R7,A
054B EF             2042             MOV     A,R7
054C 4408           2043             ORL     A,#08H
054E FF             2044             MOV     R7,A
054F EF             2045             MOV     A,R7
0550 F0             2046             MOVX    @DPTR,A
                    2047     ;       P3ET_SOCASEL=ET_CTR_ZERO;  // enable SOCA,SOCA is CTR = ZERO
                    2048                             ; SOURCE LINE # 383
0551 90E040         2049             MOV     DPTR,#0E040H
0554 E0             2050             MOVX    A,@DPTR
0555 FF             2051             MOV     R7,A
0556 EF             2052             MOV     A,R7
0557 54F8           2053             ANL     A,#0F8H
0559 FF             2054             MOV     R7,A
055A EF             2055             MOV     A,R7
055B 4401           2056             ORL     A,#01H
055D FF             2057             MOV     R7,A
055E EF             2058             MOV     A,R7
055F F0             2059             MOVX    @DPTR,A
                    2060     ;       P3ET_SOCBEN=0 ;                                         //disable SOCB pulse
                    2061                             ; SOURCE LINE # 384
0560 90E040         2062             MOV     DPTR,#0E040H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    33

0563 E0             2063             MOVX    A,@DPTR
0564 FF             2064             MOV     R7,A
0565 EF             2065             MOV     A,R7
0566 547F           2066             ANL     A,#07FH
0568 FF             2067             MOV     R7,A
0569 EF             2068             MOV     A,R7
056A F0             2069             MOVX    @DPTR,A
                    2070     ;       P3ET_SOCBSEL=ET_CTR_ZERO;  // SOCB is CTR = ZERO                
                    2071                             ; SOURCE LINE # 385
056B 90E040         2072             MOV     DPTR,#0E040H
056E E0             2073             MOVX    A,@DPTR
056F FF             2074             MOV     R7,A
0570 EF             2075             MOV     A,R7
0571 548F           2076             ANL     A,#08FH
0573 FF             2077             MOV     R7,A
0574 EF             2078             MOV     A,R7
0575 4410           2079             ORL     A,#010H
0577 FF             2080             MOV     R7,A
0578 EF             2081             MOV     A,R7
0579 F0             2082             MOVX    @DPTR,A
                    2083     ;  
                    2084     ;       P4ET_INTEN=1;                                                   //enable epwmx_INT 
                             interrupt
                    2085                             ; SOURCE LINE # 387
057A 90E057         2086             MOV     DPTR,#0E057H
057D E0             2087             MOVX    A,@DPTR
057E FF             2088             MOV     R7,A
057F EF             2089             MOV     A,R7
0580 4408           2090             ORL     A,#08H
0582 FF             2091             MOV     R7,A
0583 EF             2092             MOV     A,R7
0584 F0             2093             MOVX    @DPTR,A
                    2094     ;       P4ET_INTSEL=ET_CTR_ZERO;        // epwm interrupt enable at CTR = ZERO
                    2095                             ; SOURCE LINE # 388
0585 90E057         2096             MOV     DPTR,#0E057H
0588 E0             2097             MOVX    A,@DPTR
0589 FF             2098             MOV     R7,A
058A EF             2099             MOV     A,R7
058B 54F8           2100             ANL     A,#0F8H
058D FF             2101             MOV     R7,A
058E EF             2102             MOV     A,R7
058F 4401           2103             ORL     A,#01H
0591 FF             2104             MOV     R7,A
0592 EF             2105             MOV     A,R7
0593 F0             2106             MOVX    @DPTR,A
                    2107     ;       P4ET_SOCAEN=1;                                          //enable SOCA pulse
                    2108                             ; SOURCE LINE # 389
0594 90E056         2109             MOV     DPTR,#0E056H
0597 E0             2110             MOVX    A,@DPTR
0598 FF             2111             MOV     R7,A
0599 EF             2112             MOV     A,R7
059A 4408           2113             ORL     A,#08H
059C FF             2114             MOV     R7,A
059D EF             2115             MOV     A,R7
059E F0             2116             MOVX    @DPTR,A
                    2117     ;       P4ET_SOCASEL=ET_CTR_ZERO;  // enable SOCA,SOCA is CTR = ZERO
                    2118                             ; SOURCE LINE # 390
059F 90E056         2119             MOV     DPTR,#0E056H
05A2 E0             2120             MOVX    A,@DPTR
05A3 FF             2121             MOV     R7,A
05A4 EF             2122             MOV     A,R7
05A5 54F8           2123             ANL     A,#0F8H
05A7 FF             2124             MOV     R7,A
05A8 EF             2125             MOV     A,R7
05A9 4401           2126             ORL     A,#01H
05AB FF             2127             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    34

05AC EF             2128             MOV     A,R7
05AD F0             2129             MOVX    @DPTR,A
                    2130     ;       P4ET_SOCBEN=0 ;                                         //disable SOCB pulse
                    2131                             ; SOURCE LINE # 391
05AE 90E056         2132             MOV     DPTR,#0E056H
05B1 E0             2133             MOVX    A,@DPTR
05B2 FF             2134             MOV     R7,A
05B3 EF             2135             MOV     A,R7
05B4 547F           2136             ANL     A,#07FH
05B6 FF             2137             MOV     R7,A
05B7 EF             2138             MOV     A,R7
05B8 F0             2139             MOVX    @DPTR,A
                    2140     ;       P4ET_SOCBSEL=ET_CTR_ZERO;  // SOCB is CTR = ZERO                
                    2141                             ; SOURCE LINE # 392
05B9 90E056         2142             MOV     DPTR,#0E056H
05BC E0             2143             MOVX    A,@DPTR
05BD FF             2144             MOV     R7,A
05BE EF             2145             MOV     A,R7
05BF 548F           2146             ANL     A,#08FH
05C1 FF             2147             MOV     R7,A
05C2 EF             2148             MOV     A,R7
05C3 4410           2149             ORL     A,#010H
05C5 FF             2150             MOV     R7,A
05C6 EF             2151             MOV     A,R7
05C7 F0             2152             MOVX    @DPTR,A
                    2153     ;  
                    2154     ;  
                    2155     ;  
                    2156     ;  //event trigger prescaler, generate SOCA and SOCB pulse for AD conversion
                    2157     ;  
                    2158     ;  P1ET_INTPRD=ET_1ST;        //generate interrupt on 1st event
                    2159                             ; SOURCE LINE # 398
05C8 90E017         2160             MOV     DPTR,#0E017H
05CB E0             2161             MOVX    A,@DPTR
05CC FF             2162             MOV     R7,A
05CD EF             2163             MOV     A,R7
05CE 54FC           2164             ANL     A,#0FCH
05D0 FF             2165             MOV     R7,A
05D1 EF             2166             MOV     A,R7
05D2 4401           2167             ORL     A,#01H
05D4 FF             2168             MOV     R7,A
05D5 EF             2169             MOV     A,R7
05D6 F0             2170             MOVX    @DPTR,A
                    2171     ;  P1ET_INTCNT= ET_1ST;      // event counter period =1
                    2172                             ; SOURCE LINE # 399
05D7 90E017         2173             MOV     DPTR,#0E017H
05DA E0             2174             MOVX    A,@DPTR
05DB FF             2175             MOV     R7,A
05DC EF             2176             MOV     A,R7
05DD 54F3           2177             ANL     A,#0F3H
05DF FF             2178             MOV     R7,A
05E0 EF             2179             MOV     A,R7
05E1 4404           2180             ORL     A,#04H
05E3 FF             2181             MOV     R7,A
05E4 EF             2182             MOV     A,R7
05E5 F0             2183             MOVX    @DPTR,A
                    2184     ;  P1ET_SOCAPRD=ET_1ST;      //generate SOCA pulse on 1at event
                    2185                             ; SOURCE LINE # 400
05E6 90E016         2186             MOV     DPTR,#0E016H
05E9 E0             2187             MOVX    A,@DPTR
05EA FF             2188             MOV     R7,A
05EB EF             2189             MOV     A,R7
05EC 54FC           2190             ANL     A,#0FCH
05EE FF             2191             MOV     R7,A
05EF EF             2192             MOV     A,R7
05F0 4401           2193             ORL     A,#01H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    35

05F2 FF             2194             MOV     R7,A
05F3 EF             2195             MOV     A,R7
05F4 F0             2196             MOVX    @DPTR,A
                    2197     ;  P1ET_SOCACNT=ET_1ST;      // SOCA event counter =1
                    2198                             ; SOURCE LINE # 401
05F5 90E016         2199             MOV     DPTR,#0E016H
05F8 E0             2200             MOVX    A,@DPTR
05F9 FF             2201             MOV     R7,A
05FA EF             2202             MOV     A,R7
05FB 54F3           2203             ANL     A,#0F3H
05FD FF             2204             MOV     R7,A
05FE EF             2205             MOV     A,R7
05FF 4404           2206             ORL     A,#04H
0601 FF             2207             MOV     R7,A
0602 EF             2208             MOV     A,R7
0603 F0             2209             MOVX    @DPTR,A
                    2210     ;  P1ET_SOCBPRD=ET_DISABLE;  //SOCB is not used
                    2211                             ; SOURCE LINE # 402
0604 90E016         2212             MOV     DPTR,#0E016H
0607 E0             2213             MOVX    A,@DPTR
0608 FF             2214             MOV     R7,A
0609 EF             2215             MOV     A,R7
060A 54CF           2216             ANL     A,#0CFH
060C FF             2217             MOV     R7,A
060D EF             2218             MOV     A,R7
060E F0             2219             MOVX    @DPTR,A
                    2220     ;  P1ET_SOCBCNT=ET_DISABLE;
                    2221                             ; SOURCE LINE # 403
060F 90E016         2222             MOV     DPTR,#0E016H
0612 E0             2223             MOVX    A,@DPTR
0613 FF             2224             MOV     R7,A
0614 EF             2225             MOV     A,R7
0615 543F           2226             ANL     A,#03FH
0617 FF             2227             MOV     R7,A
0618 EF             2228             MOV     A,R7
0619 F0             2229             MOVX    @DPTR,A
                    2230     ;  
                    2231     ;  P2ET_INTPRD=ET_1ST;        //generate interrupt on 1st event
                    2232                             ; SOURCE LINE # 405
061A 90E02D         2233             MOV     DPTR,#0E02DH
061D E0             2234             MOVX    A,@DPTR
061E FF             2235             MOV     R7,A
061F EF             2236             MOV     A,R7
0620 54FC           2237             ANL     A,#0FCH
0622 FF             2238             MOV     R7,A
0623 EF             2239             MOV     A,R7
0624 4401           2240             ORL     A,#01H
0626 FF             2241             MOV     R7,A
0627 EF             2242             MOV     A,R7
0628 F0             2243             MOVX    @DPTR,A
                    2244     ;  P2ET_INTCNT= ET_1ST;      // event counter period =1
                    2245                             ; SOURCE LINE # 406
0629 90E02D         2246             MOV     DPTR,#0E02DH
062C E0             2247             MOVX    A,@DPTR
062D FF             2248             MOV     R7,A
062E EF             2249             MOV     A,R7
062F 54F3           2250             ANL     A,#0F3H
0631 FF             2251             MOV     R7,A
0632 EF             2252             MOV     A,R7
0633 4404           2253             ORL     A,#04H
0635 FF             2254             MOV     R7,A
0636 EF             2255             MOV     A,R7
0637 F0             2256             MOVX    @DPTR,A
                    2257     ;  P2ET_SOCAPRD=ET_1ST;      //generate SOCA pulse on 1at event
                    2258                             ; SOURCE LINE # 407
0638 90E02C         2259             MOV     DPTR,#0E02CH
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    36

063B E0             2260             MOVX    A,@DPTR
063C FF             2261             MOV     R7,A
063D EF             2262             MOV     A,R7
063E 54FC           2263             ANL     A,#0FCH
0640 FF             2264             MOV     R7,A
0641 EF             2265             MOV     A,R7
0642 4401           2266             ORL     A,#01H
0644 FF             2267             MOV     R7,A
0645 EF             2268             MOV     A,R7
0646 F0             2269             MOVX    @DPTR,A
                    2270     ;  P2ET_SOCACNT=ET_1ST;      // SOCA event counter =1
                    2271                             ; SOURCE LINE # 408
0647 90E02C         2272             MOV     DPTR,#0E02CH
064A E0             2273             MOVX    A,@DPTR
064B FF             2274             MOV     R7,A
064C EF             2275             MOV     A,R7
064D 54F3           2276             ANL     A,#0F3H
064F FF             2277             MOV     R7,A
0650 EF             2278             MOV     A,R7
0651 4404           2279             ORL     A,#04H
0653 FF             2280             MOV     R7,A
0654 EF             2281             MOV     A,R7
0655 F0             2282             MOVX    @DPTR,A
                    2283     ;  P2ET_SOCBPRD=ET_DISABLE;  //SOCB is not used
                    2284                             ; SOURCE LINE # 409
0656 90E02C         2285             MOV     DPTR,#0E02CH
0659 E0             2286             MOVX    A,@DPTR
065A FF             2287             MOV     R7,A
065B EF             2288             MOV     A,R7
065C 54CF           2289             ANL     A,#0CFH
065E FF             2290             MOV     R7,A
065F EF             2291             MOV     A,R7
0660 F0             2292             MOVX    @DPTR,A
                    2293     ;  P2ET_SOCBCNT=ET_DISABLE;
                    2294                             ; SOURCE LINE # 410
0661 90E02C         2295             MOV     DPTR,#0E02CH
0664 E0             2296             MOVX    A,@DPTR
0665 FF             2297             MOV     R7,A
0666 EF             2298             MOV     A,R7
0667 543F           2299             ANL     A,#03FH
0669 FF             2300             MOV     R7,A
066A EF             2301             MOV     A,R7
066B F0             2302             MOVX    @DPTR,A
                    2303     ;  
                    2304     ;  P3ET_INTPRD=ET_1ST;        //generate interrupt on 1st event
                    2305                             ; SOURCE LINE # 412
066C 90E043         2306             MOV     DPTR,#0E043H
066F E0             2307             MOVX    A,@DPTR
0670 FF             2308             MOV     R7,A
0671 EF             2309             MOV     A,R7
0672 54FC           2310             ANL     A,#0FCH
0674 FF             2311             MOV     R7,A
0675 EF             2312             MOV     A,R7
0676 4401           2313             ORL     A,#01H
0678 FF             2314             MOV     R7,A
0679 EF             2315             MOV     A,R7
067A F0             2316             MOVX    @DPTR,A
                    2317     ;  P3ET_INTCNT= ET_1ST;      // event counter period =1
                    2318                             ; SOURCE LINE # 413
067B 90E043         2319             MOV     DPTR,#0E043H
067E E0             2320             MOVX    A,@DPTR
067F FF             2321             MOV     R7,A
0680 EF             2322             MOV     A,R7
0681 54F3           2323             ANL     A,#0F3H
0683 FF             2324             MOV     R7,A
0684 EF             2325             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    37

0685 4404           2326             ORL     A,#04H
0687 FF             2327             MOV     R7,A
0688 EF             2328             MOV     A,R7
0689 F0             2329             MOVX    @DPTR,A
                    2330     ;  P3ET_SOCAPRD=ET_1ST;      //generate SOCA pulse on 1at event
                    2331                             ; SOURCE LINE # 414
068A 90E042         2332             MOV     DPTR,#0E042H
068D E0             2333             MOVX    A,@DPTR
068E FF             2334             MOV     R7,A
068F EF             2335             MOV     A,R7
0690 54FC           2336             ANL     A,#0FCH
0692 FF             2337             MOV     R7,A
0693 EF             2338             MOV     A,R7
0694 4401           2339             ORL     A,#01H
0696 FF             2340             MOV     R7,A
0697 EF             2341             MOV     A,R7
0698 F0             2342             MOVX    @DPTR,A
                    2343     ;  P3ET_SOCACNT=ET_1ST;      // SOCA event counter =1
                    2344                             ; SOURCE LINE # 415
0699 90E042         2345             MOV     DPTR,#0E042H
069C E0             2346             MOVX    A,@DPTR
069D FF             2347             MOV     R7,A
069E EF             2348             MOV     A,R7
069F 54F3           2349             ANL     A,#0F3H
06A1 FF             2350             MOV     R7,A
06A2 EF             2351             MOV     A,R7
06A3 4404           2352             ORL     A,#04H
06A5 FF             2353             MOV     R7,A
06A6 EF             2354             MOV     A,R7
06A7 F0             2355             MOVX    @DPTR,A
                    2356     ;  P3ET_SOCBPRD=ET_DISABLE;  //SOCB is not used
                    2357                             ; SOURCE LINE # 416
06A8 90E042         2358             MOV     DPTR,#0E042H
06AB E0             2359             MOVX    A,@DPTR
06AC FF             2360             MOV     R7,A
06AD EF             2361             MOV     A,R7
06AE 54CF           2362             ANL     A,#0CFH
06B0 FF             2363             MOV     R7,A
06B1 EF             2364             MOV     A,R7
06B2 F0             2365             MOVX    @DPTR,A
                    2366     ;  P3ET_SOCBCNT=ET_DISABLE;
                    2367                             ; SOURCE LINE # 417
06B3 90E042         2368             MOV     DPTR,#0E042H
06B6 E0             2369             MOVX    A,@DPTR
06B7 FF             2370             MOV     R7,A
06B8 EF             2371             MOV     A,R7
06B9 543F           2372             ANL     A,#03FH
06BB FF             2373             MOV     R7,A
06BC EF             2374             MOV     A,R7
06BD F0             2375             MOVX    @DPTR,A
                    2376     ;       
                    2377     ;  P4ET_INTPRD=ET_1ST;        //generate interrupt on 1st event
                    2378                             ; SOURCE LINE # 419
06BE 90E059         2379             MOV     DPTR,#0E059H
06C1 E0             2380             MOVX    A,@DPTR
06C2 FF             2381             MOV     R7,A
06C3 EF             2382             MOV     A,R7
06C4 54FC           2383             ANL     A,#0FCH
06C6 FF             2384             MOV     R7,A
06C7 EF             2385             MOV     A,R7
06C8 4401           2386             ORL     A,#01H
06CA FF             2387             MOV     R7,A
06CB EF             2388             MOV     A,R7
06CC F0             2389             MOVX    @DPTR,A
                    2390     ;  P4ET_INTCNT= ET_1ST;      // event counter period =1
                    2391                             ; SOURCE LINE # 420
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    38

06CD 90E059         2392             MOV     DPTR,#0E059H
06D0 E0             2393             MOVX    A,@DPTR
06D1 FF             2394             MOV     R7,A
06D2 EF             2395             MOV     A,R7
06D3 54F3           2396             ANL     A,#0F3H
06D5 FF             2397             MOV     R7,A
06D6 EF             2398             MOV     A,R7
06D7 4404           2399             ORL     A,#04H
06D9 FF             2400             MOV     R7,A
06DA EF             2401             MOV     A,R7
06DB F0             2402             MOVX    @DPTR,A
                    2403     ;  P4ET_SOCAPRD=ET_1ST;      //generate SOCA pulse on 1at event
                    2404                             ; SOURCE LINE # 421
06DC 90E058         2405             MOV     DPTR,#0E058H
06DF E0             2406             MOVX    A,@DPTR
06E0 FF             2407             MOV     R7,A
06E1 EF             2408             MOV     A,R7
06E2 54FC           2409             ANL     A,#0FCH
06E4 FF             2410             MOV     R7,A
06E5 EF             2411             MOV     A,R7
06E6 4401           2412             ORL     A,#01H
06E8 FF             2413             MOV     R7,A
06E9 EF             2414             MOV     A,R7
06EA F0             2415             MOVX    @DPTR,A
                    2416     ;  P4ET_SOCACNT=ET_1ST;      // SOCA event counter =1
                    2417                             ; SOURCE LINE # 422
06EB 90E058         2418             MOV     DPTR,#0E058H
06EE E0             2419             MOVX    A,@DPTR
06EF FF             2420             MOV     R7,A
06F0 EF             2421             MOV     A,R7
06F1 54F3           2422             ANL     A,#0F3H
06F3 FF             2423             MOV     R7,A
06F4 EF             2424             MOV     A,R7
06F5 4404           2425             ORL     A,#04H
06F7 FF             2426             MOV     R7,A
06F8 EF             2427             MOV     A,R7
06F9 F0             2428             MOVX    @DPTR,A
                    2429     ;  P4ET_SOCBPRD=ET_DISABLE;  //SOCB is not used
                    2430                             ; SOURCE LINE # 423
06FA 90E058         2431             MOV     DPTR,#0E058H
06FD E0             2432             MOVX    A,@DPTR
06FE FF             2433             MOV     R7,A
06FF EF             2434             MOV     A,R7
0700 54CF           2435             ANL     A,#0CFH
0702 FF             2436             MOV     R7,A
0703 EF             2437             MOV     A,R7
0704 F0             2438             MOVX    @DPTR,A
                    2439     ;  P4ET_SOCBCNT=ET_DISABLE;
                    2440                             ; SOURCE LINE # 424
0705 90E058         2441             MOV     DPTR,#0E058H
0708 E0             2442             MOVX    A,@DPTR
0709 FF             2443             MOV     R7,A
070A EF             2444             MOV     A,R7
070B 543F           2445             ANL     A,#03FH
070D FF             2446             MOV     R7,A
070E EF             2447             MOV     A,R7
070F F0             2448             MOVX    @DPTR,A
                    2449     ;       
                    2450     ; 
                    2451     ; 
                    2452     ; 
                    2453     ; 
                    2454     ; //set PWM period
                    2455     ; 
                    2456     ; 
                    2457     ; 
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    39

                    2458     ;       P1TBPRD = 0x07D0;                                               // pwm period is 0x
                             0190@8MHz 10KHz 0x7D0@40MHz; 0x031f?
                    2459                             ; SOURCE LINE # 434
0710 75A207         2460             MOV     P1TBPRD+01H,#07H
0713 75A1D0         2461             MOV     P1TBPRD,#0D0H
                    2462     ;       P2TBPRD = 0x07D0;
                    2463                             ; SOURCE LINE # 435
0716 75C207         2464             MOV     P2TBPRD+01H,#07H
0719 75C1D0         2465             MOV     P2TBPRD,#0D0H
                    2466     ;   P3TBPRD = 0x07D0;
                    2467                             ; SOURCE LINE # 436
071C 75D207         2468             MOV     P3TBPRD+01H,#07H
071F 75D1D0         2469             MOV     P3TBPRD,#0D0H
                    2470     ;   P4TBPRD = 0x07D0;
                    2471                             ; SOURCE LINE # 437
0722 75E207         2472             MOV     P4TBPRD+01H,#07H
0725 75E1D0         2473             MOV     P4TBPRD,#0D0H
                    2474     ; 
                    2475     ; 
                    2476     ; 
                    2477     ;       P1CMPA = 0x01E8;                                                // CMPA counter val
                             ue
                    2478                             ; SOURCE LINE # 441
0728 75A401         2479             MOV     P1CMPA+01H,#01H
072B 75A3E8         2480             MOV     P1CMPA,#0E8H
                    2481     ;       P2CMPA = 0x01E8;
                    2482                             ; SOURCE LINE # 442
072E 75C401         2483             MOV     P2CMPA+01H,#01H
0731 75C3E8         2484             MOV     P2CMPA,#0E8H
                    2485     ;       P3CMPA = 0x01E8;
                    2486                             ; SOURCE LINE # 443
0734 75D401         2487             MOV     P3CMPA+01H,#01H
0737 75D3E8         2488             MOV     P3CMPA,#0E8H
                    2489     ;       P4CMPA = 0x01E8;
                    2490                             ; SOURCE LINE # 444
073A 75E401         2491             MOV     P4CMPA+01H,#01H
073D 75E3E8         2492             MOV     P4CMPA,#0E8H
                    2493     ;       
                    2494     ;       P1CMPB = 0x0190;                                                // CMPA counter val
                             ue
                    2495                             ; SOURCE LINE # 446
0740 75A601         2496             MOV     P1CMPB+01H,#01H
0743 75A590         2497             MOV     P1CMPB,#090H
                    2498     ;       P2CMPB = 0x0190;
                    2499                             ; SOURCE LINE # 447
0746 75C601         2500             MOV     P2CMPB+01H,#01H
0749 75C590         2501             MOV     P2CMPB,#090H
                    2502     ;       P3CMPB = 0x0190;
                    2503                             ; SOURCE LINE # 448
074C 75D601         2504             MOV     P3CMPB+01H,#01H
074F 75D590         2505             MOV     P3CMPB,#090H
                    2506     ;       P4CMPB = 0x0190;
                    2507                             ; SOURCE LINE # 449
0752 75E601         2508             MOV     P4CMPB+01H,#01H
0755 75E590         2509             MOV     P4CMPB,#090H
                    2510     ;       
                    2511     ;       
                    2512     ; 
                    2513     ;       TBCLKSYNC = 1;                                  // all epwm channel synchronize ena
                             ble
                    2514                             ; SOURCE LINE # 453
0758 90E000         2515             MOV     DPTR,#0E000H
075B E0             2516             MOVX    A,@DPTR
075C FF             2517             MOV     R7,A
075D EF             2518             MOV     A,R7
075E 4401           2519             ORL     A,#01H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    40

0760 FF             2520             MOV     R7,A
0761 EF             2521             MOV     A,R7
0762 F0             2522             MOVX    @DPTR,A
                    2523     ; 
                    2524     ;       CLR_EPWM1_INT();
                    2525                             ; SOURCE LINE # 455
0763 43B601         2526             ORL     P1ETCLR,#01H
                    2527     ;       CLR_EPWM2_INT();
                    2528                             ; SOURCE LINE # 456
0766 43CE01         2529             ORL     P2ETCLR,#01H
                    2530     ;   CLR_EPWM3_INT();
                    2531                             ; SOURCE LINE # 457
0769 43DE01         2532             ORL     P3ETCLR,#01H
                    2533     ;       CLR_EPWM4_INT();
                    2534                             ; SOURCE LINE # 458
076C 43F601         2535             ORL     P4ETCLR,#01H
                    2536     ;       
                    2537     ;       
                    2538     ;       I2FR = 1;                //rising edge triger interrupt
                    2539                             ; SOURCE LINE # 461
076F D2CD           2540             SETB    I2FR
                    2541     ;       EX2 = 1;                                                                // enable e
                             pwm1,2,3 interrupt
                    2542                             ; SOURCE LINE # 462
0771 D2B9           2543             SETB    EX2
                    2544     ;       //ex3 = 1;                                                              // enable e
                             pwm4 interrupt
                    2545     ; }
                    2546                             ; SOURCE LINE # 464
0773                2547     ?C0014:
0773 22             2548             RET     
                    2549     ; END OF Initepwm
                    2550     
                    2551     ; 
                    2552     ; 
                    2553     ; void InitComparator(void)
                    2554     
----                2555             RSEG  ?PR?InitComparator?INITIAL
0000                2556     InitComparator:
                    2557             USING   0
                    2558                             ; SOURCE LINE # 467
                    2559     ; {
                    2560                             ; SOURCE LINE # 468
                    2561     ;       
                    2562     ;               P21_FN= CFG2;                                                            //
                              P21 output COMP1
                    2563                             ; SOURCE LINE # 470
0000 90E0E1         2564             MOV     DPTR,#0E0E1H
0003 E0             2565             MOVX    A,@DPTR
0004 FF             2566             MOV     R7,A
0005 EF             2567             MOV     A,R7
0006 54F3           2568             ANL     A,#0F3H
0008 FF             2569             MOV     R7,A
0009 EF             2570             MOV     A,R7
000A 4408           2571             ORL     A,#08H
000C FF             2572             MOV     R7,A
000D EF             2573             MOV     A,R7
000E F0             2574             MOVX    @DPTR,A
                    2575     ;               P14_FN= CFG2;                    // P14 output COMP2
                    2576                             ; SOURCE LINE # 471
000F 90E0DA         2577             MOV     DPTR,#0E0DAH
0012 E0             2578             MOVX    A,@DPTR
0013 FF             2579             MOV     R7,A
0014 EF             2580             MOV     A,R7
0015 54FC           2581             ANL     A,#0FCH
0017 FF             2582             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    41

0018 EF             2583             MOV     A,R7
0019 4402           2584             ORL     A,#02H
001B FF             2585             MOV     R7,A
001C EF             2586             MOV     A,R7
001D F0             2587             MOVX    @DPTR,A
                    2588     ;               P13_FN= CFG2;                    // P13 output COMP3
                    2589                             ; SOURCE LINE # 472
001E 90E0DB         2590             MOV     DPTR,#0E0DBH
0021 E0             2591             MOVX    A,@DPTR
0022 FF             2592             MOV     R7,A
0023 EF             2593             MOV     A,R7
0024 543F           2594             ANL     A,#03FH
0026 FF             2595             MOV     R7,A
0027 EF             2596             MOV     A,R7
0028 4480           2597             ORL     A,#080H
002A FF             2598             MOV     R7,A
002B EF             2599             MOV     A,R7
002C F0             2600             MOVX    @DPTR,A
                    2601     ;               P12_FN= CFG2;                    // P12 output COMP4
                    2602                             ; SOURCE LINE # 473
002D 90E0DB         2603             MOV     DPTR,#0E0DBH
0030 E0             2604             MOVX    A,@DPTR
0031 FF             2605             MOV     R7,A
0032 EF             2606             MOV     A,R7
0033 54CF           2607             ANL     A,#0CFH
0035 FF             2608             MOV     R7,A
0036 EF             2609             MOV     A,R7
0037 4420           2610             ORL     A,#020H
0039 FF             2611             MOV     R7,A
003A EF             2612             MOV     A,R7
003B F0             2613             MOVX    @DPTR,A
                    2614     ;               
                    2615     ;       
                    2616     ;       
                    2617     ;               C1PDO1PD=CFG1;                                                          //C
                             OMP1 power on and OP1 power off
                    2618                             ; SOURCE LINE # 477
003C 90E0A4         2619             MOV     DPTR,#0E0A4H
003F E0             2620             MOVX    A,@DPTR
0040 FF             2621             MOV     R7,A
0041 EF             2622             MOV     A,R7
0042 54FC           2623             ANL     A,#0FCH
0044 FF             2624             MOV     R7,A
0045 EF             2625             MOV     A,R7
0046 4401           2626             ORL     A,#01H
0048 FF             2627             MOV     R7,A
0049 EF             2628             MOV     A,R7
004A F0             2629             MOVX    @DPTR,A
                    2630     ;               C2PDO2PD=CFG1;                                                          //C
                             OMP2 power on and OP2 power off
                    2631                             ; SOURCE LINE # 478
004B 90E0A4         2632             MOV     DPTR,#0E0A4H
004E E0             2633             MOVX    A,@DPTR
004F FF             2634             MOV     R7,A
0050 EF             2635             MOV     A,R7
0051 54F3           2636             ANL     A,#0F3H
0053 FF             2637             MOV     R7,A
0054 EF             2638             MOV     A,R7
0055 4404           2639             ORL     A,#04H
0057 FF             2640             MOV     R7,A
0058 EF             2641             MOV     A,R7
0059 F0             2642             MOVX    @DPTR,A
                    2643     ;               C3PDO3PD=CFG1;                                                          //C
                             OMP3 power on and OP3 power off
                    2644                             ; SOURCE LINE # 479
005A 90E0A4         2645             MOV     DPTR,#0E0A4H
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    42

005D E0             2646             MOVX    A,@DPTR
005E FF             2647             MOV     R7,A
005F EF             2648             MOV     A,R7
0060 54CF           2649             ANL     A,#0CFH
0062 FF             2650             MOV     R7,A
0063 EF             2651             MOV     A,R7
0064 4410           2652             ORL     A,#010H
0066 FF             2653             MOV     R7,A
0067 EF             2654             MOV     A,R7
0068 F0             2655             MOVX    @DPTR,A
                    2656     ;               C4PD=0;                                                                    
                                                  //COMP4 power on
                    2657                             ; SOURCE LINE # 480
0069 90E0A4         2658             MOV     DPTR,#0E0A4H
006C E0             2659             MOVX    A,@DPTR
006D FF             2660             MOV     R7,A
006E EF             2661             MOV     A,R7
006F 54BF           2662             ANL     A,#0BFH
0071 FF             2663             MOV     R7,A
0072 EF             2664             MOV     A,R7
0073 F0             2665             MOVX    @DPTR,A
                    2666     ;       
                    2667     ;       
                    2668     ;       
                    2669     ;               C1_INT_SEL=CFG2;                                                        //C
                             OMP1 at rising/falling edge triiger 
                    2670                             ; SOURCE LINE # 484
0074 90E0C6         2671             MOV     DPTR,#0E0C6H
0077 E0             2672             MOVX    A,@DPTR
0078 FF             2673             MOV     R7,A
0079 EF             2674             MOV     A,R7
007A 54FE           2675             ANL     A,#0FEH
007C FF             2676             MOV     R7,A
007D EF             2677             MOV     A,R7
007E F0             2678             MOVX    @DPTR,A
                    2679     ;               C2_INT_SEL=CFG2;                                                        //C
                             OMP2 at rising/falling edge triiger
                    2680                             ; SOURCE LINE # 485
007F 90E0C6         2681             MOV     DPTR,#0E0C6H
0082 E0             2682             MOVX    A,@DPTR
0083 FF             2683             MOV     R7,A
0084 EF             2684             MOV     A,R7
0085 54FD           2685             ANL     A,#0FDH
0087 FF             2686             MOV     R7,A
0088 EF             2687             MOV     A,R7
0089 F0             2688             MOVX    @DPTR,A
                    2689     ;               C3_INT_SEL=CFG2;                                                        //C
                             OMP3 at rising/falling edge triiger
                    2690                             ; SOURCE LINE # 486
008A 90E0C6         2691             MOV     DPTR,#0E0C6H
008D E0             2692             MOVX    A,@DPTR
008E FF             2693             MOV     R7,A
008F EF             2694             MOV     A,R7
0090 54FB           2695             ANL     A,#0FBH
0092 FF             2696             MOV     R7,A
0093 EF             2697             MOV     A,R7
0094 F0             2698             MOVX    @DPTR,A
                    2699     ;               C4_INT_SEL=CFG2;                                                        //C
                             OMP4 at rising/falling edge triiger
                    2700                             ; SOURCE LINE # 487
0095 90E0C6         2701             MOV     DPTR,#0E0C6H
0098 E0             2702             MOVX    A,@DPTR
0099 FF             2703             MOV     R7,A
009A EF             2704             MOV     A,R7
009B 54F7           2705             ANL     A,#0F7H
009D FF             2706             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    43

009E EF             2707             MOV     A,R7
009F F0             2708             MOVX    @DPTR,A
                    2709     ;       
                    2710     ;       
                    2711     ;               C1_EN=1;                                                                   
                                                  //C1 interrupt enable
                    2712                             ; SOURCE LINE # 490
00A0 90E0EB         2713             MOV     DPTR,#0E0EBH
00A3 E0             2714             MOVX    A,@DPTR
00A4 FF             2715             MOV     R7,A
00A5 EF             2716             MOV     A,R7
00A6 4401           2717             ORL     A,#01H
00A8 FF             2718             MOV     R7,A
00A9 EF             2719             MOV     A,R7
00AA F0             2720             MOVX    @DPTR,A
                    2721     ;               C2_EN=1;                                                                   
                                                  //C2 interrupt enalbe
                    2722                             ; SOURCE LINE # 491
00AB 90E0EB         2723             MOV     DPTR,#0E0EBH
00AE E0             2724             MOVX    A,@DPTR
00AF FF             2725             MOV     R7,A
00B0 EF             2726             MOV     A,R7
00B1 4402           2727             ORL     A,#02H
00B3 FF             2728             MOV     R7,A
00B4 EF             2729             MOV     A,R7
00B5 F0             2730             MOVX    @DPTR,A
                    2731     ;               C3_EN=1;                                                                   
                                                  //C3 interrupt enalbe
                    2732                             ; SOURCE LINE # 492
00B6 90E0EB         2733             MOV     DPTR,#0E0EBH
00B9 E0             2734             MOVX    A,@DPTR
00BA FF             2735             MOV     R7,A
00BB EF             2736             MOV     A,R7
00BC 4404           2737             ORL     A,#04H
00BE FF             2738             MOV     R7,A
00BF EF             2739             MOV     A,R7
00C0 F0             2740             MOVX    @DPTR,A
                    2741     ;               C4_EN=1;                                                                   
                                                  //C4 interrupt enalbe
                    2742                             ; SOURCE LINE # 493
00C1 90E0EB         2743             MOV     DPTR,#0E0EBH
00C4 E0             2744             MOVX    A,@DPTR
00C5 FF             2745             MOV     R7,A
00C6 EF             2746             MOV     A,R7
00C7 4408           2747             ORL     A,#08H
00C9 FF             2748             MOV     R7,A
00CA EF             2749             MOV     A,R7
00CB F0             2750             MOVX    @DPTR,A
                    2751     ;               
                    2752     ;               
                    2753     ;               C1INT=0;                                                                   
                                                  //clear C1 INT flag
                    2754                             ; SOURCE LINE # 496
00CC 90E0C7         2755             MOV     DPTR,#0E0C7H
00CF E0             2756             MOVX    A,@DPTR
00D0 FF             2757             MOV     R7,A
00D1 EF             2758             MOV     A,R7
00D2 54FE           2759             ANL     A,#0FEH
00D4 FF             2760             MOV     R7,A
00D5 EF             2761             MOV     A,R7
00D6 F0             2762             MOVX    @DPTR,A
                    2763     ;               C2INT=0;                                                                   
                                                  //clear C2 INT flag
                    2764                             ; SOURCE LINE # 497
00D7 90E0C7         2765             MOV     DPTR,#0E0C7H
00DA E0             2766             MOVX    A,@DPTR
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    44

00DB FF             2767             MOV     R7,A
00DC EF             2768             MOV     A,R7
00DD 54FD           2769             ANL     A,#0FDH
00DF FF             2770             MOV     R7,A
00E0 EF             2771             MOV     A,R7
00E1 F0             2772             MOVX    @DPTR,A
                    2773     ;               C3INT=0;                                                                   
                                                  //clear C3 INT flag
                    2774                             ; SOURCE LINE # 498
00E2 90E0C7         2775             MOV     DPTR,#0E0C7H
00E5 E0             2776             MOVX    A,@DPTR
00E6 FF             2777             MOV     R7,A
00E7 EF             2778             MOV     A,R7
00E8 54FB           2779             ANL     A,#0FBH
00EA FF             2780             MOV     R7,A
00EB EF             2781             MOV     A,R7
00EC F0             2782             MOVX    @DPTR,A
                    2783     ;               C4INT=0;                                                                   
                                                  //clear C4 INT flag
                    2784                             ; SOURCE LINE # 499
00ED 90E0C7         2785             MOV     DPTR,#0E0C7H
00F0 E0             2786             MOVX    A,@DPTR
00F1 FF             2787             MOV     R7,A
00F2 EF             2788             MOV     A,R7
00F3 54F7           2789             ANL     A,#0F7H
00F5 FF             2790             MOV     R7,A
00F6 EF             2791             MOV     A,R7
00F7 F0             2792             MOVX    @DPTR,A
                    2793     ;       
                    2794     ;               INT_CPU=1;                    //pass C234 interrupt to EX4
                    2795                             ; SOURCE LINE # 501
00F8 90E0EB         2796             MOV     DPTR,#0E0EBH
00FB E0             2797             MOVX    A,@DPTR
00FC FF             2798             MOV     R7,A
00FD EF             2799             MOV     A,R7
00FE 4410           2800             ORL     A,#010H
0100 FF             2801             MOV     R7,A
0101 EF             2802             MOV     A,R7
0102 F0             2803             MOVX    @DPTR,A
                    2804     ;       
                    2805     ;               EX4=1;
                    2806                             ; SOURCE LINE # 503
0103 D2BB           2807             SETB    EX4
                    2808     ;               EX1=1;
                    2809                             ; SOURCE LINE # 504
0105 D2AA           2810             SETB    EX1
                    2811     ;               IE1=0;
                    2812                             ; SOURCE LINE # 505
0107 C28B           2813             CLR     IE1
                    2814     ;               IEX4=0;
                    2815                             ; SOURCE LINE # 506
0109 C2C3           2816             CLR     IEX4
                    2817     ; }
                    2818                             ; SOURCE LINE # 507
010B                2819     ?C0015:
010B 22             2820             RET     
                    2821     ; END OF InitComparator
                    2822     
                    2823     ; 
                    2824     ; 
                    2825     ; 
                    2826     ; void InitWatchDog(void)
                    2827     
----                2828             RSEG  ?PR?InitWatchDog?INITIAL
0000                2829     InitWatchDog:
                    2830             USING   0
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    45

                    2831                             ; SOURCE LINE # 511
                    2832     ; {
                    2833                             ; SOURCE LINE # 512
                    2834     ;               WDTREL = 0xFF;
                    2835                             ; SOURCE LINE # 513
0000 7586FF         2836             MOV     WDTREL,#0FFH
                    2837     ;       WDT = 1;
                    2838                             ; SOURCE LINE # 514
0003 D2AE           2839             SETB    WDT
                    2840     ;       SWDT = 1;
                    2841                             ; SOURCE LINE # 515
0005 D2BE           2842             SETB    SWDT
                    2843     ;     P1_FN_L = P1_FN_L & 0xFC;               //p1_0 as GPIO
                    2844                             ; SOURCE LINE # 516
0007 90E0DB         2845             MOV     DPTR,#0E0DBH
000A E0             2846             MOVX    A,@DPTR
000B FF             2847             MOV     R7,A
000C EF             2848             MOV     A,R7
000D 54FC           2849             ANL     A,#0FCH
000F FF             2850             MOV     R7,A
0010 EF             2851             MOV     A,R7
0011 F0             2852             MOVX    @DPTR,A
                    2853     ;     P1_DD = P1_DD & 0xFE;                     //p1_0 as output
                    2854                             ; SOURCE LINE # 517
0012 90E0DC         2855             MOV     DPTR,#0E0DCH
0015 E0             2856             MOVX    A,@DPTR
0016 FF             2857             MOV     R7,A
0017 EF             2858             MOV     A,R7
0018 54FE           2859             ANL     A,#0FEH
001A FF             2860             MOV     R7,A
001B EF             2861             MOV     A,R7
001C F0             2862             MOVX    @DPTR,A
                    2863     ; }
                    2864                             ; SOURCE LINE # 518
001D                2865     ?C0016:
001D 22             2866             RET     
                    2867     ; END OF InitWatchDog
                    2868     
                    2869     ; 
                    2870     ; 
                    2871     ; 
                    2872     ; 
                    2873     ; #define GPIO(pin,fn_cfg,in_out,res_en_dis,pull_up_dwn,drive_4_8ma )  FN_##pin=fn_cfg;DD_#
                             #pin=in_out;PE_##pin=res_en_dis;PS_##pin=pull_up_dwn;DS_##pin=drive_4_8ma;
                    2874     ; 
                    2875     ; void InitGPIO(void)
                    2876     
----                2877             RSEG  ?PR?InitGPIO?INITIAL
0000                2878     InitGPIO:
                    2879             USING   0
                    2880                             ; SOURCE LINE # 525
                    2881     ; {
                    2882                             ; SOURCE LINE # 526
                    2883     ;               P0_FN_L = 0x00;                                                            
                                  // P00 ~ P03as GPIO
                    2884                             ; SOURCE LINE # 527
0000 90E0D5         2885             MOV     DPTR,#0E0D5H
0003 E4             2886             CLR     A
0004 F0             2887             MOVX    @DPTR,A
                    2888     ;               P0_FN_H = 0x00;                                                            
                                  // P04 ~ P07 as GPIO
                    2889                             ; SOURCE LINE # 528
0005 90E0D4         2890             MOV     DPTR,#0E0D4H
0008 E4             2891             CLR     A
0009 F0             2892             MOVX    @DPTR,A
                    2893     ;               P0_DD = 0x00;                                                              
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    46

                                          //      P00 ~  P07 intput
                    2894                             ; SOURCE LINE # 529
000A 90E0D6         2895             MOV     DPTR,#0E0D6H
000D E4             2896             CLR     A
000E F0             2897             MOVX    @DPTR,A
                    2898     ;               P0_PE = 0xFF;                                                              
                                          // output resistor enable       
                    2899                             ; SOURCE LINE # 530
000F 90E0D8         2900             MOV     DPTR,#0E0D8H
0012 74FF           2901             MOV     A,#0FFH
0014 F0             2902             MOVX    @DPTR,A
                    2903     ;               P0_DS = 0x00;                                                              
                                          //drive current =4mA
                    2904                             ; SOURCE LINE # 531
0015 90E0D7         2905             MOV     DPTR,#0E0D7H
0018 E4             2906             CLR     A
0019 F0             2907             MOVX    @DPTR,A
                    2908     ;               P0_PS=  0x00;                                                              
                                          //pull down resistor 
                    2909                             ; SOURCE LINE # 532
001A 90E0D9         2910             MOV     DPTR,#0E0D9H
001D E4             2911             CLR     A
001E F0             2912             MOVX    @DPTR,A
                    2913     ;       
                    2914     ;               P1_FN_L = 0x00;                                                            
                                  // P10 ~ P13 as GPIO
                    2915                             ; SOURCE LINE # 534
001F 90E0DB         2916             MOV     DPTR,#0E0DBH
0022 E4             2917             CLR     A
0023 F0             2918             MOVX    @DPTR,A
                    2919     ;               P1_FN_H = 0x00;                                                            
                                  // P14 ~ P17 as GPIO
                    2920                             ; SOURCE LINE # 535
0024 90E0DA         2921             MOV     DPTR,#0E0DAH
0027 E4             2922             CLR     A
0028 F0             2923             MOVX    @DPTR,A
                    2924     ;               P1_DD = 0x00;                                                              
                                          // P10 ~ P17 intput
                    2925                             ; SOURCE LINE # 536
0029 90E0DC         2926             MOV     DPTR,#0E0DCH
002C E4             2927             CLR     A
002D F0             2928             MOVX    @DPTR,A
                    2929     ;               P1_PE = 0xFF;                                                              
                                          // output resistor enable       
                    2930                             ; SOURCE LINE # 537
002E 90E0DE         2931             MOV     DPTR,#0E0DEH
0031 74FF           2932             MOV     A,#0FFH
0033 F0             2933             MOVX    @DPTR,A
                    2934     ;               P1_DS = 0x00;                                                              
                                          //drive current =4mA
                    2935                             ; SOURCE LINE # 538
0034 90E0DD         2936             MOV     DPTR,#0E0DDH
0037 E4             2937             CLR     A
0038 F0             2938             MOVX    @DPTR,A
                    2939     ;               P1_PS=  0x00;                                                              
                                          //pull down resistor 
                    2940                             ; SOURCE LINE # 539
0039 90E0DF         2941             MOV     DPTR,#0E0DFH
003C E4             2942             CLR     A
003D F0             2943             MOVX    @DPTR,A
                    2944     ;       
                    2945     ;               P2_FN_L = 0x00;                                                            
                                  // P20 ~ P23 as GPIO
                    2946                             ; SOURCE LINE # 541
003E 90E0E1         2947             MOV     DPTR,#0E0E1H
0041 E4             2948             CLR     A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    47

0042 F0             2949             MOVX    @DPTR,A
                    2950     ;               P2_FN_H = 0x00;                                                            
                                  // P24 ~ P27 as GPIO
                    2951                             ; SOURCE LINE # 542
0043 90E0E0         2952             MOV     DPTR,#0E0E0H
0046 E4             2953             CLR     A
0047 F0             2954             MOVX    @DPTR,A
                    2955     ;               P2_DD = 0x00;                                                              
                                          // P20~ P27 intput
                    2956                             ; SOURCE LINE # 543
0048 90E0E2         2957             MOV     DPTR,#0E0E2H
004B E4             2958             CLR     A
004C F0             2959             MOVX    @DPTR,A
                    2960     ;               P2_PE = 0xFF;                                                              
                                          // pull/down resistor enable    
                    2961                             ; SOURCE LINE # 544
004D 90E0E4         2962             MOV     DPTR,#0E0E4H
0050 74FF           2963             MOV     A,#0FFH
0052 F0             2964             MOVX    @DPTR,A
                    2965     ;               P2_DS = 0x00;                                                              
                                          //drive current =4mA
                    2966                             ; SOURCE LINE # 545
0053 90E0E3         2967             MOV     DPTR,#0E0E3H
0056 E4             2968             CLR     A
0057 F0             2969             MOVX    @DPTR,A
                    2970     ;               P2_PS=  0x00;                                                              
                                          //pull down resistor 
                    2971                             ; SOURCE LINE # 546
0058 90E0E5         2972             MOV     DPTR,#0E0E5H
005B E4             2973             CLR     A
005C F0             2974             MOVX    @DPTR,A
                    2975     ;       
                    2976     ;       // use P26 and P00 as output
                    2977     ;       
                    2978     ;     P00_FN= CFG0;                      // P00 as GPIO
                    2979                             ; SOURCE LINE # 550
005D 90E0D5         2980             MOV     DPTR,#0E0D5H
0060 E0             2981             MOVX    A,@DPTR
0061 FF             2982             MOV     R7,A
0062 EF             2983             MOV     A,R7
0063 54FC           2984             ANL     A,#0FCH
0065 FF             2985             MOV     R7,A
0066 EF             2986             MOV     A,R7
0067 F0             2987             MOVX    @DPTR,A
                    2988     ;     P00_DD = OUTPUT;               //P00 as output
                    2989                             ; SOURCE LINE # 551
0068 90E0D6         2990             MOV     DPTR,#0E0D6H
006B E0             2991             MOVX    A,@DPTR
006C FF             2992             MOV     R7,A
006D EF             2993             MOV     A,R7
006E 4401           2994             ORL     A,#01H
0070 FF             2995             MOV     R7,A
0071 EF             2996             MOV     A,R7
0072 F0             2997             MOVX    @DPTR,A
                    2998     ;     P00_PE = RES_DIS;               //P00 pull resistor off
                    2999                             ; SOURCE LINE # 552
0073 90E0D8         3000             MOV     DPTR,#0E0D8H
0076 E0             3001             MOVX    A,@DPTR
0077 FF             3002             MOV     R7,A
0078 EF             3003             MOV     A,R7
0079 54FE           3004             ANL     A,#0FEH
007B FF             3005             MOV     R7,A
007C EF             3006             MOV     A,R7
007D F0             3007             MOVX    @DPTR,A
                    3008     ;               P00_DS = I_4MA;
                    3009                             ; SOURCE LINE # 553
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    48

007E 90E0D7         3010             MOV     DPTR,#0E0D7H
0081 E0             3011             MOVX    A,@DPTR
0082 FF             3012             MOV     R7,A
0083 EF             3013             MOV     A,R7
0084 54FE           3014             ANL     A,#0FEH
0086 FF             3015             MOV     R7,A
0087 EF             3016             MOV     A,R7
0088 F0             3017             MOVX    @DPTR,A
                    3018     ; 
                    3019     ;                       
                    3020     ;                       GPIO(P20,CFG1,INPUT,RES_EN,PULL_DOWN,I_4MA);                       
                                  //P20 as EXT2
                    3021                             ; SOURCE LINE # 556
0089 90E0E1         3022             MOV     DPTR,#0E0E1H
008C E0             3023             MOVX    A,@DPTR
008D FF             3024             MOV     R7,A
008E EF             3025             MOV     A,R7
008F 54FC           3026             ANL     A,#0FCH
0091 FF             3027             MOV     R7,A
0092 EF             3028             MOV     A,R7
0093 4401           3029             ORL     A,#01H
0095 FF             3030             MOV     R7,A
0096 EF             3031             MOV     A,R7
0097 F0             3032             MOVX    @DPTR,A
0098 90E0E2         3033             MOV     DPTR,#0E0E2H
009B E0             3034             MOVX    A,@DPTR
009C FF             3035             MOV     R7,A
009D EF             3036             MOV     A,R7
009E 54FE           3037             ANL     A,#0FEH
00A0 FF             3038             MOV     R7,A
00A1 EF             3039             MOV     A,R7
00A2 F0             3040             MOVX    @DPTR,A
00A3 90E0E4         3041             MOV     DPTR,#0E0E4H
00A6 E0             3042             MOVX    A,@DPTR
00A7 FF             3043             MOV     R7,A
00A8 EF             3044             MOV     A,R7
00A9 4401           3045             ORL     A,#01H
00AB FF             3046             MOV     R7,A
00AC EF             3047             MOV     A,R7
00AD F0             3048             MOVX    @DPTR,A
00AE 90E0E5         3049             MOV     DPTR,#0E0E5H
00B1 E0             3050             MOVX    A,@DPTR
00B2 FF             3051             MOV     R7,A
00B3 EF             3052             MOV     A,R7
00B4 54FE           3053             ANL     A,#0FEH
00B6 FF             3054             MOV     R7,A
00B7 EF             3055             MOV     A,R7
00B8 F0             3056             MOVX    @DPTR,A
00B9 90E0E3         3057             MOV     DPTR,#0E0E3H
00BC E0             3058             MOVX    A,@DPTR
00BD FF             3059             MOV     R7,A
00BE EF             3060             MOV     A,R7
00BF 54FE           3061             ANL     A,#0FEH
00C1 FF             3062             MOV     R7,A
00C2 EF             3063             MOV     A,R7
00C3 F0             3064             MOVX    @DPTR,A
                    3065     ;                       GPIO(P15,CFG2,INPUT,RES_EN,PULL_DOWN,I_4MA);                       
                                  //P15 as TIMER3 T_EX
                    3066                             ; SOURCE LINE # 557
00C4 90E0DA         3067             MOV     DPTR,#0E0DAH
00C7 E0             3068             MOVX    A,@DPTR
00C8 FF             3069             MOV     R7,A
00C9 EF             3070             MOV     A,R7
00CA 54F3           3071             ANL     A,#0F3H
00CC FF             3072             MOV     R7,A
00CD EF             3073             MOV     A,R7
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    49

00CE 4408           3074             ORL     A,#08H
00D0 FF             3075             MOV     R7,A
00D1 EF             3076             MOV     A,R7
00D2 F0             3077             MOVX    @DPTR,A
00D3 90E0DC         3078             MOV     DPTR,#0E0DCH
00D6 E0             3079             MOVX    A,@DPTR
00D7 FF             3080             MOV     R7,A
00D8 EF             3081             MOV     A,R7
00D9 54DF           3082             ANL     A,#0DFH
00DB FF             3083             MOV     R7,A
00DC EF             3084             MOV     A,R7
00DD F0             3085             MOVX    @DPTR,A
00DE 90E0DE         3086             MOV     DPTR,#0E0DEH
00E1 E0             3087             MOVX    A,@DPTR
00E2 FF             3088             MOV     R7,A
00E3 EF             3089             MOV     A,R7
00E4 4420           3090             ORL     A,#020H
00E6 FF             3091             MOV     R7,A
00E7 EF             3092             MOV     A,R7
00E8 F0             3093             MOVX    @DPTR,A
00E9 90E0DF         3094             MOV     DPTR,#0E0DFH
00EC E0             3095             MOVX    A,@DPTR
00ED FF             3096             MOV     R7,A
00EE EF             3097             MOV     A,R7
00EF 54DF           3098             ANL     A,#0DFH
00F1 FF             3099             MOV     R7,A
00F2 EF             3100             MOV     A,R7
00F3 F0             3101             MOVX    @DPTR,A
00F4 90E0DD         3102             MOV     DPTR,#0E0DDH
00F7 E0             3103             MOVX    A,@DPTR
00F8 FF             3104             MOV     R7,A
00F9 EF             3105             MOV     A,R7
00FA 54DF           3106             ANL     A,#0DFH
00FC FF             3107             MOV     R7,A
00FD EF             3108             MOV     A,R7
00FE F0             3109             MOVX    @DPTR,A
                    3110     ;                       GPIO(P04,CFG0,OUTPUT,RES_EN,PULL_DOWN,I_4MA);                      
                                  //use P14 for timer0 ouput to test timer3 capture
                    3111                             ; SOURCE LINE # 558
00FF 90E0D4         3112             MOV     DPTR,#0E0D4H
0102 E0             3113             MOVX    A,@DPTR
0103 FF             3114             MOV     R7,A
0104 EF             3115             MOV     A,R7
0105 54FC           3116             ANL     A,#0FCH
0107 FF             3117             MOV     R7,A
0108 EF             3118             MOV     A,R7
0109 F0             3119             MOVX    @DPTR,A
010A 90E0D6         3120             MOV     DPTR,#0E0D6H
010D E0             3121             MOVX    A,@DPTR
010E FF             3122             MOV     R7,A
010F EF             3123             MOV     A,R7
0110 4410           3124             ORL     A,#010H
0112 FF             3125             MOV     R7,A
0113 EF             3126             MOV     A,R7
0114 F0             3127             MOVX    @DPTR,A
0115 90E0D8         3128             MOV     DPTR,#0E0D8H
0118 E0             3129             MOVX    A,@DPTR
0119 FF             3130             MOV     R7,A
011A EF             3131             MOV     A,R7
011B 4410           3132             ORL     A,#010H
011D FF             3133             MOV     R7,A
011E EF             3134             MOV     A,R7
011F F0             3135             MOVX    @DPTR,A
0120 90E0D9         3136             MOV     DPTR,#0E0D9H
0123 E0             3137             MOVX    A,@DPTR
0124 FF             3138             MOV     R7,A
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    50

0125 EF             3139             MOV     A,R7
0126 54EF           3140             ANL     A,#0EFH
0128 FF             3141             MOV     R7,A
0129 EF             3142             MOV     A,R7
012A F0             3143             MOVX    @DPTR,A
012B 90E0D7         3144             MOV     DPTR,#0E0D7H
012E E0             3145             MOVX    A,@DPTR
012F FF             3146             MOV     R7,A
0130 EF             3147             MOV     A,R7
0131 54EF           3148             ANL     A,#0EFH
0133 FF             3149             MOV     R7,A
0134 EF             3150             MOV     A,R7
0135 F0             3151             MOVX    @DPTR,A
                    3152     ;                       GPIO(P26,CFG0,OUTPUT,RES_DIS,PULL_DOWN,I_4MA);                  //P
                             26 for LED indication
                    3153                             ; SOURCE LINE # 559
0136 90E0E0         3154             MOV     DPTR,#0E0E0H
0139 E0             3155             MOVX    A,@DPTR
013A FF             3156             MOV     R7,A
013B EF             3157             MOV     A,R7
013C 54CF           3158             ANL     A,#0CFH
013E FF             3159             MOV     R7,A
013F EF             3160             MOV     A,R7
0140 F0             3161             MOVX    @DPTR,A
0141 90E0E2         3162             MOV     DPTR,#0E0E2H
0144 E0             3163             MOVX    A,@DPTR
0145 FF             3164             MOV     R7,A
0146 EF             3165             MOV     A,R7
0147 4440           3166             ORL     A,#040H
0149 FF             3167             MOV     R7,A
014A EF             3168             MOV     A,R7
014B F0             3169             MOVX    @DPTR,A
014C 90E0E4         3170             MOV     DPTR,#0E0E4H
014F E0             3171             MOVX    A,@DPTR
0150 FF             3172             MOV     R7,A
0151 EF             3173             MOV     A,R7
0152 54BF           3174             ANL     A,#0BFH
0154 FF             3175             MOV     R7,A
0155 EF             3176             MOV     A,R7
0156 F0             3177             MOVX    @DPTR,A
0157 90E0E5         3178             MOV     DPTR,#0E0E5H
015A E0             3179             MOVX    A,@DPTR
015B FF             3180             MOV     R7,A
015C EF             3181             MOV     A,R7
015D 54BF           3182             ANL     A,#0BFH
015F FF             3183             MOV     R7,A
0160 EF             3184             MOV     A,R7
0161 F0             3185             MOVX    @DPTR,A
0162 90E0E3         3186             MOV     DPTR,#0E0E3H
0165 E0             3187             MOVX    A,@DPTR
0166 FF             3188             MOV     R7,A
0167 EF             3189             MOV     A,R7
0168 54BF           3190             ANL     A,#0BFH
016A FF             3191             MOV     R7,A
016B EF             3192             MOV     A,R7
016C F0             3193             MOVX    @DPTR,A
                    3194     ;       
                    3195     ; }
                    3196                             ; SOURCE LINE # 561
016D                3197     ?C0017:
016D 22             3198             RET     
                    3199     ; END OF InitGPIO
                    3200     
                    3201     ; 
                    3202     ; void InitTimer01(void)
                    3203     
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    51

----                3204             RSEG  ?PR?InitTimer01?INITIAL
0000                3205     InitTimer01:
                    3206                             ; SOURCE LINE # 563
                    3207     ; {
                    3208                             ; SOURCE LINE # 564
                    3209     ;               T01_DIV_L= 0x05;                 //clock divider is 122, must write T01_DIV
                             _L first;
                    3210                             ; SOURCE LINE # 565
0000 90E0EF         3211             MOV     DPTR,#0E0EFH
0003 7405           3212             MOV     A,#05H
0005 F0             3213             MOVX    @DPTR,A
                    3214     ;         T01_DIV_H= 0x00;                
                    3215                             ; SOURCE LINE # 566
0006 90E0EE         3216             MOV     DPTR,#0E0EEH
0009 E4             3217             CLR     A
000A F0             3218             MOVX    @DPTR,A
                    3219     ;       TMOD = 0x10;                   //timer1 is 16bit timer, timer0 is 13 bit
                    3220                             ; SOURCE LINE # 567
000B 758910         3221             MOV     TMOD,#010H
                    3222     ;     TL0 = 0x0;
                    3223                             ; SOURCE LINE # 568
000E 758A00         3224             MOV     TL0,#00H
                    3225     ;     TH0= 0xfe;
                    3226                             ; SOURCE LINE # 569
0011 758CFE         3227             MOV     TH0,#0FEH
                    3228     ;               
                    3229     ;               TL1=0x0;
                    3230                             ; SOURCE LINE # 571
0014 758B00         3231             MOV     TL1,#00H
                    3232     ;               TH1=0x0;
                    3233                             ; SOURCE LINE # 572
0017 758D00         3234             MOV     TH1,#00H
                    3235     ;       
                    3236     ;       
                    3237     ;     ET0 = 1;                                //enable timer0 overflow interrupt
                    3238                             ; SOURCE LINE # 575
001A D2A9           3239             SETB    ET0
                    3240     ;     ET1 = 1;                                //enable timer1 overflow interrupt
                    3241                             ; SOURCE LINE # 576
001C D2AB           3242             SETB    ET1
                    3243     ;               TR0= 1;                                //start timer0
                    3244                             ; SOURCE LINE # 577
001E D28C           3245             SETB    TR0
                    3246     ;               TR1 = 1;    
                    3247                             ; SOURCE LINE # 578
0020 D28E           3248             SETB    TR1
                    3249     ; }
                    3250                             ; SOURCE LINE # 579
0022                3251     ?C0018:
0022 22             3252             RET     
                    3253     ; END OF InitTimer01
                    3254     
                    3255     ; 
                    3256     ; void InitTimer3(void)
                    3257     
----                3258             RSEG  ?PR?InitTimer3?INITIAL
0000                3259     InitTimer3:
                    3260             USING   0
                    3261                             ; SOURCE LINE # 581
                    3262     ; {
                    3263                             ; SOURCE LINE # 582
                    3264     ;       
                    3265     ;       
                    3266     ;       //capture mode setting
                    3267     ;       
                    3268     ; //    T3PS = 0;                                                               // no divid
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    52

                             er
                    3269     ; //    T3RC= 0;               //reset T3 capture register
                    3270     ; //    T3CTR=0;               //reset T3 counter
                    3271     ; //    T3CT=0;                //capture clock from cpu
                    3272     ; //    T3CPRL=1;             //capture mode select
                    3273     ; //    T3EXEN=1;             //enable T3 external EX pin
                    3274     ; //    T3EX_INV=0;           //T3 EX pin ,trigger on rising edge
                    3275     ; //    T3TF_EINT        =1;                      // timer3 overflow interrupt enable
                    3276     ; //    T3TR = 1;                                     // start timer3 
                    3277     ; //    T3TF=0;               //clear T3 overflow flag
                    3278     ; //    T3EXF=0;              //clear T3 EX trigger flag
                    3279     ; //    IE1=0;                //clear  EX1 interrupt flag
                    3280     ; //     EX1=1;               //enable EX1 interrupt
                    3281     ;       
                    3282     ;       //timer mode setting
                    3283     ;       
                    3284     ;               T3PS = 0;                                                               // 
                             no divider
                    3285                             ; SOURCE LINE # 603
0000 90E0C9         3286             MOV     DPTR,#0E0C9H
0003 E4             3287             CLR     A
0004 F0             3288             MOVX    @DPTR,A
                    3289     ;       T3RC = 0xE0C0;
                    3290                             ; SOURCE LINE # 604
0005 90E0CC         3291             MOV     DPTR,#0E0CCH
0008 74E0           3292             MOV     A,#0E0H
000A F0             3293             MOVX    @DPTR,A
000B A3             3294             INC     DPTR
000C 74C0           3295             MOV     A,#0C0H
000E F0             3296             MOVX    @DPTR,A
                    3297     ; 
                    3298     ;       T3TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    3299                             ; SOURCE LINE # 606
000F 90E0C8         3300             MOV     DPTR,#0E0C8H
0012 E0             3301             MOVX    A,@DPTR
0013 FF             3302             MOV     R7,A
0014 EF             3303             MOV     A,R7
0015 4420           3304             ORL     A,#020H
0017 FF             3305             MOV     R7,A
0018 EF             3306             MOV     A,R7
0019 F0             3307             MOVX    @DPTR,A
                    3308     ;       T3TR = 1;                               // start timer4
                    3309                             ; SOURCE LINE # 607
001A 90E0C8         3310             MOV     DPTR,#0E0C8H
001D E0             3311             MOVX    A,@DPTR
001E FF             3312             MOV     R7,A
001F EF             3313             MOV     A,R7
0020 4404           3314             ORL     A,#04H
0022 FF             3315             MOV     R7,A
0023 EF             3316             MOV     A,R7
0024 F0             3317             MOVX    @DPTR,A
                    3318     ;       CLR_T3_INT();
                    3319                             ; SOURCE LINE # 608
0025 53F9E0         3320             ANL     INT_REG1,#0E0H
                    3321     ;       EX1 = 1;
                    3322                             ; SOURCE LINE # 609
0028 D2AA           3323             SETB    EX1
                    3324     ;       IE1=0;
                    3325                             ; SOURCE LINE # 610
002A C28B           3326             CLR     IE1
                    3327     ;       
                    3328     ;       
                    3329     ; }
                    3330                             ; SOURCE LINE # 613
002C                3331     ?C0019:
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    53

002C 22             3332             RET     
                    3333     ; END OF InitTimer3
                    3334     
                    3335     ; 
                    3336     ; void InitTimer4(void)
                    3337     
----                3338             RSEG  ?PR?InitTimer4?INITIAL
0000                3339     InitTimer4:
                    3340             USING   0
                    3341                             ; SOURCE LINE # 615
                    3342     ; {
                    3343                             ; SOURCE LINE # 616
                    3344     ;       T4PS = 0;                                                               // no divid
                             er
                    3345                             ; SOURCE LINE # 617
0000 90E0CF         3346             MOV     DPTR,#0E0CFH
0003 E4             3347             CLR     A
0004 F0             3348             MOVX    @DPTR,A
                    3349     ;       T4RC = 0xE0C0;
                    3350                             ; SOURCE LINE # 618
0005 90E0D2         3351             MOV     DPTR,#0E0D2H
0008 74E0           3352             MOV     A,#0E0H
000A F0             3353             MOVX    @DPTR,A
000B A3             3354             INC     DPTR
000C 74C0           3355             MOV     A,#0C0H
000E F0             3356             MOVX    @DPTR,A
                    3357     ; 
                    3358     ;       T4TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    3359                             ; SOURCE LINE # 620
000F 90E0CE         3360             MOV     DPTR,#0E0CEH
0012 E0             3361             MOVX    A,@DPTR
0013 FF             3362             MOV     R7,A
0014 EF             3363             MOV     A,R7
0015 4420           3364             ORL     A,#020H
0017 FF             3365             MOV     R7,A
0018 EF             3366             MOV     A,R7
0019 F0             3367             MOVX    @DPTR,A
                    3368     ;       T4TR = 1;                               // start timer4
                    3369                             ; SOURCE LINE # 621
001A 90E0CE         3370             MOV     DPTR,#0E0CEH
001D E0             3371             MOVX    A,@DPTR
001E FF             3372             MOV     R7,A
001F EF             3373             MOV     A,R7
0020 4404           3374             ORL     A,#04H
0022 FF             3375             MOV     R7,A
0023 EF             3376             MOV     A,R7
0024 F0             3377             MOVX    @DPTR,A
                    3378     ;       CLR_T4_INT();
                    3379                             ; SOURCE LINE # 622
0025 53FEF0         3380             ANL     INT_REG4,#0F0H
                    3381     ;       EX6 = 1;
                    3382                             ; SOURCE LINE # 623
0028 D2BD           3383             SETB    EX6
                    3384     ;       IEX6=0;
                    3385                             ; SOURCE LINE # 624
002A C2C5           3386             CLR     IEX6
                    3387     ; }
                    3388                             ; SOURCE LINE # 625
002C                3389     ?C0020:
002C 22             3390             RET     
                    3391     ; END OF InitTimer4
                    3392     
                    3393     ; void InitTimer5(void)
                    3394     
----                3395             RSEG  ?PR?InitTimer5?INITIAL
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    54

0000                3396     InitTimer5:
                    3397             USING   0
                    3398                             ; SOURCE LINE # 626
                    3399     ; {
                    3400                             ; SOURCE LINE # 627
                    3401     ;       T5PS = 0;                                                                          
                                          // no divider
                    3402                             ; SOURCE LINE # 628
0000 90E0F4         3403             MOV     DPTR,#0E0F4H
0003 E4             3404             CLR     A
0004 F0             3405             MOVX    @DPTR,A
                    3406     ;       T5RC = 0x10C0;
                    3407                             ; SOURCE LINE # 629
0005 90E0F7         3408             MOV     DPTR,#0E0F7H
0008 7410           3409             MOV     A,#010H
000A F0             3410             MOVX    @DPTR,A
000B A3             3411             INC     DPTR
000C 74C0           3412             MOV     A,#0C0H
000E F0             3413             MOVX    @DPTR,A
                    3414     ;       
                    3415     ;       T5TF_EINT        =1;                                                            // 
                             timer4 overflow interrupt enable
                    3416                             ; SOURCE LINE # 631
000F 90E0F3         3417             MOV     DPTR,#0E0F3H
0012 E0             3418             MOVX    A,@DPTR
0013 FF             3419             MOV     R7,A
0014 EF             3420             MOV     A,R7
0015 4420           3421             ORL     A,#020H
0017 FF             3422             MOV     R7,A
0018 EF             3423             MOV     A,R7
0019 F0             3424             MOVX    @DPTR,A
                    3425     ;       T5TR = 1;                                                                          
                                          // start timer4
                    3426                             ; SOURCE LINE # 632
001A 90E0F3         3427             MOV     DPTR,#0E0F3H
001D E0             3428             MOVX    A,@DPTR
001E FF             3429             MOV     R7,A
001F EF             3430             MOV     A,R7
0020 4404           3431             ORL     A,#04H
0022 FF             3432             MOV     R7,A
0023 EF             3433             MOV     A,R7
0024 F0             3434             MOVX    @DPTR,A
                    3435     ;       T5TF=0;                                                                            
                                          // clear interrupt flag
                    3436                             ; SOURCE LINE # 633
0025 90E0F3         3437             MOV     DPTR,#0E0F3H
0028 E0             3438             MOVX    A,@DPTR
0029 FF             3439             MOV     R7,A
002A EF             3440             MOV     A,R7
002B 547F           3441             ANL     A,#07FH
002D FF             3442             MOV     R7,A
002E EF             3443             MOV     A,R7
002F F0             3444             MOVX    @DPTR,A
                    3445     ; 
                    3446     ;       
                    3447     ;       I3FR=1;
                    3448                             ; SOURCE LINE # 636
0030 D2CE           3449             SETB    I3FR
                    3450     ;       EX3 = 1;
                    3451                             ; SOURCE LINE # 637
0032 D2BA           3452             SETB    EX3
                    3453     ;       IEX3=0;
                    3454                             ; SOURCE LINE # 638
0034 C2C2           3455             CLR     IEX3
                    3456     ; }
                    3457                             ; SOURCE LINE # 639
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    55

0036                3458     ?C0021:
0036 22             3459             RET     
                    3460     ; END OF InitTimer5
                    3461     
                    3462     ; void InitTimer6(void)
                    3463     
----                3464             RSEG  ?PR?InitTimer6?INITIAL
0000                3465     InitTimer6:
                    3466             USING   0
                    3467                             ; SOURCE LINE # 640
                    3468     ; {
                    3469                             ; SOURCE LINE # 641
                    3470     ;       T6PS = 0;                                                                          
                                          // no divider
                    3471                             ; SOURCE LINE # 642
0000 90E0FA         3472             MOV     DPTR,#0E0FAH
0003 E4             3473             CLR     A
0004 F0             3474             MOVX    @DPTR,A
                    3475     ;       T6RC = 0x10C0;
                    3476                             ; SOURCE LINE # 643
0005 90E0FD         3477             MOV     DPTR,#0E0FDH
0008 7410           3478             MOV     A,#010H
000A F0             3479             MOVX    @DPTR,A
000B A3             3480             INC     DPTR
000C 74C0           3481             MOV     A,#0C0H
000E F0             3482             MOVX    @DPTR,A
                    3483     ;       
                    3484     ;       T6TF_EINT        =1;                                                    // timer4 o
                             verflow interrupt enable
                    3485                             ; SOURCE LINE # 645
000F 90E0F9         3486             MOV     DPTR,#0E0F9H
0012 E0             3487             MOVX    A,@DPTR
0013 FF             3488             MOV     R7,A
0014 EF             3489             MOV     A,R7
0015 4420           3490             ORL     A,#020H
0017 FF             3491             MOV     R7,A
0018 EF             3492             MOV     A,R7
0019 F0             3493             MOVX    @DPTR,A
                    3494     ;       T6TR = 1;                                                                          
                                  // start timer4
                    3495                             ; SOURCE LINE # 646
001A 90E0F9         3496             MOV     DPTR,#0E0F9H
001D E0             3497             MOVX    A,@DPTR
001E FF             3498             MOV     R7,A
001F EF             3499             MOV     A,R7
0020 4404           3500             ORL     A,#04H
0022 FF             3501             MOV     R7,A
0023 EF             3502             MOV     A,R7
0024 F0             3503             MOVX    @DPTR,A
                    3504     ;       T6TF=0;                                                                            
                                  // clear interrupt flag
                    3505                             ; SOURCE LINE # 647
0025 90E0F9         3506             MOV     DPTR,#0E0F9H
0028 E0             3507             MOVX    A,@DPTR
0029 FF             3508             MOV     R7,A
002A EF             3509             MOV     A,R7
002B 547F           3510             ANL     A,#07FH
002D FF             3511             MOV     R7,A
002E EF             3512             MOV     A,R7
002F F0             3513             MOVX    @DPTR,A
                    3514     ; 
                    3515     ;       
                    3516     ; 
                    3517     ;       EX5 = 1;
                    3518                             ; SOURCE LINE # 651
0030 D2BC           3519             SETB    EX5
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    56

                    3520     ;       IEX5=0;
                    3521                             ; SOURCE LINE # 652
0032 C2C4           3522             CLR     IEX5
                    3523     ; }
                    3524                             ; SOURCE LINE # 653
0034                3525     ?C0022:
0034 22             3526             RET     
                    3527     ; END OF InitTimer6
                    3528     
                    3529     ; void SystemClock(void)
                    3530     
----                3531             RSEG  ?PR?SystemClock?INITIAL
0000                3532     SystemClock:
                    3533             USING   0
                    3534                             ; SOURCE LINE # 654
                    3535     ; {
                    3536                             ; SOURCE LINE # 655
                    3537     ;         
                    3538     ;     RC80M_RES = 0x60;
                    3539                             ; SOURCE LINE # 657
0000 90E0B2         3540             MOV     DPTR,#0E0B2H
0003 7460           3541             MOV     A,#060H
0005 F0             3542             MOVX    @DPTR,A
                    3543     ;         RC80M_CAP=0x40;
                    3544                             ; SOURCE LINE # 658
0006 90E0B1         3545             MOV     DPTR,#0E0B1H
0009 7440           3546             MOV     A,#040H
000B F0             3547             MOVX    @DPTR,A
                    3548     ; 
                    3549     ;       
                    3550     ;       RC80M_C3=0x4f;            //80MHz RC oscillator set=0x4f ;    40MHz RC oscillator s
                             et = 0x59
                    3551                             ; SOURCE LINE # 661
000C 90E0B0         3552             MOV     DPTR,#0E0B0H
000F 744F           3553             MOV     A,#04FH
0011 F0             3554             MOVX    @DPTR,A
                    3555     ;    RC80M_C2=0x3f;                                             //80MHz RC oscillator set=0
                             x3f ;    40MHz RC oscillator set = 0x3a
                    3556                             ; SOURCE LINE # 662
0012 90E0AF         3557             MOV     DPTR,#0E0AFH
0015 743F           3558             MOV     A,#03FH
0017 F0             3559             MOVX    @DPTR,A
                    3560     ;       
                    3561     ;         #pragma asm
                    3562     ;               nop
0018 00             3563               nop
                    3564     ;               nop
0019 00             3565               nop
                    3566     ;               nop
001A 00             3567               nop
                    3568     ;               nop
001B 00             3569               nop
                    3570     ;               nop
001C 00             3571               nop
                    3572     ;               nop
001D 00             3573               nop
                    3574     ;               nop
001E 00             3575               nop
                    3576     ;               nop
001F 00             3577               nop
                    3578     ;               nop
0020 00             3579               nop
                    3580     ;               nop
0021 00             3581               nop
                    3582     ;               nop
0022 00             3583               nop
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    57

                    3584     ;               nop
0023 00             3585               nop
                    3586     ;               nop
0024 00             3587               nop
                    3588     ;               nop
0025 00             3589               nop
                    3590     ;               nop
0026 00             3591               nop
                    3592     ;               nop
0027 00             3593               nop
                    3594     ;               nop
0028 00             3595               nop
                    3596     ;               nop
0029 00             3597               nop
                    3598     ;               nop
002A 00             3599               nop
                    3600     ;               nop
002B 00             3601               nop
                    3602     ;               nop
002C 00             3603               nop
                    3604     ;               nop
002D 00             3605               nop
                    3606     ;               nop
002E 00             3607               nop
                    3608     ;               nop
002F 00             3609               nop
                    3610     ;               nop
0030 00             3611               nop
                    3612     ;               nop
0031 00             3613               nop
                    3614     ;               nop
0032 00             3615               nop
                    3616     ;               nop
0033 00             3617               nop
                    3618     ;               nop
0034 00             3619               nop
                    3620     ;               nop
0035 00             3621               nop
                    3622     ;               nop
0036 00             3623               nop
                    3624     ;               nop
0037 00             3625               nop
                    3626     ;               nop
0038 00             3627               nop
                    3628     ;               #pragma endasm
                    3629     ;               
                    3630     ;               #if sysclk == freq_4MHz
                    3631     ;               CLK_DIV_L = 0x14;
                    3632     ;     #endif
                    3633     ;         
                    3634     ;               #if sysclk == freq_8MHz
                    3635     ;               CLK_DIV_L = 0x0a;
                    3636     ;     #endif
                    3637     ;               
                    3638     ;               #if sysclk == freq_10MHz
                    3639     ;               CLK_DIV_L = 0x08;
                    3640     ;     #endif
                    3641     ;               
                    3642     ;               #if sysclk == freq_16MHz
                    3643     ;               CLK_DIV_L = 0x05;
                    3644     ;     #endif
                    3645     ;               
                    3646     ;               #if sysclk == freq_20MHz
                    3647     ;               CLK_DIV_L = 0x04;
                    3648     ;     #endif
                    3649     ;               
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    58

                    3650     ;                #if sysclk == freq_40MHz
                    3651     ;               CLK_DIV_L = 0x02;
                    3652     ;     #endif
                    3653     ;               
                    3654     ;               
                    3655     ;               #if sysclk == freq_80MHz
                    3656     ;               CLK_DIV_L = 0x01;
                    3657                             ; SOURCE LINE # 726
0039 90E0E7         3658             MOV     DPTR,#0E0E7H
003C 7401           3659             MOV     A,#01H
003E F0             3660             MOVX    @DPTR,A
                    3661     ;     #endif
                    3662     ;               
                    3663     ;         CLK_DIV_H = 0x00;
                    3664                             ; SOURCE LINE # 729
003F 90E0E6         3665             MOV     DPTR,#0E0E6H
0042 E4             3666             CLR     A
0043 F0             3667             MOVX    @DPTR,A
                    3668     ;               
                    3669     ;               #pragma asm
                    3670     ;               nop
0044 00             3671               nop
                    3672     ;               nop
0045 00             3673               nop
                    3674     ;               nop
0046 00             3675               nop
                    3676     ;               nop
0047 00             3677               nop
                    3678     ;               nop
0048 00             3679               nop
                    3680     ;               nop
0049 00             3681               nop
                    3682     ;               nop
004A 00             3683               nop
                    3684     ;               nop
004B 00             3685               nop
                    3686     ;               nop
004C 00             3687               nop
                    3688     ;               nop
004D 00             3689               nop
                    3690     ;               nop
004E 00             3691               nop
                    3692     ;               nop
004F 00             3693               nop
                    3694     ;               nop
0050 00             3695               nop
                    3696     ;               nop
0051 00             3697               nop
                    3698     ;               nop
0052 00             3699               nop
                    3700     ;               nop
0053 00             3701               nop
                    3702     ;               nop
0054 00             3703               nop
                    3704     ;               nop
0055 00             3705               nop
                    3706     ;               nop
0056 00             3707               nop
                    3708     ;               nop
0057 00             3709               nop
                    3710     ;               nop
0058 00             3711               nop
                    3712     ;               nop
0059 00             3713               nop
                    3714     ;               nop
005A 00             3715               nop
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    59

                    3716     ;               nop
005B 00             3717               nop
                    3718     ;               nop
005C 00             3719               nop
                    3720     ;               nop
005D 00             3721               nop
                    3722     ;               nop
005E 00             3723               nop
                    3724     ;               nop
005F 00             3725               nop
                    3726     ;               nop
0060 00             3727               nop
                    3728     ;               nop
0061 00             3729               nop
                    3730     ;               nop
0062 00             3731               nop
                    3732     ;               nop
0063 00             3733               nop
                    3734     ;               #pragma endasm
                    3735     ; }
                    3736                             ; SOURCE LINE # 765
0064                3737     ?C0023:
0064 22             3738             RET     
                    3739     ; END OF SystemClock
                    3740     
                    3741     ; 
                    3742     ; 
                    3743     ; 
                    3744     ; 
                    3745     ; 
                    3746     ; 
                    3747     ; //initial UART1, there are 2 different ways to generate baudrate
                    3748     ; //way 1
                    3749     ; void sInitUART1(void)
                    3750     
----                3751             RSEG  ?PR?sInitUART1?INITIAL
0000                3752     sInitUART1:
                    3753                             ; SOURCE LINE # 774
                    3754     ; {
                    3755                             ; SOURCE LINE # 775
                    3756     ;       S0CON  = 0x50;                // set as 8-bit UART,  enable serial 0 reception, ena
                             ble serial 0 multiprocessor function
                    3757                             ; SOURCE LINE # 776
0000 759850         3758             MOV     S0CON,#050H
                    3759     ;     WDCON = 0x80;            // 0x80: baud rate = (2^smod) * Fclk / (64 * (2^10 - s0rel))
                             ;
                    3760                             ; SOURCE LINE # 777
0003 75D880         3761             MOV     WDCON,#080H
                    3762     ;                               // 0x00: baud rate = (2^smod) * Fclk / (32 * 12 * (256 - th
                             1));
                    3763     ;                               // smod = 0;    Fclk = system clock
                    3764     ; //    S0RELL = 0xF3;             //Fclk = 8MHz, baud rate = 9600
                    3765     ;       
                    3766     ;               #if sysclk == freq_4MHz
                    3767     ;               S0RELL = 0xF3;                                                   
                    3768     ;     #endif
                    3769     ;       
                    3770     ;       #if sysclk == freq_8MHz
                    3771     ;               S0RELL = 0xF3;                                                   
                    3772     ;     #endif
                    3773     ;       
                    3774     ;               #if sysclk == freq_10MHz
                    3775     ;               S0RELL = 0xF1;                                                   
                    3776     ;     #endif
                    3777     ;       
                    3778     ;               #if sysclk == freq_16MHz
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    60

                    3779     ;               S0RELL = 0xe6;                                                   
                    3780     ;     #endif
                    3781     ;       
                    3782     ;               #if sysclk == freq_20MHz
                    3783     ;               S0RELL = 0xe2;                                                   
                    3784     ;     #endif
                    3785     ;       
                    3786     ;       #if sysclk == freq_40MHz
                    3787     ;                        S0RELL = 0xbf;                                                  
                    3788     ;     #endif
                    3789     ;  
                    3790     ;       
                    3791     ;       #if sysclk == freq_80MHz
                    3792     ;                        S0RELL = 0x7e;                                                  
                    3793                             ; SOURCE LINE # 808
0006 75AA7E         3794             MOV     S0RELL,#07EH
                    3795     ;     #endif
                    3796     ;       
                    3797     ;     S0RELH = 0x03;    
                    3798                             ; SOURCE LINE # 811
0009 75BA03         3799             MOV     S0RELH,#03H
                    3800     ; }
                    3801                             ; SOURCE LINE # 812
000C                3802     ?C0024:
000C 22             3803             RET     
                    3804     ; END OF sInitUART1
                    3805     
                    3806     ; 
                    3807     ; void sInitUART2(void)
                    3808     
----                3809             RSEG  ?PR?sInitUART2?INITIAL
0000                3810     sInitUART2:
                    3811                             ; SOURCE LINE # 814
                    3812     ; {
                    3813                             ; SOURCE LINE # 815
                    3814     ;     S1CON  = 0x90;                    //enable serial 1 reception, enable serial 0 multip
                             rocessor function
                    3815                             ; SOURCE LINE # 816
0000 759B90         3816             MOV     S1CON,#090H
                    3817     ;                                 //s1con.7 = 1: 8-bit UART(mode B)    s1con.7 = 0: 9-bit U
                             ART(mode A)
                    3818     ;     S1RELL = 0xE6;            //baud rate = Fclk / (32 * (2^10 - s0rel));
                    3819                             ; SOURCE LINE # 818
0003 759DE6         3820             MOV     S1RELL,#0E6H
                    3821     ;     S1RELH = 0x03;              //Fclk = 8MHz, baud rate = 9600
                    3822                             ; SOURCE LINE # 819
0006 75BB03         3823             MOV     S1RELH,#03H
                    3824     ; }
                    3825                             ; SOURCE LINE # 820
0009                3826     ?C0025:
0009 22             3827             RET     
                    3828     ; END OF sInitUART2
                    3829     
                    3830     ; 
                    3831     ; 
                    3832     ; void InitDAC(void)
                    3833     
----                3834             RSEG  ?PR?InitDAC?INITIAL
0000                3835     InitDAC:
                    3836             USING   0
                    3837                             ; SOURCE LINE # 823
                    3838     ; {
                    3839                             ; SOURCE LINE # 824
                    3840     ;               DAC1_PD=0;              //power up DAC1
                    3841                             ; SOURCE LINE # 825
0000 90E07A         3842             MOV     DPTR,#0E07AH
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    61

0003 E0             3843             MOVX    A,@DPTR
0004 FF             3844             MOV     R7,A
0005 EF             3845             MOV     A,R7
0006 54FB           3846             ANL     A,#0FBH
0008 FF             3847             MOV     R7,A
0009 EF             3848             MOV     A,R7
000A F0             3849             MOVX    @DPTR,A
                    3850     ;               DAC2_PD=0;              //power up DAC2
                    3851                             ; SOURCE LINE # 826
000B 90E07A         3852             MOV     DPTR,#0E07AH
000E E0             3853             MOVX    A,@DPTR
000F FF             3854             MOV     R7,A
0010 EF             3855             MOV     A,R7
0011 54FE           3856             ANL     A,#0FEH
0013 FF             3857             MOV     R7,A
0014 EF             3858             MOV     A,R7
0015 F0             3859             MOVX    @DPTR,A
                    3860     ;       DAC1_VREF=0;            //use 3.3V as vref
                    3861                             ; SOURCE LINE # 827
0016 90E07A         3862             MOV     DPTR,#0E07AH
0019 E0             3863             MOVX    A,@DPTR
001A FF             3864             MOV     R7,A
001B EF             3865             MOV     A,R7
001C 54F7           3866             ANL     A,#0F7H
001E FF             3867             MOV     R7,A
001F EF             3868             MOV     A,R7
0020 F0             3869             MOVX    @DPTR,A
                    3870     ;       DAC2_VREF=0;            //use 3.3V as vref
                    3871                             ; SOURCE LINE # 828
0021 90E07A         3872             MOV     DPTR,#0E07AH
0024 E0             3873             MOVX    A,@DPTR
0025 FF             3874             MOV     R7,A
0026 EF             3875             MOV     A,R7
0027 54FD           3876             ANL     A,#0FDH
0029 FF             3877             MOV     R7,A
002A EF             3878             MOV     A,R7
002B F0             3879             MOVX    @DPTR,A
                    3880     ;       ADC_DAC_SEL1=0; //select DAC output
                    3881                             ; SOURCE LINE # 829
002C 90E089         3882             MOV     DPTR,#0E089H
002F E0             3883             MOVX    A,@DPTR
0030 FF             3884             MOV     R7,A
0031 EF             3885             MOV     A,R7
0032 54FE           3886             ANL     A,#0FEH
0034 FF             3887             MOV     R7,A
0035 EF             3888             MOV     A,R7
0036 F0             3889             MOVX    @DPTR,A
                    3890     ;       ADC_DAC_SEL2=0; //select DAC output
                    3891                             ; SOURCE LINE # 830
0037 90E089         3892             MOV     DPTR,#0E089H
003A E0             3893             MOVX    A,@DPTR
003B FF             3894             MOV     R7,A
003C EF             3895             MOV     A,R7
003D 54FD           3896             ANL     A,#0FDH
003F FF             3897             MOV     R7,A
0040 EF             3898             MOV     A,R7
0041 F0             3899             MOVX    @DPTR,A
                    3900     ; }
                    3901                             ; SOURCE LINE # 831
0042                3902     ?C0026:
0042 22             3903             RET     
                    3904     ; END OF InitDAC
                    3905     
                    3906             END
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    62

SYMBOL TABLE LISTING
------ ----- -------


N A M E                        T Y P E  V A L U E   ATTRIBUTES

?C0001. . . . . . . . . . . .  C ADDR   001EH   R   SEG=?PR?INITEXT?INITIAL
?C0002. . . . . . . . . . . .  C ADDR   0019H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0003. . . . . . . . . . . .  C ADDR   0039H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0004. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0005. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0006. . . . . . . . . . . .  C ADDR   002DH   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0007. . . . . . . . . . . .  C ADDR   0030H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0008. . . . . . . . . . . .  C ADDR   0037H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0009. . . . . . . . . . . .  C ADDR   0045H   R   SEG=?PR?INITISDDEBUG?INITIAL
?C0010. . . . . . . . . . . .  C ADDR   0009H   R   SEG=?PR?INITBREAKPOINT?INITIAL
?C0011. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?EPWMOUTPUTDISABLE?INITIAL
?C0012. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?EPWMOUTPUTENABLE?INITIAL
?C0013. . . . . . . . . . . .  C ADDR   009CH   R   SEG=?PR?INITADC?INITIAL
?C0014. . . . . . . . . . . .  C ADDR   0773H   R   SEG=?PR?INITEPWM?INITIAL
?C0015. . . . . . . . . . . .  C ADDR   010BH   R   SEG=?PR?INITCOMPARATOR?INITIAL
?C0016. . . . . . . . . . . .  C ADDR   001DH   R   SEG=?PR?INITWATCHDOG?INITIAL
?C0017. . . . . . . . . . . .  C ADDR   016DH   R   SEG=?PR?INITGPIO?INITIAL
?C0018. . . . . . . . . . . .  C ADDR   0022H   R   SEG=?PR?INITTIMER01?INITIAL
?C0019. . . . . . . . . . . .  C ADDR   002CH   R   SEG=?PR?INITTIMER3?INITIAL
?C0020. . . . . . . . . . . .  C ADDR   002CH   R   SEG=?PR?INITTIMER4?INITIAL
?C0021. . . . . . . . . . . .  C ADDR   0036H   R   SEG=?PR?INITTIMER5?INITIAL
?C0022. . . . . . . . . . . .  C ADDR   0034H   R   SEG=?PR?INITTIMER6?INITIAL
?C0023. . . . . . . . . . . .  C ADDR   0064H   R   SEG=?PR?SYSTEMCLOCK?INITIAL
?C0024. . . . . . . . . . . .  C ADDR   000CH   R   SEG=?PR?SINITUART1?INITIAL
?C0025. . . . . . . . . . . .  C ADDR   0009H   R   SEG=?PR?SINITUART2?INITIAL
?C0026. . . . . . . . . . . .  C ADDR   0042H   R   SEG=?PR?INITDAC?INITIAL
?PR?EPWMOUTPUTDISABLE?INITIAL  C SEG    000DH       REL=UNIT
?PR?EPWMOUTPUTENABLE?INITIAL.  C SEG    000DH       REL=UNIT
?PR?INITADC?INITIAL . . . . .  C SEG    009DH       REL=UNIT
?PR?INITBREAKPOINT?INITIAL. .  C SEG    000AH       REL=UNIT
?PR?INITCOMPARATOR?INITIAL. .  C SEG    010CH       REL=UNIT
?PR?INITDAC?INITIAL . . . . .  C SEG    0043H       REL=UNIT
?PR?INITEPWM?INITIAL. . . . .  C SEG    0774H       REL=UNIT
?PR?INITEXT?INITIAL . . . . .  C SEG    001FH       REL=UNIT
?PR?INITGPIO?INITIAL. . . . .  C SEG    016EH       REL=UNIT
?PR?INITISDDEBUG?INITIAL. . .  C SEG    0046H       REL=UNIT
?PR?INITTIMER01?INITIAL . . .  C SEG    0023H       REL=UNIT
?PR?INITTIMER3?INITIAL. . . .  C SEG    002DH       REL=UNIT
?PR?INITTIMER4?INITIAL. . . .  C SEG    002DH       REL=UNIT
?PR?INITTIMER5?INITIAL. . . .  C SEG    0037H       REL=UNIT
?PR?INITTIMER6?INITIAL. . . .  C SEG    0035H       REL=UNIT
?PR?INITWATCHDOG?INITIAL. . .  C SEG    001EH       REL=UNIT
?PR?SINITUART1?INITIAL. . . .  C SEG    000DH       REL=UNIT
?PR?SINITUART2?INITIAL. . . .  C SEG    000AH       REL=UNIT
?PR?SYSTEMCLOCK?INITIAL . . .  C SEG    0065H       REL=UNIT
ACC . . . . . . . . . . . . .  D ADDR   00E0H   A   
ARCON . . . . . . . . . . . .  D ADDR   00EFH   A   
B . . . . . . . . . . . . . .  D ADDR   00F0H   A   
BPCTRL. . . . . . . . . . . .  D ADDR   0093H   A   
BREAKH. . . . . . . . . . . .  D ADDR   0095H   A   
BREAKL. . . . . . . . . . . .  D ADDR   0094H   A   
BSHCTL. . . . . . . . . . . .  D ADDR   00ABH   A   
BSHI. . . . . . . . . . . . .  D ADDR   00ACH   A   
BSHI_0. . . . . . . . . . . .  D ADDR   00ACH   A   
BSHI_1. . . . . . . . . . . .  D ADDR   00ADH   A   
BSHI_2. . . . . . . . . . . .  D ADDR   00AEH   A   
BSHI_3. . . . . . . . . . . .  D ADDR   00AFH   A   
BSHO. . . . . . . . . . . . .  D ADDR   00BCH   A   
BSHO_0. . . . . . . . . . . .  D ADDR   00BCH   A   
BSHO_1. . . . . . . . . . . .  D ADDR   00BDH   A   
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    63

BSHO_2. . . . . . . . . . . .  D ADDR   00BEH   A   
BSHO_3. . . . . . . . . . . .  D ADDR   00BFH   A   
CKCON . . . . . . . . . . . .  D ADDR   008EH   A   
CLK_DIV . . . . . . . . . . .  D ADDR   0091H   A   
CLK_PD_CON. . . . . . . . . .  D ADDR   008FH   A   
DPH . . . . . . . . . . . . .  D ADDR   0083H   A   
DPH1. . . . . . . . . . . . .  D ADDR   0085H   A   
DPL . . . . . . . . . . . . .  D ADDR   0082H   A   
DPL1. . . . . . . . . . . . .  D ADDR   0084H   A   
DPS . . . . . . . . . . . . .  D ADDR   0092H   A   
EADC. . . . . . . . . . . . .  B ADDR   00B8H.0 A   
EAL . . . . . . . . . . . . .  B ADDR   00A8H.7 A   
EPWMOUTPUTDISABLE . . . . . .  C ADDR   0000H   R   SEG=?PR?EPWMOUTPUTDISABLE?INITIAL
EPWMOUTPUTENABLE. . . . . . .  C ADDR   0000H   R   SEG=?PR?EPWMOUTPUTENABLE?INITIAL
ES. . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ES0 . . . . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0 . . . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . . . . .  B ADDR   00A8H.3 A   
EX0 . . . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . . . . .  B ADDR   00A8H.2 A   
EX2 . . . . . . . . . . . . .  B ADDR   00B8H.1 A   
EX3 . . . . . . . . . . . . .  B ADDR   00B8H.2 A   
EX4 . . . . . . . . . . . . .  B ADDR   00B8H.3 A   
EX5 . . . . . . . . . . . . .  B ADDR   00B8H.4 A   
EX6 . . . . . . . . . . . . .  B ADDR   00B8H.5 A   
I2FR. . . . . . . . . . . . .  B ADDR   00C8H.5 A   
I3FR. . . . . . . . . . . . .  B ADDR   00C8H.6 A   
IADC. . . . . . . . . . . . .  B ADDR   00C0H.0 A   
IE. . . . . . . . . . . . . .  D ADDR   00A8H   A   
IE0 . . . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1 . . . . . . . . . . . . .  B ADDR   0088H.3 A   
IEN0. . . . . . . . . . . . .  D ADDR   00A8H   A   
IEN1. . . . . . . . . . . . .  D ADDR   00B8H   A   
IEN2. . . . . . . . . . . . .  D ADDR   009AH   A   
IEX2. . . . . . . . . . . . .  B ADDR   00C0H.1 A   
IEX3. . . . . . . . . . . . .  B ADDR   00C0H.2 A   
IEX4. . . . . . . . . . . . .  B ADDR   00C0H.3 A   
IEX5. . . . . . . . . . . . .  B ADDR   00C0H.4 A   
IEX6. . . . . . . . . . . . .  B ADDR   00C0H.5 A   
INITADC . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITADC?INITIAL
INITBREAKPOINT. . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITBREAKPOINT?INITIAL
INITCOMPARATOR. . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITCOMPARATOR?INITIAL
INITDAC . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITDAC?INITIAL
INITEPWM. . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITEPWM?INITIAL
INITEXT . . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITEXT?INITIAL
INITGPIO. . . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITGPIO?INITIAL
INITIAL . . . . . . . . . . .  N NUMB   -----       
INITISDDEBUG. . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITISDDEBUG?INITIAL
INITTIMER01 . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER01?INITIAL
INITTIMER3. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER3?INITIAL
INITTIMER4. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER4?INITIAL
INITTIMER5. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER5?INITIAL
INITTIMER6. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITTIMER6?INITIAL
INITWATCHDOG. . . . . . . . .  C ADDR   0000H   R   SEG=?PR?INITWATCHDOG?INITIAL
INT_REG1. . . . . . . . . . .  D ADDR   00F9H   A   
INT_REG2. . . . . . . . . . .  D ADDR   00FAH   A   
INT_REG3. . . . . . . . . . .  D ADDR   00FDH   A   
INT_REG4. . . . . . . . . . .  D ADDR   00FEH   A   
IP0 . . . . . . . . . . . . .  D ADDR   00A9H   A   
IP1 . . . . . . . . . . . . .  D ADDR   00B9H   A   
IRCON . . . . . . . . . . . .  D ADDR   00C0H   A   
IT0 . . . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . . . . .  B ADDR   0088H.2 A   
MD0 . . . . . . . . . . . . .  D ADDR   00E9H   A   
MD1 . . . . . . . . . . . . .  D ADDR   00EAH   A   
MD2 . . . . . . . . . . . . .  D ADDR   00EBH   A   
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    64

MD3 . . . . . . . . . . . . .  D ADDR   00ECH   A   
MD4 . . . . . . . . . . . . .  D ADDR   00EDH   A   
MD5 . . . . . . . . . . . . .  D ADDR   00EEH   A   
MEM_CONFIG. . . . . . . . . .  D ADDR   00E8H   A   
P0. . . . . . . . . . . . . .  D ADDR   0080H   A   
P00 . . . . . . . . . . . . .  B ADDR   0080H.0 A   
P01 . . . . . . . . . . . . .  B ADDR   0080H.1 A   
P02 . . . . . . . . . . . . .  B ADDR   0080H.2 A   
P03 . . . . . . . . . . . . .  B ADDR   0080H.3 A   
P04 . . . . . . . . . . . . .  B ADDR   0080H.4 A   
P05 . . . . . . . . . . . . .  B ADDR   0080H.5 A   
P06 . . . . . . . . . . . . .  B ADDR   0080H.6 A   
P07 . . . . . . . . . . . . .  B ADDR   0080H.7 A   
P1. . . . . . . . . . . . . .  D ADDR   0090H   A   
P10 . . . . . . . . . . . . .  B ADDR   0090H.0 A   
P11 . . . . . . . . . . . . .  B ADDR   0090H.1 A   
P12 . . . . . . . . . . . . .  B ADDR   0090H.2 A   
P13 . . . . . . . . . . . . .  B ADDR   0090H.3 A   
P14 . . . . . . . . . . . . .  B ADDR   0090H.4 A   
P15 . . . . . . . . . . . . .  B ADDR   0090H.5 A   
P16 . . . . . . . . . . . . .  B ADDR   0090H.6 A   
P17 . . . . . . . . . . . . .  B ADDR   0090H.7 A   
P1AQCSFRC . . . . . . . . . .  D ADDR   00B1H   A   
P1AQSFRC. . . . . . . . . . .  D ADDR   00A7H   A   
P1CMPA. . . . . . . . . . . .  D ADDR   00A3H   A   
P1CMPA_H. . . . . . . . . . .  D ADDR   00A4H   A   
P1CMPA_L. . . . . . . . . . .  D ADDR   00A3H   A   
P1CMPB. . . . . . . . . . . .  D ADDR   00A5H   A   
P1CMPB_H. . . . . . . . . . .  D ADDR   00A6H   A   
P1CMPB_L. . . . . . . . . . .  D ADDR   00A5H   A   
P1ETCLR . . . . . . . . . . .  D ADDR   00B6H   A   
P1ETFLG . . . . . . . . . . .  D ADDR   00B5H   A   
P1ETFRC . . . . . . . . . . .  D ADDR   00B7H   A   
P1TBPRD . . . . . . . . . . .  D ADDR   00A1H   A   
P1TBPRD_H . . . . . . . . . .  D ADDR   00A2H   A   
P1TBPRD_L . . . . . . . . . .  D ADDR   00A1H   A   
P1TZCLR . . . . . . . . . . .  D ADDR   00B3H   A   
P1TZFLG . . . . . . . . . . .  D ADDR   00B2H   A   
P1TZFRC . . . . . . . . . . .  D ADDR   00B4H   A   
P2. . . . . . . . . . . . . .  D ADDR   00A0H   A   
P20 . . . . . . . . . . . . .  B ADDR   00A0H.0 A   
P21 . . . . . . . . . . . . .  B ADDR   00A0H.1 A   
P22 . . . . . . . . . . . . .  B ADDR   00A0H.2 A   
P23 . . . . . . . . . . . . .  B ADDR   00A0H.3 A   
P24 . . . . . . . . . . . . .  B ADDR   00A0H.4 A   
P25 . . . . . . . . . . . . .  B ADDR   00A0H.5 A   
P26 . . . . . . . . . . . . .  B ADDR   00A0H.6 A   
P27 . . . . . . . . . . . . .  B ADDR   00A0H.7 A   
P2AQCSFRC . . . . . . . . . .  D ADDR   00C9H   A   
P2AQSFRC. . . . . . . . . . .  D ADDR   00C7H   A   
P2CMPA. . . . . . . . . . . .  D ADDR   00C3H   A   
P2CMPA_H. . . . . . . . . . .  D ADDR   00C4H   A   
P2CMPA_L. . . . . . . . . . .  D ADDR   00C3H   A   
P2CMPB. . . . . . . . . . . .  D ADDR   00C5H   A   
P2CMPB_H. . . . . . . . . . .  D ADDR   00C6H   A   
P2CMPB_L. . . . . . . . . . .  D ADDR   00C5H   A   
P2ETCLR . . . . . . . . . . .  D ADDR   00CEH   A   
P2ETFLG . . . . . . . . . . .  D ADDR   00CDH   A   
P2ETFRC . . . . . . . . . . .  D ADDR   00CFH   A   
P2TBPRD . . . . . . . . . . .  D ADDR   00C1H   A   
P2TBPRD_H . . . . . . . . . .  D ADDR   00C2H   A   
P2TBPRD_L . . . . . . . . . .  D ADDR   00C1H   A   
P2TZCLR . . . . . . . . . . .  D ADDR   00CBH   A   
P2TZFLG . . . . . . . . . . .  D ADDR   00CAH   A   
P2TZFRC . . . . . . . . . . .  D ADDR   00CCH   A   
P3. . . . . . . . . . . . . .  D ADDR   00B0H   A   
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    65

P30 . . . . . . . . . . . . .  B ADDR   00B0H.0 A   
P31 . . . . . . . . . . . . .  B ADDR   00B0H.1 A   
P32 . . . . . . . . . . . . .  B ADDR   00B0H.2 A   
P33 . . . . . . . . . . . . .  B ADDR   00B0H.3 A   
P34 . . . . . . . . . . . . .  B ADDR   00B0H.4 A   
P35 . . . . . . . . . . . . .  B ADDR   00B0H.5 A   
P36 . . . . . . . . . . . . .  B ADDR   00B0H.6 A   
P37 . . . . . . . . . . . . .  B ADDR   00B0H.7 A   
P3AQCSFRC . . . . . . . . . .  D ADDR   00D9H   A   
P3AQSFRC. . . . . . . . . . .  D ADDR   00D7H   A   
P3CMPA. . . . . . . . . . . .  D ADDR   00D3H   A   
P3CMPA_H. . . . . . . . . . .  D ADDR   00D4H   A   
P3CMPA_L. . . . . . . . . . .  D ADDR   00D3H   A   
P3CMPB. . . . . . . . . . . .  D ADDR   00D5H   A   
P3CMPB_H. . . . . . . . . . .  D ADDR   00D6H   A   
P3CMPB_L. . . . . . . . . . .  D ADDR   00D5H   A   
P3ETCLR . . . . . . . . . . .  D ADDR   00DEH   A   
P3ETFLG . . . . . . . . . . .  D ADDR   00DDH   A   
P3ETFRC . . . . . . . . . . .  D ADDR   00DFH   A   
P3TBPRD . . . . . . . . . . .  D ADDR   00D1H   A   
P3TBPRD_H . . . . . . . . . .  D ADDR   00D2H   A   
P3TBPRD_L . . . . . . . . . .  D ADDR   00D1H   A   
P3TZCLR . . . . . . . . . . .  D ADDR   00DBH   A   
P3TZFLG . . . . . . . . . . .  D ADDR   00DAH   A   
P3TZFRC . . . . . . . . . . .  D ADDR   00DCH   A   
P4AQCSFRC . . . . . . . . . .  D ADDR   00F1H   A   
P4AQSFRC. . . . . . . . . . .  D ADDR   00E7H   A   
P4CMPA. . . . . . . . . . . .  D ADDR   00E3H   A   
P4CMPA_H. . . . . . . . . . .  D ADDR   00E4H   A   
P4CMPA_L. . . . . . . . . . .  D ADDR   00E3H   A   
P4CMPB. . . . . . . . . . . .  D ADDR   00E5H   A   
P4CMPB_H. . . . . . . . . . .  D ADDR   00E6H   A   
P4CMPB_L. . . . . . . . . . .  D ADDR   00E5H   A   
P4ETCLR . . . . . . . . . . .  D ADDR   00F6H   A   
P4ETFLG . . . . . . . . . . .  D ADDR   00F5H   A   
P4ETFRC . . . . . . . . . . .  D ADDR   00F7H   A   
P4TBPRD . . . . . . . . . . .  D ADDR   00E1H   A   
P4TBPRD_H . . . . . . . . . .  D ADDR   00E2H   A   
P4TBPRD_L . . . . . . . . . .  D ADDR   00E1H   A   
P4TZCLR . . . . . . . . . . .  D ADDR   00F3H   A   
P4TZFLG . . . . . . . . . . .  D ADDR   00F2H   A   
P4TZFRC . . . . . . . . . . .  D ADDR   00F4H   A   
PCON. . . . . . . . . . . . .  D ADDR   0087H   A   
POWER_CON . . . . . . . . . .  D ADDR   0097H   A   
PSW . . . . . . . . . . . . .  D ADDR   00D0H   A   
RB80. . . . . . . . . . . . .  B ADDR   0098H.2 A   
REN0. . . . . . . . . . . . .  B ADDR   0098H.4 A   
RI. . . . . . . . . . . . . .  B ADDR   0098H.0 A   
RI0 . . . . . . . . . . . . .  B ADDR   0098H.0 A   
S0BUF . . . . . . . . . . . .  D ADDR   0099H   A   
S0CON . . . . . . . . . . . .  D ADDR   0098H   A   
S0RELH. . . . . . . . . . . .  D ADDR   00BAH   A   
S0RELL. . . . . . . . . . . .  D ADDR   00AAH   A   
S1BUF . . . . . . . . . . . .  D ADDR   009CH   A   
S1CON . . . . . . . . . . . .  D ADDR   009BH   A   
S1RELH. . . . . . . . . . . .  D ADDR   00BBH   A   
S1RELL. . . . . . . . . . . .  D ADDR   009DH   A   
SBUF. . . . . . . . . . . . .  D ADDR   0099H   A   
SINITUART1. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SINITUART1?INITIAL
SINITUART2. . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SINITUART2?INITIAL
SM0 . . . . . . . . . . . . .  B ADDR   0098H.7 A   
SM1 . . . . . . . . . . . . .  B ADDR   0098H.6 A   
SM20. . . . . . . . . . . . .  B ADDR   0098H.5 A   
SP. . . . . . . . . . . . . .  D ADDR   0081H   A   
SRAM_CON. . . . . . . . . . .  D ADDR   00F8H   A   
SWDT. . . . . . . . . . . . .  B ADDR   00B8H.6 A   
A51 MACRO ASSEMBLER  INITIAL                                                              05/14/2019 21:59:45 PAGE    66

SYSTEMCLOCK . . . . . . . . .  C ADDR   0000H   R   SEG=?PR?SYSTEMCLOCK?INITIAL
T2CON . . . . . . . . . . . .  D ADDR   00C8H   A   
TB80. . . . . . . . . . . . .  B ADDR   0098H.3 A   
TCON. . . . . . . . . . . . .  D ADDR   0088H   A   
TF0 . . . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1 . . . . . . . . . . . . .  B ADDR   0088H.7 A   
TH0 . . . . . . . . . . . . .  D ADDR   008CH   A   
TH1 . . . . . . . . . . . . .  D ADDR   008DH   A   
TI0 . . . . . . . . . . . . .  B ADDR   0098H.1 A   
TL0 . . . . . . . . . . . . .  D ADDR   008AH   A   
TL1 . . . . . . . . . . . . .  D ADDR   008BH   A   
TMOD. . . . . . . . . . . . .  D ADDR   0089H   A   
TR0 . . . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1 . . . . . . . . . . . . .  B ADDR   0088H.6 A   
WDCON . . . . . . . . . . . .  D ADDR   00D8H   A   
WDCON_7 . . . . . . . . . . .  B ADDR   00D8H.7 A   
WDT . . . . . . . . . . . . .  B ADDR   00A8H.6 A   
WDTREL. . . . . . . . . . . .  D ADDR   0086H   A   
__ISD_INIT. . . . . . . . . .  C ADDR   -----       EXT


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
