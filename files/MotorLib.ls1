<<<<<<< HEAD
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     1
=======
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     1
>>>>>>> cc0719c57398d22808f064b280f516faf895e0c6


MACRO ASSEMBLER A51 V8.02c
OBJECT MODULE PLACED IN .\OUTPUT\MotorLib.OBJ
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE .\OUTPUT\MotorLib.src PR(.\files\MotorLib.ls1) EP DEBUG

LOC  OBJ            LINE     SOURCE

                       1     ; .\OUTPUT\MotorLib.SRC generated from: SRC\MotorLib.c
                       2     ; COMPILER INVOKED BY:
                       3     ;        C:\Keil_v5\C51\BIN\C51.EXE SRC\MotorLib.c OPTIMIZE(0,SPEED) REGFILE(.\OUTPUT\motor
                             .ORC) BROWSE INTVECTOR(0X2000) INCDIR(.\INC) DEBUG OBJECTEXTEND CODE PRINT(.\files\MotorLib
                             .lst) TABS(2) SRC(.\OUTPUT\MotorLib.SRC)
                       4     
                       5     $nomod51 
                       6     
                       7     NAME    MOTORLIB
                       8     
  00CE                 9     P2ETCLR DATA    0CEH
  009B                10     TB80    BIT     098H.3
  00DE                11     P3ETCLR DATA    0DEH
  00A1                12     P1TBPRD DATA    0A1H
  0080                13     P0      DATA    080H
  00F6                14     P4ETCLR DATA    0F6H
  00C1                15     P2TBPRD DATA    0C1H
  0090                16     P1      DATA    090H
  00D1                17     P3TBPRD DATA    0D1H
  00A0                18     P2      DATA    0A0H
  00E1                19     P4TBPRD DATA    0E1H
  00B0                20     P3      DATA    0B0H
  009D                21     SM20    BIT     098H.5
  00B1                22     P1AQCSFRC       DATA    0B1H
  00C9                23     P2AQCSFRC       DATA    0C9H
  00D9                24     P3AQCSFRC       DATA    0D9H
  00F1                25     P4AQCSFRC       DATA    0F1H
  00B2                26     P1TZFLG DATA    0B2H
  00CA                27     P2TZFLG DATA    0CAH
  00DA                28     P3TZFLG DATA    0DAH
  00B4                29     P1TZFRC DATA    0B4H
  00A8                30     IEN0    DATA    0A8H
  00F2                31     P4TZFLG DATA    0F2H
  00CC                32     P2TZFRC DATA    0CCH
  00A8                33     IE      DATA    0A8H
  00B8                34     EADC    BIT     0B8H.0
  00B8                35     IEN1    DATA    0B8H
  0085                36     DPH1    DATA    085H
  00DC                37     P3TZFRC DATA    0DCH
  009A                38     IEN2    DATA    09AH
  00F4                39     P4TZFRC DATA    0F4H
  008F                40     CLK_PD_CON      DATA    08FH
  00C0                41     IADC    BIT     0C0H.0
  0084                42     DPL1    DATA    084H
  00B3                43     P1TZCLR DATA    0B3H
  00CB                44     P2TZCLR DATA    0CBH
  00DF                45     WDCON_7 BIT     0D8H.7
  00CD                46     I2FR    BIT     0C8H.5
  00DB                47     P3TZCLR DATA    0DBH
  00CE                48     I3FR    BIT     0C8H.6
  00F3                49     P4TZCLR DATA    0F3H
  009C                50     REN0    BIT     098H.4
  00AC                51     ES      BIT     0A8H.4
  00C1                52     IEX2    BIT     0C0H.1
  00C2                53     IEX3    BIT     0C0H.2
  0098                54     RI      BIT     098H.0
  00C3                55     IEX4    BIT     0C0H.3
  00C4                56     IEX5    BIT     0C0H.4
<<<<<<< HEAD
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     2
=======
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     2
>>>>>>> cc0719c57398d22808f064b280f516faf895e0c6

  00C5                57     IEX6    BIT     0C0H.5
  0091                58     CLK_DIV DATA    091H
  0081                59     SP      DATA    081H
  00A3                60     P1CMPA  DATA    0A3H
  00C3                61     P2CMPA  DATA    0C3H
  00A5                62     P1CMPB  DATA    0A5H
  00D3                63     P3CMPA  DATA    0D3H
  00C5                64     P2CMPB  DATA    0C5H
  00E3                65     P4CMPA  DATA    0E3H
  00D5                66     P3CMPB  DATA    0D5H
<<<<<<< HEAD
  00E5                67     P4CMPB  DATA    0E5H
  00A2                68     P1TBPRD_H       DATA    0A2H
  00C2                69     P2TBPRD_H       DATA    0C2H
  00D2                70     P3TBPRD_H       DATA    0D2H
  00E2                71     P4TBPRD_H       DATA    0E2H
  00A1                72     P1TBPRD_L       DATA    0A1H
  00C1                73     P2TBPRD_L       DATA    0C1H
  00D1                74     P3TBPRD_L       DATA    0D1H
  00E1                75     P4TBPRD_L       DATA    0E1H
  0095                76     BREAKH  DATA    095H
  00BA                77     S0RELH  DATA    0BAH
  0080                78     P00     BIT     080H.0
  0099                79     SBUF    DATA    099H
  00BB                80     S1RELH  DATA    0BBH
  0090                81     P10     BIT     090H.0
  0087                82     PCON    DATA    087H
  0081                83     P01     BIT     080H.1
  00A0                84     P20     BIT     0A0H.0
  0091                85     P11     BIT     090H.1
  0082                86     P02     BIT     080H.2
  00B0                87     P30     BIT     0B0H.0
  00A1                88     P21     BIT     0A0H.1
  0092                89     P12     BIT     090H.2
  0083                90     P03     BIT     080H.3
  0094                91     BREAKL  DATA    094H
  00B1                92     P31     BIT     0B0H.1
  00AA                93     S0RELL  DATA    0AAH
  00A2                94     P22     BIT     0A0H.2
  0093                95     P13     BIT     090H.3
  0084                96     P04     BIT     080H.4
  00B2                97     P32     BIT     0B0H.2
  00A3                98     P23     BIT     0A0H.3
  009D                99     S1RELL  DATA    09DH
  0094               100     P14     BIT     090H.4
  0089               101     TMOD    DATA    089H
  0088               102     TCON    DATA    088H
  0085               103     P05     BIT     080H.5
  00B3               104     P33     BIT     0B0H.3
  00A4               105     P24     BIT     0A0H.4
  0095               106     P15     BIT     090H.5
  0086               107     P06     BIT     080H.6
  00B4               108     P34     BIT     0B0H.4
  00AC               109     BSHI_0  DATA    0ACH
  00A5               110     P25     BIT     0A0H.5
  0096               111     P16     BIT     090H.6
  0087               112     P07     BIT     080H.7
  00B5               113     P35     BIT     0B0H.5
  00AD               114     BSHI_1  DATA    0ADH
  00A6               115     P26     BIT     0A0H.6
  0097               116     P17     BIT     090H.7
  00B6               117     P36     BIT     0B0H.6
  00AE               118     BSHI_2  DATA    0AEH
  00A7               119     P27     BIT     0A0H.7
  00B7               120     P37     BIT     0B0H.7
  00AF               121     BSHI_3  DATA    0AFH
  00BC               122     BSHO_0  DATA    0BCH
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     3

  00BD               123     BSHO_1  DATA    0BDH
  0089               124     IE0     BIT     088H.1
  00BE               125     BSHO_2  DATA    0BEH
  008B               126     IE1     BIT     088H.3
  00BF               127     BSHO_3  DATA    0BFH
  00F0               128     B       DATA    0F0H
  00E9               129     MD0     DATA    0E9H
  00EA               130     MD1     DATA    0EAH
  00AB               131     BSHCTL  DATA    0ABH
  00EB               132     MD2     DATA    0EBH
  00BE               133     SWDT    BIT     0B8H.6
  00A7               134     P1AQSFRC        DATA    0A7H
  00EC               135     MD3     DATA    0ECH
  00C7               136     P2AQSFRC        DATA    0C7H
  00ED               137     MD4     DATA    0EDH
  00D7               138     P3AQSFRC        DATA    0D7H
  00EE               139     MD5     DATA    0EEH
  00E7               140     P4AQSFRC        DATA    0E7H
  00E0               141     ACC     DATA    0E0H
  00AC               142     ES0     BIT     0A8H.4
  00A9               143     IP0     DATA    0A9H
  00A9               144     ET0     BIT     0A8H.1
  0093               145     BPCTRL  DATA    093H
  00B9               146     IP1     DATA    0B9H
  00AB               147     ET1     BIT     0A8H.3
  008D               148     TF0     BIT     088H.5
  0098               149     RI0     BIT     098H.0
  008F               150     TF1     BIT     088H.7
  00A4               151     P1CMPA_H        DATA    0A4H
  008C               152     TH0     DATA    08CH
  00C4               153     P2CMPA_H        DATA    0C4H
  00A6               154     P1CMPB_H        DATA    0A6H
  00A8               155     EX0     BIT     0A8H.0
  0099               156     TI0     BIT     098H.1
  008D               157     TH1     DATA    08DH
  0088               158     IT0     BIT     088H.0
  00D4               159     P3CMPA_H        DATA    0D4H
  00C6               160     P2CMPB_H        DATA    0C6H
  00AA               161     EX1     BIT     0A8H.2
  008A               162     IT1     BIT     088H.2
  00E4               163     P4CMPA_H        DATA    0E4H
  00D6               164     P3CMPB_H        DATA    0D6H
  00B9               165     EX2     BIT     0B8H.1
  00E6               166     P4CMPB_H        DATA    0E6H
  00A3               167     P1CMPA_L        DATA    0A3H
  00BA               168     EX3     BIT     0B8H.2
  009F               169     SM0     BIT     098H.7
  0097               170     POWER_CON       DATA    097H
  008A               171     TL0     DATA    08AH
  00C3               172     P2CMPA_L        DATA    0C3H
  00A5               173     P1CMPB_L        DATA    0A5H
  00BB               174     EX4     BIT     0B8H.3
  009E               175     SM1     BIT     098H.6
  008B               176     TL1     DATA    08BH
  00D3               177     P3CMPA_L        DATA    0D3H
  00C5               178     P2CMPB_L        DATA    0C5H
  00BC               179     EX5     BIT     0B8H.4
  00AF               180     EAL     BIT     0A8H.7
  00E3               181     P4CMPA_L        DATA    0E3H
  00D5               182     P3CMPB_L        DATA    0D5H
  00BD               183     EX6     BIT     0B8H.5
  00E5               184     P4CMPB_L        DATA    0E5H
  0086               185     WDTREL  DATA    086H
  008C               186     TR0     BIT     088H.4
  008E               187     TR1     BIT     088H.6
  00F9               188     INT_REG1        DATA    0F9H
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     4

  0083               189     DPH     DATA    083H
  00FA               190     INT_REG2        DATA    0FAH
  00FD               191     INT_REG3        DATA    0FDH
  00FE               192     INT_REG4        DATA    0FEH
  0082               193     DPL     DATA    082H
  0099               194     S0BUF   DATA    099H
  009C               195     S1BUF   DATA    09CH
  0098               196     S0CON   DATA    098H
  009B               197     S1CON   DATA    09BH
  00C8               198     T2CON   DATA    0C8H
  0092               199     DPS     DATA    092H
  00AE               200     WDT     BIT     0A8H.6
  008E               201     CKCON   DATA    08EH
  00EF               202     ARCON   DATA    0EFH
  00B5               203     P1ETFLG DATA    0B5H
  00F8               204     SRAM_CON        DATA    0F8H
  00CD               205     P2ETFLG DATA    0CDH
  00DD               206     P3ETFLG DATA    0DDH
  00B7               207     P1ETFRC DATA    0B7H
  00F5               208     P4ETFLG DATA    0F5H
  00CF               209     P2ETFRC DATA    0CFH
  00E8               210     MEM_CONFIG      DATA    0E8H
  00DF               211     P3ETFRC DATA    0DFH
  00F7               212     P4ETFRC DATA    0F7H
  00D0               213     PSW     DATA    0D0H
  00D8               214     WDCON   DATA    0D8H
  00C0               215     IRCON   DATA    0C0H
  009A               216     RB80    BIT     098H.2
  00B6               217     P1ETCLR DATA    0B6H
                     218     ?PR?_EE_write?MOTORLIB                   SEGMENT CODE 
                     219     ?DT?_EE_write?MOTORLIB                   SEGMENT DATA 
                     220     ?PR?_EE_read?MOTORLIB                    SEGMENT CODE 
                     221     ?DT?_EE_read?MOTORLIB                    SEGMENT DATA 
                     222     ?PR?_sin?MOTORLIB    SEGMENT CODE 
                     223     ?DT?_sin?MOTORLIB    SEGMENT DATA 
                     224     ?PR?_Normalize?MOTORLIB                  SEGMENT CODE 
                     225     ?DT?_Normalize?MOTORLIB                  SEGMENT DATA 
                     226     ?C_INITSEG           SEGMENT CODE 
                     227     ?XD?MOTORLIB         SEGMENT XDATA 
                     228     ?DT?MOTORLIB         SEGMENT DATA 
                     229             EXTRN   CODE (?C?LSTXDATA)
                     230             PUBLIC  tDebugTable
                     231             PUBLIC  _div_remainder
                     232             PUBLIC  _md_error
                     233             PUBLIC  _div_denominator
                     234             PUBLIC  _Normalize
                     235             PUBLIC  _sin
                     236             PUBLIC  _EE_read
                     237             PUBLIC  ?_EE_write?BYTE
                     238             PUBLIC  _EE_write
                     239     
----                 240             RSEG  ?DT?_EE_read?MOTORLIB
0000                 241     ?_EE_read?BYTE:
0000                 242         EE_addr?142:   DS   1
                     243     
----                 244             RSEG  ?DT?_EE_write?MOTORLIB
0000                 245     ?_EE_write?BYTE:
0000                 246         EE_addr?040:   DS   1
0001                 247             ORG  1
0001                 248         EE_data?041:   DS   4
                     249     
----                 250             RSEG  ?DT?_Normalize?MOTORLIB
0000                 251     ?_Normalize?BYTE:
0000                 252            Data?345:   DS   4
0004                 253             ORG  4
0004                 254              LD?346:   DS   4
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     5

                     255     
----                 256             RSEG  ?DT?_sin?MOTORLIB
0000                 257     ?_sin?BYTE:
0000                 258             dat?243:   DS   2
0002                 259             ORG  2
0002                 260           value?244:   DS   2
                     261     
----                 262             RSEG  ?XD?MOTORLIB
0000                 263     _div_denominator:   DS   2
0002                 264           _md_error:   DS   1
0003                 265      _div_remainder:   DS   2
                     266     
----                 267             RSEG  ?DT?MOTORLIB
0000                 268         tDebugTable:   DS   10
                     269     
----                 270             RSEG  ?C_INITSEG
0000 0A              271             DB      00AH
0001 00       F      272             DB      tDebugTable
0002 01              273             DB      001H
0003 02              274             DB      002H
0004 03              275             DB      003H
0005 04              276             DB      004H
0006 05              277             DB      005H
0007 06              278             DB      006H
0008 07              279             DB      007H
0009 08              280             DB      008H
000A 09              281             DB      009H
000B 0A              282             DB      00AH
                     283     
                     284     ; /*
                     285     ;  * lib.c
                     286     ;  *    Copy Right (c) of JE
                     287     ;  *  Created on: 
                     288     ;  *      18 Sep 2018
                     289     ;  *  Author: 
                     290     ;  *      Ken
                     291     ;  *  Last Modified: 
                     292     ;  *     
                     293     ;  *  Description: 
                     294     ;  *      lib for JE8MCU
                     295     ;  *  History:
                     296     ;  *      ver 0.1 created by ken on 12 August 2016 
                     297     ;  *
                     298     ;  *            Use math table for fuctions of 
                     299     ;  *                            sin, cos, inverse, sqrt, artan
                     300     ;  *                            Park transform and Clark transform
                     301     ;  *
                     302     ;  *
                     303     ;  */
                     304     ;  
                     305     ;  /***************************************************
                     306     ;  * Includes
                     307     ;  */
                     308     ; #include <stdio.h>
                     309     ; #include <intrins.h>   
                     310     ; #include <absacc.h>
                     311     ; #include "register.h"
                     312     ; #include "motorLib.h"
                     313     ; 
                     314     ; 
                     315     ; 
                     316     ; volatile U8 xdata _md_error;// _at_ (0xDFFF);
                     317     ; volatile U16 xdata _div_remainder;// _at_ (0xDFFD);
                     318     ; volatile U16 xdata _div_denominator;// _at_ (0xA4FB);
                     319     ; 
                     320     ; #pragma asm
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     6

----                 321                                                                     CSEG    AT      4000h
                     322     ; #pragma endasm
                     323     ; const unsigned char tDebugTable[10] = {1,2,3,4,5,6,7,8,9,10};
                     324     ; 
                     325     ; 
                     326     ; 
                     327     ; /*
                     328     ;  * @fn                EE_write
                     329     ;  *
                     330     ;  * @brief write data to EEPROM , 64x32 bit
                     331     ;  * 
                     332     ;  * @param     none
                     333     ;  * EE_write(eeprom address, eeprom data)
                     334     ; 
                     335     ;  *
                     336     ;  * @return    none
                     337     ;  */
                     338     ; 
                     339     ;  void EE_write(U8 EE_addr, U32 EE_data)
                     340     
----                 341             RSEG  ?PR?_EE_write?MOTORLIB
0000                 342     _EE_write:
                     343             USING   0
                     344                             ; SOURCE LINE # 56
0000 8F00     F      345             MOV     EE_addr?040,R7
                     346     ; {
                     347                             ; SOURCE LINE # 57
0002                 348     ?C0001:
                     349     ;       
                     350     ;                       while (MTP_BUSY==1);
                     351                             ; SOURCE LINE # 59
0002 90E08E          352             MOV     DPTR,#0E08EH
0005 E0              353             MOVX    A,@DPTR
0006 FF              354             MOV     R7,A
0007 EF              355             MOV     A,R7
0008 C4              356             SWAP    A
0009 13              357             RRC     A
000A 13              358             RRC     A
000B 5403            359             ANL     A,#03H
000D FF              360             MOV     R7,A
000E EF              361             MOV     A,R7
000F 20E0F0          362             JB      ACC.0,?C0001
0012                 363     ?C0002:
                     364     ;                       MTPCON2=0x53;         //init MTP write mode
                     365                             ; SOURCE LINE # 60
0012 90E08F          366             MOV     DPTR,#0E08FH
0015 7453            367             MOV     A,#053H
0017 F0              368             MOVX    @DPTR,A
                     369     ;                       MTPSADD1=EE_addr;       // EEPROM address
                     370                             ; SOURCE LINE # 61
0018 90E091          371             MOV     DPTR,#0E091H
001B E500     F      372             MOV     A,EE_addr?040
001D F0              373             MOVX    @DPTR,A
                     374     ;                       MTPSADD2=0x00;
                     375                             ; SOURCE LINE # 62
001E 90E092          376             MOV     DPTR,#0E092H
0021 E4              377             CLR     A
0022 F0              378             MOVX    @DPTR,A
                     379     ;                       MTPDATA=EE_data;
                     380                             ; SOURCE LINE # 63
0023 AF00     F      381             MOV     R7,EE_data?041+03H
0025 AE00     F      382             MOV     R6,EE_data?041+02H
0027 AD00     F      383             MOV     R5,EE_data?041+01H
0029 AC00     F      384             MOV     R4,EE_data?041
002B 90E093          385             MOV     DPTR,#0E093H
002E 120000   F      386             LCALL   ?C?LSTXDATA
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     7

                     387     ;                       
                     388     ;                       MTPCON1=0x0b;                           //start 
                     389                             ; SOURCE LINE # 65
0031 90E08E          390             MOV     DPTR,#0E08EH
0034 740B            391             MOV     A,#0BH
0036 F0              392             MOVX    @DPTR,A
0037                 393     ?C0003:
                     394     ;                       
                     395     ;                       while (MTP_WRITE==0);
                     396                             ; SOURCE LINE # 67
0037 90E08E          397             MOV     DPTR,#0E08EH
003A E0              398             MOVX    A,@DPTR
003B FF              399             MOV     R7,A
003C EF              400             MOV     A,R7
003D C4              401             SWAP    A
003E 13              402             RRC     A
003F 5407            403             ANL     A,#07H
0041 FF              404             MOV     R7,A
0042 EF              405             MOV     A,R7
0043 30E0F1          406             JNB     ACC.0,?C0003
0046                 407     ?C0004:
                     408     ;                       MTPCON1=0x0;
                     409                             ; SOURCE LINE # 68
0046 90E08E          410             MOV     DPTR,#0E08EH
0049 E4              411             CLR     A
004A F0              412             MOVX    @DPTR,A
                     413     ;       
                     414     ; }
                     415                             ; SOURCE LINE # 70
004B                 416     ?C0005:
004B 22              417             RET     
                     418     ; END OF _EE_write
                     419     
                     420     ; 
                     421     ; /*
                     422     ;  * @fn                EE_read
                     423     ;  *
                     424     ;  * @brief read data from EEPROM , 64x32 bit
                     425     ;  * 
                     426     ;  * @param     none
                     427     ;  * EE_read(eeprom address)
                     428     ; 
                     429     ;  *
                     430     ;  * @return    eprom data
                     431     ;  */
                     432     ; 
                     433     ; U32 EE_read(U8 EE_addr)
                     434     
----                 435             RSEG  ?PR?_EE_read?MOTORLIB
0000                 436     _EE_read:
                     437             USING   0
                     438                             ; SOURCE LINE # 84
0000 8F00     F      439             MOV     EE_addr?142,R7
                     440     ; {
                     441                             ; SOURCE LINE # 85
0002                 442     ?C0006:
                     443     ;       
                     444     ;                       while (MTP_BUSY==1);
                     445                             ; SOURCE LINE # 87
0002 90E08E          446             MOV     DPTR,#0E08EH
0005 E0              447             MOVX    A,@DPTR
0006 FF              448             MOV     R7,A
0007 EF              449             MOV     A,R7
0008 C4              450             SWAP    A
0009 13              451             RRC     A
000A 13              452             RRC     A
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     8

000B 5403            453             ANL     A,#03H
000D FF              454             MOV     R7,A
000E EF              455             MOV     A,R7
000F 20E0F0          456             JB      ACC.0,?C0006
0012                 457     ?C0007:
                     458     ;                       MTPCON2=0x55;         //init MTP read mode
                     459                             ; SOURCE LINE # 88
0012 90E08F          460             MOV     DPTR,#0E08FH
0015 7455            461             MOV     A,#055H
0017 F0              462             MOVX    @DPTR,A
                     463     ;                       MTPSADD1=EE_addr;       //
                     464                             ; SOURCE LINE # 89
0018 90E091          465             MOV     DPTR,#0E091H
001B E500     F      466             MOV     A,EE_addr?142
001D F0              467             MOVX    @DPTR,A
                     468     ;                       MTPSADD2=0x00;
                     469                             ; SOURCE LINE # 90
001E 90E092          470             MOV     DPTR,#0E092H
0021 E4              471             CLR     A
0022 F0              472             MOVX    @DPTR,A
                     473     ;                       MTPCON1=0x07;                                   //start
                     474                             ; SOURCE LINE # 91
0023 90E08E          475             MOV     DPTR,#0E08EH
0026 7407            476             MOV     A,#07H
0028 F0              477             MOVX    @DPTR,A
0029                 478     ?C0008:
                     479     ;                       while (MTP_READ==0);
                     480                             ; SOURCE LINE # 92
0029 90E08E          481             MOV     DPTR,#0E08EH
002C E0              482             MOVX    A,@DPTR
002D FF              483             MOV     R7,A
002E EF              484             MOV     A,R7
002F C4              485             SWAP    A
0030 540F            486             ANL     A,#0FH
0032 FF              487             MOV     R7,A
0033 EF              488             MOV     A,R7
0034 30E0F2          489             JNB     ACC.0,?C0008
0037                 490     ?C0009:
                     491     ;                       MTPCON1=0x0;
                     492                             ; SOURCE LINE # 93
0037 90E08E          493             MOV     DPTR,#0E08EH
003A E4              494             CLR     A
003B F0              495             MOVX    @DPTR,A
                     496     ;                       return MTPDATA;
                     497                             ; SOURCE LINE # 94
003C 90E093          498             MOV     DPTR,#0E093H
003F E0              499             MOVX    A,@DPTR
0040 FC              500             MOV     R4,A
0041 A3              501             INC     DPTR
0042 E0              502             MOVX    A,@DPTR
0043 FD              503             MOV     R5,A
0044 A3              504             INC     DPTR
0045 E0              505             MOVX    A,@DPTR
0046 FE              506             MOV     R6,A
0047 A3              507             INC     DPTR
0048 E0              508             MOVX    A,@DPTR
0049 FF              509             MOV     R7,A
                     510     ;       
                     511     ; }
                     512                             ; SOURCE LINE # 96
004A                 513     ?C0010:
004A 22              514             RET     
                     515     ; END OF _EE_read
                     516     
                     517     ; 
                     518     ; 
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE     9

                     519     ; 
                     520     ; 
                     521     ; 
                     522     ; 
                     523     ; /*
                     524     ;  * @fn                sin16
                     525     ;  *
                     526     ;  * @brief     sin16
                     527     ;  * 
                     528     ;  * @param     none
                     529     ;  * sin(x) , where x is 
                     530     ; 
                     531     ;  *
                     532     ;  * @return    none
                     533     ;  */
                     534     ; S16 sin(S16 dat)
                     535     
----                 536             RSEG  ?PR?_sin?MOTORLIB
0000                 537     _sin:
                     538             USING   0
                     539                             ; SOURCE LINE # 114
0000 8E00     F      540             MOV     dat?243,R6
0002 8F00     F      541             MOV     dat?243+01H,R7
                     542     ; {
                     543                             ; SOURCE LINE # 115
                     544     ; volatile signed int value;
                     545     ;       value= XWORD[dat];
                     546                             ; SOURCE LINE # 117
0004 E500     F      547             MOV     A,dat?243+01H
0006 25E0            548             ADD     A,ACC
0008 FF              549             MOV     R7,A
0009 E500     F      550             MOV     A,dat?243
000B 33              551             RLC     A
000C FE              552             MOV     R6,A
000D 8F82            553             MOV     DPL,R7
000F 8E83            554             MOV     DPH,R6
0011 E0              555             MOVX    A,@DPTR
0012 F500     F      556             MOV     value?244,A
0014 A3              557             INC     DPTR
0015 E0              558             MOVX    A,@DPTR
0016 F500     F      559             MOV     value?244+01H,A
                     560     ;       
                     561     ; return value;
                     562                             ; SOURCE LINE # 119
0018 AE00     F      563             MOV     R6,value?244
001A AF00     F      564             MOV     R7,value?244+01H
                     565     ;       
                     566     ; }
                     567                             ; SOURCE LINE # 121
001C                 568     ?C0011:
001C 22              569             RET     
                     570     ; END OF _sin
                     571     
                     572     ; 
                     573     ; 
                     574     ; 
                     575     ; S32 Normalize(S32 Data)
                     576     
----                 577             RSEG  ?PR?_Normalize?MOTORLIB
0000                 578     _Normalize:
                     579             USING   0
                     580                             ; SOURCE LINE # 125
0000 8F00     F      581             MOV     Data?345+03H,R7
0002 8E00     F      582             MOV     Data?345+02H,R6
0004 8D00     F      583             MOV     Data?345+01H,R5
0006 8C00     F      584             MOV     Data?345,R4
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE    10

                     585     ; {
                     586                             ; SOURCE LINE # 126
                     587     ;  Long_Data LD;
                     588     ;  LD.Ldata =Data;
                     589                             ; SOURCE LINE # 128
0008 AF00     F      590             MOV     R7,Data?345+03H
000A AE00     F      591             MOV     R6,Data?345+02H
000C AD00     F      592             MOV     R5,Data?345+01H
000E AC00     F      593             MOV     R4,Data?345
0010 8F00     F      594             MOV     LD?346+03H,R7
0012 8E00     F      595             MOV     LD?346+02H,R6
0014 8D00     F      596             MOV     LD?346+01H,R5
0016 8C00     F      597             MOV     LD?346,R4
                     598     ;  MD0 = LD.ss1.Byte0;
                     599                             ; SOURCE LINE # 129
0018 8500E9   F      600             MOV     MD0,LD?346+03H
                     601     ;  MD1 = LD.ss1.Byte1;
                     602                             ; SOURCE LINE # 130
001B 8500EA   F      603             MOV     MD1,LD?346+02H
                     604     ;  MD2 = LD.ss1.Byte2;
                     605                             ; SOURCE LINE # 131
001E 8500EB   F      606             MOV     MD2,LD?346+01H
                     607     ;  MD3 = LD.ss1.Byte3;
                     608                             ; SOURCE LINE # 132
0021 8500EC   F      609             MOV     MD3,LD?346
                     610     ;  ARCON = 0x00 ; // Start Normalizing
                     611                             ; SOURCE LINE # 133
0024 75EF00          612             MOV     ARCON,#00H
0027                 613     ?C0012:
                     614     ;  while(MD3_7==0 ); //check MDU finish flag
                     615                             ; SOURCE LINE # 134
0027 E5EC            616             MOV     A,MD3
0029 30E704          617             JNB     ACC.7,?C0014
002C 7F01            618             MOV     R7,#01H
002E 8002            619             SJMP    ?C0015
0030                 620     ?C0014:
0030 7F00            621             MOV     R7,#00H
0032                 622     ?C0015:
0032 EF              623             MOV     A,R7
0033 60F2            624             JZ      ?C0012
0035                 625     ?C0013:
                     626     ;       LD.ss1.Byte0=MD0;
                     627                             ; SOURCE LINE # 135
0035 85E900   F      628             MOV     LD?346+03H,MD0
                     629     ;       LD.ss1.Byte1=MD1;
                     630                             ; SOURCE LINE # 136
0038 85EA00   F      631             MOV     LD?346+02H,MD1
                     632     ;       LD.ss1.Byte2=MD2;
                     633                             ; SOURCE LINE # 137
003B 85EB00   F      634             MOV     LD?346+01H,MD2
                     635     ;       LD.ss1.Byte3=MD3;
                     636                             ; SOURCE LINE # 138
003E 85EC00   F      637             MOV     LD?346,MD3
                     638     ;  
                     639     ;        return LD.Ldata ;
                     640                             ; SOURCE LINE # 140
0041 AF00     F      641             MOV     R7,LD?346+03H
0043 AE00     F      642             MOV     R6,LD?346+02H
0045 AD00     F      643             MOV     R5,LD?346+01H
0047 AC00     F      644             MOV     R4,LD?346
                     645     ; }
                     646                             ; SOURCE LINE # 141
0049                 647     ?C0016:
0049 22              648             RET     
                     649     ; END OF _Normalize
                     650     
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE    11

                     651             END
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE    12
=======
  00AC                67     BSHI    DATA    0ACH
  00E5                68     P4CMPB  DATA    0E5H
  00A2                69     P1TBPRD_H       DATA    0A2H
  00C2                70     P2TBPRD_H       DATA    0C2H
  00D2                71     P3TBPRD_H       DATA    0D2H
  00E2                72     P4TBPRD_H       DATA    0E2H
  00A1                73     P1TBPRD_L       DATA    0A1H
  00C1                74     P2TBPRD_L       DATA    0C1H
  00BC                75     BSHO    DATA    0BCH
  00D1                76     P3TBPRD_L       DATA    0D1H
  00E1                77     P4TBPRD_L       DATA    0E1H
  0095                78     BREAKH  DATA    095H
  00BA                79     S0RELH  DATA    0BAH
  0080                80     P00     BIT     080H.0
  0099                81     SBUF    DATA    099H
  00BB                82     S1RELH  DATA    0BBH
  0090                83     P10     BIT     090H.0
  0087                84     PCON    DATA    087H
  0081                85     P01     BIT     080H.1
  00A0                86     P20     BIT     0A0H.0
  0091                87     P11     BIT     090H.1
  0082                88     P02     BIT     080H.2
  00B0                89     P30     BIT     0B0H.0
  00A1                90     P21     BIT     0A0H.1
  0092                91     P12     BIT     090H.2
  0083                92     P03     BIT     080H.3
  0094                93     BREAKL  DATA    094H
  00B1                94     P31     BIT     0B0H.1
  00AA                95     S0RELL  DATA    0AAH
  00A2                96     P22     BIT     0A0H.2
  0093                97     P13     BIT     090H.3
  0084                98     P04     BIT     080H.4
  00B2                99     P32     BIT     0B0H.2
  00A3               100     P23     BIT     0A0H.3
  009D               101     S1RELL  DATA    09DH
  0094               102     P14     BIT     090H.4
  0089               103     TMOD    DATA    089H
  0088               104     TCON    DATA    088H
  0085               105     P05     BIT     080H.5
  00B3               106     P33     BIT     0B0H.3
  00A4               107     P24     BIT     0A0H.4
  0095               108     P15     BIT     090H.5
  0086               109     P06     BIT     080H.6
  00B4               110     P34     BIT     0B0H.4
  00AC               111     BSHI_0  DATA    0ACH
  00A5               112     P25     BIT     0A0H.5
  0096               113     P16     BIT     090H.6
  0087               114     P07     BIT     080H.7
  00B5               115     P35     BIT     0B0H.5
  00AD               116     BSHI_1  DATA    0ADH
  00A6               117     P26     BIT     0A0H.6
  0097               118     P17     BIT     090H.7
  00B6               119     P36     BIT     0B0H.6
  00AE               120     BSHI_2  DATA    0AEH
  00A7               121     P27     BIT     0A0H.7
  00B7               122     P37     BIT     0B0H.7
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     3

  00AF               123     BSHI_3  DATA    0AFH
  00BC               124     BSHO_0  DATA    0BCH
  00BD               125     BSHO_1  DATA    0BDH
  0089               126     IE0     BIT     088H.1
  00BE               127     BSHO_2  DATA    0BEH
  008B               128     IE1     BIT     088H.3
  00BF               129     BSHO_3  DATA    0BFH
  00F0               130     B       DATA    0F0H
  00E9               131     MD0     DATA    0E9H
  00EA               132     MD1     DATA    0EAH
  00AB               133     BSHCTL  DATA    0ABH
  00EB               134     MD2     DATA    0EBH
  00BE               135     SWDT    BIT     0B8H.6
  00A7               136     P1AQSFRC        DATA    0A7H
  00EC               137     MD3     DATA    0ECH
  00C7               138     P2AQSFRC        DATA    0C7H
  00ED               139     MD4     DATA    0EDH
  00D7               140     P3AQSFRC        DATA    0D7H
  00EE               141     MD5     DATA    0EEH
  00E7               142     P4AQSFRC        DATA    0E7H
  00E0               143     ACC     DATA    0E0H
  00AC               144     ES0     BIT     0A8H.4
  00A9               145     IP0     DATA    0A9H
  00A9               146     ET0     BIT     0A8H.1
  0093               147     BPCTRL  DATA    093H
  00B9               148     IP1     DATA    0B9H
  00AB               149     ET1     BIT     0A8H.3
  008D               150     TF0     BIT     088H.5
  0098               151     RI0     BIT     098H.0
  008F               152     TF1     BIT     088H.7
  00A4               153     P1CMPA_H        DATA    0A4H
  008C               154     TH0     DATA    08CH
  00C4               155     P2CMPA_H        DATA    0C4H
  00A6               156     P1CMPB_H        DATA    0A6H
  00A8               157     EX0     BIT     0A8H.0
  0099               158     TI0     BIT     098H.1
  008D               159     TH1     DATA    08DH
  0088               160     IT0     BIT     088H.0
  00D4               161     P3CMPA_H        DATA    0D4H
  00C6               162     P2CMPB_H        DATA    0C6H
  00AA               163     EX1     BIT     0A8H.2
  008A               164     IT1     BIT     088H.2
  00E4               165     P4CMPA_H        DATA    0E4H
  00D6               166     P3CMPB_H        DATA    0D6H
  00B9               167     EX2     BIT     0B8H.1
  00E6               168     P4CMPB_H        DATA    0E6H
  00A3               169     P1CMPA_L        DATA    0A3H
  00BA               170     EX3     BIT     0B8H.2
  009F               171     SM0     BIT     098H.7
  0097               172     POWER_CON       DATA    097H
  008A               173     TL0     DATA    08AH
  00C3               174     P2CMPA_L        DATA    0C3H
  00A5               175     P1CMPB_L        DATA    0A5H
  00BB               176     EX4     BIT     0B8H.3
  009E               177     SM1     BIT     098H.6
  008B               178     TL1     DATA    08BH
  00D3               179     P3CMPA_L        DATA    0D3H
  00C5               180     P2CMPB_L        DATA    0C5H
  00BC               181     EX5     BIT     0B8H.4
  00AF               182     EAL     BIT     0A8H.7
  00E3               183     P4CMPA_L        DATA    0E3H
  00D5               184     P3CMPB_L        DATA    0D5H
  00BD               185     EX6     BIT     0B8H.5
  00E5               186     P4CMPB_L        DATA    0E5H
  0086               187     WDTREL  DATA    086H
  008C               188     TR0     BIT     088H.4
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     4

  008E               189     TR1     BIT     088H.6
  00F9               190     INT_REG1        DATA    0F9H
  0083               191     DPH     DATA    083H
  00FA               192     INT_REG2        DATA    0FAH
  00FD               193     INT_REG3        DATA    0FDH
  00FE               194     INT_REG4        DATA    0FEH
  0082               195     DPL     DATA    082H
  0099               196     S0BUF   DATA    099H
  009C               197     S1BUF   DATA    09CH
  0098               198     S0CON   DATA    098H
  009B               199     S1CON   DATA    09BH
  00C8               200     T2CON   DATA    0C8H
  0092               201     DPS     DATA    092H
  00AE               202     WDT     BIT     0A8H.6
  008E               203     CKCON   DATA    08EH
  00EF               204     ARCON   DATA    0EFH
  00B5               205     P1ETFLG DATA    0B5H
  00F8               206     SRAM_CON        DATA    0F8H
  00CD               207     P2ETFLG DATA    0CDH
  00DD               208     P3ETFLG DATA    0DDH
  00B7               209     P1ETFRC DATA    0B7H
  00F5               210     P4ETFLG DATA    0F5H
  00CF               211     P2ETFRC DATA    0CFH
  00E8               212     MEM_CONFIG      DATA    0E8H
  00DF               213     P3ETFRC DATA    0DFH
  00F7               214     P4ETFRC DATA    0F7H
  00D0               215     PSW     DATA    0D0H
  00D8               216     WDCON   DATA    0D8H
  00C0               217     IRCON   DATA    0C0H
  009A               218     RB80    BIT     098H.2
  00B6               219     P1ETCLR DATA    0B6H
                     220     ?PR?_EE_write?MOTORLIB                   SEGMENT CODE 
                     221     ?DT?_EE_write?MOTORLIB                   SEGMENT DATA 
                     222     ?PR?_EE_read?MOTORLIB                    SEGMENT CODE 
                     223     ?DT?_EE_read?MOTORLIB                    SEGMENT DATA 
                     224             EXTRN   CODE (?C?LSTXDATA)
                     225             PUBLIC  _EE_read
                     226             PUBLIC  ?_EE_write?BYTE
                     227             PUBLIC  _EE_write
                     228     
----                 229             RSEG  ?DT?_EE_read?MOTORLIB
0000                 230     ?_EE_read?BYTE:
0000                 231         EE_addr?142:   DS   1
                     232     
----                 233             RSEG  ?DT?_EE_write?MOTORLIB
0000                 234     ?_EE_write?BYTE:
0000                 235         EE_addr?040:   DS   1
0001                 236             ORG  1
0001                 237         EE_data?041:   DS   4
                     238     ; /*
                     239     ;  * lib.c
                     240     ;  *    Copy Right (c) of JE
                     241     ;  *  Created on: 
                     242     ;  *      18 Sep 2018
                     243     ;  *  Author: 
                     244     ;  *      Ken
                     245     ;  *  Last Modified: 
                     246     ;  *     
                     247     ;  *  Description: 
                     248     ;  *      lib for JE8MCU
                     249     ;  *  History:
                     250     ;  *      ver 0.1 created by ken on 12 August 2016 
                     251     ;  *
                     252     ;  *            Use math table for fuctions of 
                     253     ;  *                            sin, cos, inverse, sqrt, artan
                     254     ;  *                            Park transform and Clark transform
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     5

                     255     ;  *
                     256     ;  *
                     257     ;  */
                     258     ;  
                     259     ;  /***************************************************
                     260     ;  * Includes
                     261     ;  */
                     262     ; #include <stdio.h>
                     263     ; #include <intrins.h>   
                     264     ; #include <absacc.h>
                     265     ; #include "register.h"
                     266     ; #include "motorLib.h"
                     267     ; #include "IQmathLib.h"
                     268     ; 
                     269     ; 
                     270     ; 
                     271     ; 
                     272     ; 
                     273     ; /*
                     274     ;  * @fn                EE_write
                     275     ;  *
                     276     ;  * @brief write data to EEPROM , 64x32 bit
                     277     ;  * 
                     278     ;  * @param     none
                     279     ;  * EE_write(eeprom address, eeprom data)
                     280     ; 
                     281     ;  *
                     282     ;  * @return    none
                     283     ;  */
                     284     ; 
                     285     ; 
                     286     ; 
                     287     ;  void EE_write(U8  EE_addr, U32  EE_data)
                     288     
----                 289             RSEG  ?PR?_EE_write?MOTORLIB
0000                 290     _EE_write:
                     291             USING   0
                     292                             ; SOURCE LINE # 50
0000 8F00     F      293             MOV     EE_addr?040,R7
                     294     ; {
                     295                             ; SOURCE LINE # 51
0002                 296     ?C0001:
                     297     ;       
                     298     ;                       while (MTP_BUSY==1);
                     299                             ; SOURCE LINE # 53
0002 90E08E          300             MOV     DPTR,#0E08EH
0005 E0              301             MOVX    A,@DPTR
0006 FF              302             MOV     R7,A
0007 EF              303             MOV     A,R7
0008 C4              304             SWAP    A
0009 13              305             RRC     A
000A 13              306             RRC     A
000B 5403            307             ANL     A,#03H
000D FF              308             MOV     R7,A
000E EF              309             MOV     A,R7
000F 20E0F0          310             JB      ACC.0,?C0001
0012                 311     ?C0002:
                     312     ;                       MTPCON2=0x53;         //init MTP write mode
                     313                             ; SOURCE LINE # 54
0012 90E08F          314             MOV     DPTR,#0E08FH
0015 7453            315             MOV     A,#053H
0017 F0              316             MOVX    @DPTR,A
                     317     ;                       MTPSADD1=EE_addr;       // EEPROM address
                     318                             ; SOURCE LINE # 55
0018 90E091          319             MOV     DPTR,#0E091H
001B E500     F      320             MOV     A,EE_addr?040
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     6

001D F0              321             MOVX    @DPTR,A
                     322     ;                       MTPSADD2=0x00;
                     323                             ; SOURCE LINE # 56
001E 90E092          324             MOV     DPTR,#0E092H
0021 E4              325             CLR     A
0022 F0              326             MOVX    @DPTR,A
                     327     ;                       MTPDATA=EE_data;
                     328                             ; SOURCE LINE # 57
0023 AF00     F      329             MOV     R7,EE_data?041+03H
0025 AE00     F      330             MOV     R6,EE_data?041+02H
0027 AD00     F      331             MOV     R5,EE_data?041+01H
0029 AC00     F      332             MOV     R4,EE_data?041
002B 90E093          333             MOV     DPTR,#0E093H
002E 120000   F      334             LCALL   ?C?LSTXDATA
                     335     ;                       
                     336     ;                       MTPCON1=0x0b;                           //start 
                     337                             ; SOURCE LINE # 59
0031 90E08E          338             MOV     DPTR,#0E08EH
0034 740B            339             MOV     A,#0BH
0036 F0              340             MOVX    @DPTR,A
0037                 341     ?C0003:
                     342     ;                       
                     343     ;                       while (MTP_WRITE==0);
                     344                             ; SOURCE LINE # 61
0037 90E08E          345             MOV     DPTR,#0E08EH
003A E0              346             MOVX    A,@DPTR
003B FF              347             MOV     R7,A
003C EF              348             MOV     A,R7
003D C4              349             SWAP    A
003E 13              350             RRC     A
003F 5407            351             ANL     A,#07H
0041 FF              352             MOV     R7,A
0042 EF              353             MOV     A,R7
0043 30E0F1          354             JNB     ACC.0,?C0003
0046                 355     ?C0004:
                     356     ;                       MTPCON1=0x0;
                     357                             ; SOURCE LINE # 62
0046 90E08E          358             MOV     DPTR,#0E08EH
0049 E4              359             CLR     A
004A F0              360             MOVX    @DPTR,A
                     361     ;       
                     362     ; }
                     363                             ; SOURCE LINE # 64
004B                 364     ?C0005:
004B 22              365             RET     
                     366     ; END OF _EE_write
                     367     
                     368     ; 
                     369     ; /*
                     370     ;  * @fn                EE_read
                     371     ;  *
                     372     ;  * @brief read data from EEPROM , 64x32 bit
                     373     ;  * 
                     374     ;  * @param     none
                     375     ;  * EE_read(eeprom address)
                     376     ; 
                     377     ;  *
                     378     ;  * @return    eprom data
                     379     ;  */
                     380     ; 
                     381     ; U32 EE_read(U8 EE_addr)
                     382     
----                 383             RSEG  ?PR?_EE_read?MOTORLIB
0000                 384     _EE_read:
                     385             USING   0
                     386                             ; SOURCE LINE # 78
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     7

0000 8F00     F      387             MOV     EE_addr?142,R7
                     388     ; {
                     389                             ; SOURCE LINE # 79
0002                 390     ?C0006:
                     391     ;       
                     392     ;                       while (MTP_BUSY==1);
                     393                             ; SOURCE LINE # 81
0002 90E08E          394             MOV     DPTR,#0E08EH
0005 E0              395             MOVX    A,@DPTR
0006 FF              396             MOV     R7,A
0007 EF              397             MOV     A,R7
0008 C4              398             SWAP    A
0009 13              399             RRC     A
000A 13              400             RRC     A
000B 5403            401             ANL     A,#03H
000D FF              402             MOV     R7,A
000E EF              403             MOV     A,R7
000F 20E0F0          404             JB      ACC.0,?C0006
0012                 405     ?C0007:
                     406     ;                       MTPCON2=0x55;         //init MTP read mode
                     407                             ; SOURCE LINE # 82
0012 90E08F          408             MOV     DPTR,#0E08FH
0015 7455            409             MOV     A,#055H
0017 F0              410             MOVX    @DPTR,A
                     411     ;                       MTPSADD1=EE_addr;       //
                     412                             ; SOURCE LINE # 83
0018 90E091          413             MOV     DPTR,#0E091H
001B E500     F      414             MOV     A,EE_addr?142
001D F0              415             MOVX    @DPTR,A
                     416     ;                       MTPSADD2=0x00;
                     417                             ; SOURCE LINE # 84
001E 90E092          418             MOV     DPTR,#0E092H
0021 E4              419             CLR     A
0022 F0              420             MOVX    @DPTR,A
                     421     ;                       MTPCON1=0x07;                                   //start
                     422                             ; SOURCE LINE # 85
0023 90E08E          423             MOV     DPTR,#0E08EH
0026 7407            424             MOV     A,#07H
0028 F0              425             MOVX    @DPTR,A
0029                 426     ?C0008:
                     427     ;                       while (MTP_READ==0);
                     428                             ; SOURCE LINE # 86
0029 90E08E          429             MOV     DPTR,#0E08EH
002C E0              430             MOVX    A,@DPTR
002D FF              431             MOV     R7,A
002E EF              432             MOV     A,R7
002F C4              433             SWAP    A
0030 540F            434             ANL     A,#0FH
0032 FF              435             MOV     R7,A
0033 EF              436             MOV     A,R7
0034 30E0F2          437             JNB     ACC.0,?C0008
0037                 438     ?C0009:
                     439     ;                       MTPCON1=0x0;
                     440                             ; SOURCE LINE # 87
0037 90E08E          441             MOV     DPTR,#0E08EH
003A E4              442             CLR     A
003B F0              443             MOVX    @DPTR,A
                     444     ;                       return MTPDATA;
                     445                             ; SOURCE LINE # 88
003C 90E093          446             MOV     DPTR,#0E093H
003F E0              447             MOVX    A,@DPTR
0040 FC              448             MOV     R4,A
0041 A3              449             INC     DPTR
0042 E0              450             MOVX    A,@DPTR
0043 FD              451             MOV     R5,A
0044 A3              452             INC     DPTR
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     8

0045 E0              453             MOVX    A,@DPTR
0046 FE              454             MOV     R6,A
0047 A3              455             INC     DPTR
0048 E0              456             MOVX    A,@DPTR
0049 FF              457             MOV     R7,A
                     458     ;       
                     459     ; }
                     460                             ; SOURCE LINE # 90
004A                 461     ?C0010:
004A 22              462             RET     
                     463     ; END OF _EE_read
                     464     
                     465             END
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE     9
>>>>>>> cc0719c57398d22808f064b280f516faf895e0c6

SYMBOL TABLE LISTING
------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES

<<<<<<< HEAD
?C0001. . . . . . . . .  C ADDR   0002H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0002. . . . . . . . .  C ADDR   0012H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0003. . . . . . . . .  C ADDR   0037H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0004. . . . . . . . .  C ADDR   0046H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0005. . . . . . . . .  C ADDR   004BH   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0006. . . . . . . . .  C ADDR   0002H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0007. . . . . . . . .  C ADDR   0012H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0008. . . . . . . . .  C ADDR   0029H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0009. . . . . . . . .  C ADDR   0037H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0010. . . . . . . . .  C ADDR   004AH   R   SEG=?PR?_EE_READ?MOTORLIB
?C0011. . . . . . . . .  C ADDR   001CH   R   SEG=?PR?_SIN?MOTORLIB
?C0012. . . . . . . . .  C ADDR   0027H   R   SEG=?PR?_NORMALIZE?MOTORLIB
?C0013. . . . . . . . .  C ADDR   0035H   R   SEG=?PR?_NORMALIZE?MOTORLIB
?C0014. . . . . . . . .  C ADDR   0030H   R   SEG=?PR?_NORMALIZE?MOTORLIB
?C0015. . . . . . . . .  C ADDR   0032H   R   SEG=?PR?_NORMALIZE?MOTORLIB
?C0016. . . . . . . . .  C ADDR   0049H   R   SEG=?PR?_NORMALIZE?MOTORLIB
?C?LSTXDATA . . . . . .  C ADDR   -----       EXT
?C_INITSEG. . . . . . .  C SEG    000CH       REL=UNIT
?DT?MOTORLIB. . . . . .  D SEG    000AH       REL=UNIT
?DT?_EE_READ?MOTORLIB .  D SEG    0001H       REL=UNIT
?DT?_EE_WRITE?MOTORLIB.  D SEG    0005H       REL=UNIT
?DT?_NORMALIZE?MOTORLIB  D SEG    0008H       REL=UNIT
?DT?_SIN?MOTORLIB . . .  D SEG    0004H       REL=UNIT
?PR?_EE_READ?MOTORLIB .  C SEG    004BH       REL=UNIT
?PR?_EE_WRITE?MOTORLIB.  C SEG    004CH       REL=UNIT
?PR?_NORMALIZE?MOTORLIB  C SEG    004AH       REL=UNIT
?PR?_SIN?MOTORLIB . . .  C SEG    001DH       REL=UNIT
?XD?MOTORLIB. . . . . .  X SEG    0005H       REL=UNIT
?_EE_READ?BYTE. . . . .  D ADDR   0000H   R   SEG=?DT?_EE_READ?MOTORLIB
?_EE_WRITE?BYTE . . . .  D ADDR   0000H   R   SEG=?DT?_EE_WRITE?MOTORLIB
?_NORMALIZE?BYTE. . . .  D ADDR   0000H   R   SEG=?DT?_NORMALIZE?MOTORLIB
?_SIN?BYTE. . . . . . .  D ADDR   0000H   R   SEG=?DT?_SIN?MOTORLIB
ACC . . . . . . . . . .  D ADDR   00E0H   A   
ARCON . . . . . . . . .  D ADDR   00EFH   A   
B . . . . . . . . . . .  D ADDR   00F0H   A   
BPCTRL. . . . . . . . .  D ADDR   0093H   A   
BREAKH. . . . . . . . .  D ADDR   0095H   A   
BREAKL. . . . . . . . .  D ADDR   0094H   A   
BSHCTL. . . . . . . . .  D ADDR   00ABH   A   
BSHI_0. . . . . . . . .  D ADDR   00ACH   A   
BSHI_1. . . . . . . . .  D ADDR   00ADH   A   
BSHI_2. . . . . . . . .  D ADDR   00AEH   A   
BSHI_3. . . . . . . . .  D ADDR   00AFH   A   
BSHO_0. . . . . . . . .  D ADDR   00BCH   A   
BSHO_1. . . . . . . . .  D ADDR   00BDH   A   
BSHO_2. . . . . . . . .  D ADDR   00BEH   A   
BSHO_3. . . . . . . . .  D ADDR   00BFH   A   
CKCON . . . . . . . . .  D ADDR   008EH   A   
CLK_DIV . . . . . . . .  D ADDR   0091H   A   
CLK_PD_CON. . . . . . .  D ADDR   008FH   A   
DAT?243 . . . . . . . .  D ADDR   0000H   R   SEG=?DT?_SIN?MOTORLIB
DATA?345. . . . . . . .  D ADDR   0000H   R   SEG=?DT?_NORMALIZE?MOTORLIB
DPH . . . . . . . . . .  D ADDR   0083H   A   
DPH1. . . . . . . . . .  D ADDR   0085H   A   
DPL . . . . . . . . . .  D ADDR   0082H   A   
DPL1. . . . . . . . . .  D ADDR   0084H   A   
DPS . . . . . . . . . .  D ADDR   0092H   A   
EADC. . . . . . . . . .  B ADDR   00B8H.0 A   
EAL . . . . . . . . . .  B ADDR   00A8H.7 A   
EE_ADDR?040 . . . . . .  D ADDR   0000H   R   SEG=?DT?_EE_WRITE?MOTORLIB
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE    13

EE_ADDR?142 . . . . . .  D ADDR   0000H   R   SEG=?DT?_EE_READ?MOTORLIB
EE_DATA?041 . . . . . .  D ADDR   0001H   R   SEG=?DT?_EE_WRITE?MOTORLIB
ES. . . . . . . . . . .  B ADDR   00A8H.4 A   
ES0 . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0 . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . .  B ADDR   00A8H.3 A   
EX0 . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . .  B ADDR   00A8H.2 A   
EX2 . . . . . . . . . .  B ADDR   00B8H.1 A   
EX3 . . . . . . . . . .  B ADDR   00B8H.2 A   
EX4 . . . . . . . . . .  B ADDR   00B8H.3 A   
EX5 . . . . . . . . . .  B ADDR   00B8H.4 A   
EX6 . . . . . . . . . .  B ADDR   00B8H.5 A   
I2FR. . . . . . . . . .  B ADDR   00C8H.5 A   
I3FR. . . . . . . . . .  B ADDR   00C8H.6 A   
IADC. . . . . . . . . .  B ADDR   00C0H.0 A   
IE. . . . . . . . . . .  D ADDR   00A8H   A   
IE0 . . . . . . . . . .  B ADDR   0088H.1 A   
IE1 . . . . . . . . . .  B ADDR   0088H.3 A   
IEN0. . . . . . . . . .  D ADDR   00A8H   A   
IEN1. . . . . . . . . .  D ADDR   00B8H   A   
IEN2. . . . . . . . . .  D ADDR   009AH   A   
IEX2. . . . . . . . . .  B ADDR   00C0H.1 A   
IEX3. . . . . . . . . .  B ADDR   00C0H.2 A   
IEX4. . . . . . . . . .  B ADDR   00C0H.3 A   
IEX5. . . . . . . . . .  B ADDR   00C0H.4 A   
IEX6. . . . . . . . . .  B ADDR   00C0H.5 A   
INT_REG1. . . . . . . .  D ADDR   00F9H   A   
INT_REG2. . . . . . . .  D ADDR   00FAH   A   
INT_REG3. . . . . . . .  D ADDR   00FDH   A   
INT_REG4. . . . . . . .  D ADDR   00FEH   A   
IP0 . . . . . . . . . .  D ADDR   00A9H   A   
IP1 . . . . . . . . . .  D ADDR   00B9H   A   
IRCON . . . . . . . . .  D ADDR   00C0H   A   
IT0 . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . .  B ADDR   0088H.2 A   
LD?346. . . . . . . . .  D ADDR   0004H   R   SEG=?DT?_NORMALIZE?MOTORLIB
MD0 . . . . . . . . . .  D ADDR   00E9H   A   
MD1 . . . . . . . . . .  D ADDR   00EAH   A   
MD2 . . . . . . . . . .  D ADDR   00EBH   A   
MD3 . . . . . . . . . .  D ADDR   00ECH   A   
MD4 . . . . . . . . . .  D ADDR   00EDH   A   
MD5 . . . . . . . . . .  D ADDR   00EEH   A   
MEM_CONFIG. . . . . . .  D ADDR   00E8H   A   
MOTORLIB. . . . . . . .  N NUMB   -----       
P0. . . . . . . . . . .  D ADDR   0080H   A   
P00 . . . . . . . . . .  B ADDR   0080H.0 A   
P01 . . . . . . . . . .  B ADDR   0080H.1 A   
P02 . . . . . . . . . .  B ADDR   0080H.2 A   
P03 . . . . . . . . . .  B ADDR   0080H.3 A   
P04 . . . . . . . . . .  B ADDR   0080H.4 A   
P05 . . . . . . . . . .  B ADDR   0080H.5 A   
P06 . . . . . . . . . .  B ADDR   0080H.6 A   
P07 . . . . . . . . . .  B ADDR   0080H.7 A   
P1. . . . . . . . . . .  D ADDR   0090H   A   
P10 . . . . . . . . . .  B ADDR   0090H.0 A   
P11 . . . . . . . . . .  B ADDR   0090H.1 A   
P12 . . . . . . . . . .  B ADDR   0090H.2 A   
P13 . . . . . . . . . .  B ADDR   0090H.3 A   
P14 . . . . . . . . . .  B ADDR   0090H.4 A   
P15 . . . . . . . . . .  B ADDR   0090H.5 A   
P16 . . . . . . . . . .  B ADDR   0090H.6 A   
P17 . . . . . . . . . .  B ADDR   0090H.7 A   
P1AQCSFRC . . . . . . .  D ADDR   00B1H   A   
P1AQSFRC. . . . . . . .  D ADDR   00A7H   A   
P1CMPA. . . . . . . . .  D ADDR   00A3H   A   
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE    14

P1CMPA_H. . . . . . . .  D ADDR   00A4H   A   
P1CMPA_L. . . . . . . .  D ADDR   00A3H   A   
P1CMPB. . . . . . . . .  D ADDR   00A5H   A   
P1CMPB_H. . . . . . . .  D ADDR   00A6H   A   
P1CMPB_L. . . . . . . .  D ADDR   00A5H   A   
P1ETCLR . . . . . . . .  D ADDR   00B6H   A   
P1ETFLG . . . . . . . .  D ADDR   00B5H   A   
P1ETFRC . . . . . . . .  D ADDR   00B7H   A   
P1TBPRD . . . . . . . .  D ADDR   00A1H   A   
P1TBPRD_H . . . . . . .  D ADDR   00A2H   A   
P1TBPRD_L . . . . . . .  D ADDR   00A1H   A   
P1TZCLR . . . . . . . .  D ADDR   00B3H   A   
P1TZFLG . . . . . . . .  D ADDR   00B2H   A   
P1TZFRC . . . . . . . .  D ADDR   00B4H   A   
P2. . . . . . . . . . .  D ADDR   00A0H   A   
P20 . . . . . . . . . .  B ADDR   00A0H.0 A   
P21 . . . . . . . . . .  B ADDR   00A0H.1 A   
P22 . . . . . . . . . .  B ADDR   00A0H.2 A   
P23 . . . . . . . . . .  B ADDR   00A0H.3 A   
P24 . . . . . . . . . .  B ADDR   00A0H.4 A   
P25 . . . . . . . . . .  B ADDR   00A0H.5 A   
P26 . . . . . . . . . .  B ADDR   00A0H.6 A   
P27 . . . . . . . . . .  B ADDR   00A0H.7 A   
P2AQCSFRC . . . . . . .  D ADDR   00C9H   A   
P2AQSFRC. . . . . . . .  D ADDR   00C7H   A   
P2CMPA. . . . . . . . .  D ADDR   00C3H   A   
P2CMPA_H. . . . . . . .  D ADDR   00C4H   A   
P2CMPA_L. . . . . . . .  D ADDR   00C3H   A   
P2CMPB. . . . . . . . .  D ADDR   00C5H   A   
P2CMPB_H. . . . . . . .  D ADDR   00C6H   A   
P2CMPB_L. . . . . . . .  D ADDR   00C5H   A   
P2ETCLR . . . . . . . .  D ADDR   00CEH   A   
P2ETFLG . . . . . . . .  D ADDR   00CDH   A   
P2ETFRC . . . . . . . .  D ADDR   00CFH   A   
P2TBPRD . . . . . . . .  D ADDR   00C1H   A   
P2TBPRD_H . . . . . . .  D ADDR   00C2H   A   
P2TBPRD_L . . . . . . .  D ADDR   00C1H   A   
P2TZCLR . . . . . . . .  D ADDR   00CBH   A   
P2TZFLG . . . . . . . .  D ADDR   00CAH   A   
P2TZFRC . . . . . . . .  D ADDR   00CCH   A   
P3. . . . . . . . . . .  D ADDR   00B0H   A   
P30 . . . . . . . . . .  B ADDR   00B0H.0 A   
P31 . . . . . . . . . .  B ADDR   00B0H.1 A   
P32 . . . . . . . . . .  B ADDR   00B0H.2 A   
P33 . . . . . . . . . .  B ADDR   00B0H.3 A   
P34 . . . . . . . . . .  B ADDR   00B0H.4 A   
P35 . . . . . . . . . .  B ADDR   00B0H.5 A   
P36 . . . . . . . . . .  B ADDR   00B0H.6 A   
P37 . . . . . . . . . .  B ADDR   00B0H.7 A   
P3AQCSFRC . . . . . . .  D ADDR   00D9H   A   
P3AQSFRC. . . . . . . .  D ADDR   00D7H   A   
P3CMPA. . . . . . . . .  D ADDR   00D3H   A   
P3CMPA_H. . . . . . . .  D ADDR   00D4H   A   
P3CMPA_L. . . . . . . .  D ADDR   00D3H   A   
P3CMPB. . . . . . . . .  D ADDR   00D5H   A   
P3CMPB_H. . . . . . . .  D ADDR   00D6H   A   
P3CMPB_L. . . . . . . .  D ADDR   00D5H   A   
P3ETCLR . . . . . . . .  D ADDR   00DEH   A   
P3ETFLG . . . . . . . .  D ADDR   00DDH   A   
P3ETFRC . . . . . . . .  D ADDR   00DFH   A   
P3TBPRD . . . . . . . .  D ADDR   00D1H   A   
P3TBPRD_H . . . . . . .  D ADDR   00D2H   A   
P3TBPRD_L . . . . . . .  D ADDR   00D1H   A   
P3TZCLR . . . . . . . .  D ADDR   00DBH   A   
P3TZFLG . . . . . . . .  D ADDR   00DAH   A   
P3TZFRC . . . . . . . .  D ADDR   00DCH   A   
A51 MACRO ASSEMBLER  MOTORLIB                                                             11/11/2018 22:11:41 PAGE    15
=======
?C0001 . . . . . . . .  C ADDR   0002H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0002 . . . . . . . .  C ADDR   0012H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0003 . . . . . . . .  C ADDR   0037H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0004 . . . . . . . .  C ADDR   0046H   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0005 . . . . . . . .  C ADDR   004BH   R   SEG=?PR?_EE_WRITE?MOTORLIB
?C0006 . . . . . . . .  C ADDR   0002H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0007 . . . . . . . .  C ADDR   0012H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0008 . . . . . . . .  C ADDR   0029H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0009 . . . . . . . .  C ADDR   0037H   R   SEG=?PR?_EE_READ?MOTORLIB
?C0010 . . . . . . . .  C ADDR   004AH   R   SEG=?PR?_EE_READ?MOTORLIB
?C?LSTXDATA. . . . . .  C ADDR   -----       EXT
?DT?_EE_READ?MOTORLIB.  D SEG    0001H       REL=UNIT
?DT?_EE_WRITE?MOTORLIB  D SEG    0005H       REL=UNIT
?PR?_EE_READ?MOTORLIB.  C SEG    004BH       REL=UNIT
?PR?_EE_WRITE?MOTORLIB  C SEG    004CH       REL=UNIT
?_EE_READ?BYTE . . . .  D ADDR   0000H   R   SEG=?DT?_EE_READ?MOTORLIB
?_EE_WRITE?BYTE. . . .  D ADDR   0000H   R   SEG=?DT?_EE_WRITE?MOTORLIB
ACC. . . . . . . . . .  D ADDR   00E0H   A   
ARCON. . . . . . . . .  D ADDR   00EFH   A   
B. . . . . . . . . . .  D ADDR   00F0H   A   
BPCTRL . . . . . . . .  D ADDR   0093H   A   
BREAKH . . . . . . . .  D ADDR   0095H   A   
BREAKL . . . . . . . .  D ADDR   0094H   A   
BSHCTL . . . . . . . .  D ADDR   00ABH   A   
BSHI . . . . . . . . .  D ADDR   00ACH   A   
BSHI_0 . . . . . . . .  D ADDR   00ACH   A   
BSHI_1 . . . . . . . .  D ADDR   00ADH   A   
BSHI_2 . . . . . . . .  D ADDR   00AEH   A   
BSHI_3 . . . . . . . .  D ADDR   00AFH   A   
BSHO . . . . . . . . .  D ADDR   00BCH   A   
BSHO_0 . . . . . . . .  D ADDR   00BCH   A   
BSHO_1 . . . . . . . .  D ADDR   00BDH   A   
BSHO_2 . . . . . . . .  D ADDR   00BEH   A   
BSHO_3 . . . . . . . .  D ADDR   00BFH   A   
CKCON. . . . . . . . .  D ADDR   008EH   A   
CLK_DIV. . . . . . . .  D ADDR   0091H   A   
CLK_PD_CON . . . . . .  D ADDR   008FH   A   
DPH. . . . . . . . . .  D ADDR   0083H   A   
DPH1 . . . . . . . . .  D ADDR   0085H   A   
DPL. . . . . . . . . .  D ADDR   0082H   A   
DPL1 . . . . . . . . .  D ADDR   0084H   A   
DPS. . . . . . . . . .  D ADDR   0092H   A   
EADC . . . . . . . . .  B ADDR   00B8H.0 A   
EAL. . . . . . . . . .  B ADDR   00A8H.7 A   
EE_ADDR?040. . . . . .  D ADDR   0000H   R   SEG=?DT?_EE_WRITE?MOTORLIB
EE_ADDR?142. . . . . .  D ADDR   0000H   R   SEG=?DT?_EE_READ?MOTORLIB
EE_DATA?041. . . . . .  D ADDR   0001H   R   SEG=?DT?_EE_WRITE?MOTORLIB
ES . . . . . . . . . .  B ADDR   00A8H.4 A   
ES0. . . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . . . .  B ADDR   00A8H.3 A   
EX0. . . . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . . . .  B ADDR   00A8H.2 A   
EX2. . . . . . . . . .  B ADDR   00B8H.1 A   
EX3. . . . . . . . . .  B ADDR   00B8H.2 A   
EX4. . . . . . . . . .  B ADDR   00B8H.3 A   
EX5. . . . . . . . . .  B ADDR   00B8H.4 A   
EX6. . . . . . . . . .  B ADDR   00B8H.5 A   
I2FR . . . . . . . . .  B ADDR   00C8H.5 A   
I3FR . . . . . . . . .  B ADDR   00C8H.6 A   
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE    10

IADC . . . . . . . . .  B ADDR   00C0H.0 A   
IE . . . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . . . .  B ADDR   0088H.3 A   
IEN0 . . . . . . . . .  D ADDR   00A8H   A   
IEN1 . . . . . . . . .  D ADDR   00B8H   A   
IEN2 . . . . . . . . .  D ADDR   009AH   A   
IEX2 . . . . . . . . .  B ADDR   00C0H.1 A   
IEX3 . . . . . . . . .  B ADDR   00C0H.2 A   
IEX4 . . . . . . . . .  B ADDR   00C0H.3 A   
IEX5 . . . . . . . . .  B ADDR   00C0H.4 A   
IEX6 . . . . . . . . .  B ADDR   00C0H.5 A   
INT_REG1 . . . . . . .  D ADDR   00F9H   A   
INT_REG2 . . . . . . .  D ADDR   00FAH   A   
INT_REG3 . . . . . . .  D ADDR   00FDH   A   
INT_REG4 . . . . . . .  D ADDR   00FEH   A   
IP0. . . . . . . . . .  D ADDR   00A9H   A   
IP1. . . . . . . . . .  D ADDR   00B9H   A   
IRCON. . . . . . . . .  D ADDR   00C0H   A   
IT0. . . . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . . . .  B ADDR   0088H.2 A   
MD0. . . . . . . . . .  D ADDR   00E9H   A   
MD1. . . . . . . . . .  D ADDR   00EAH   A   
MD2. . . . . . . . . .  D ADDR   00EBH   A   
MD3. . . . . . . . . .  D ADDR   00ECH   A   
MD4. . . . . . . . . .  D ADDR   00EDH   A   
MD5. . . . . . . . . .  D ADDR   00EEH   A   
MEM_CONFIG . . . . . .  D ADDR   00E8H   A   
MOTORLIB . . . . . . .  N NUMB   -----       
P0 . . . . . . . . . .  D ADDR   0080H   A   
P00. . . . . . . . . .  B ADDR   0080H.0 A   
P01. . . . . . . . . .  B ADDR   0080H.1 A   
P02. . . . . . . . . .  B ADDR   0080H.2 A   
P03. . . . . . . . . .  B ADDR   0080H.3 A   
P04. . . . . . . . . .  B ADDR   0080H.4 A   
P05. . . . . . . . . .  B ADDR   0080H.5 A   
P06. . . . . . . . . .  B ADDR   0080H.6 A   
P07. . . . . . . . . .  B ADDR   0080H.7 A   
P1 . . . . . . . . . .  D ADDR   0090H   A   
P10. . . . . . . . . .  B ADDR   0090H.0 A   
P11. . . . . . . . . .  B ADDR   0090H.1 A   
P12. . . . . . . . . .  B ADDR   0090H.2 A   
P13. . . . . . . . . .  B ADDR   0090H.3 A   
P14. . . . . . . . . .  B ADDR   0090H.4 A   
P15. . . . . . . . . .  B ADDR   0090H.5 A   
P16. . . . . . . . . .  B ADDR   0090H.6 A   
P17. . . . . . . . . .  B ADDR   0090H.7 A   
P1AQCSFRC. . . . . . .  D ADDR   00B1H   A   
P1AQSFRC . . . . . . .  D ADDR   00A7H   A   
P1CMPA . . . . . . . .  D ADDR   00A3H   A   
P1CMPA_H . . . . . . .  D ADDR   00A4H   A   
P1CMPA_L . . . . . . .  D ADDR   00A3H   A   
P1CMPB . . . . . . . .  D ADDR   00A5H   A   
P1CMPB_H . . . . . . .  D ADDR   00A6H   A   
P1CMPB_L . . . . . . .  D ADDR   00A5H   A   
P1ETCLR. . . . . . . .  D ADDR   00B6H   A   
P1ETFLG. . . . . . . .  D ADDR   00B5H   A   
P1ETFRC. . . . . . . .  D ADDR   00B7H   A   
P1TBPRD. . . . . . . .  D ADDR   00A1H   A   
P1TBPRD_H. . . . . . .  D ADDR   00A2H   A   
P1TBPRD_L. . . . . . .  D ADDR   00A1H   A   
P1TZCLR. . . . . . . .  D ADDR   00B3H   A   
P1TZFLG. . . . . . . .  D ADDR   00B2H   A   
P1TZFRC. . . . . . . .  D ADDR   00B4H   A   
P2 . . . . . . . . . .  D ADDR   00A0H   A   
P20. . . . . . . . . .  B ADDR   00A0H.0 A   
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE    11

P21. . . . . . . . . .  B ADDR   00A0H.1 A   
P22. . . . . . . . . .  B ADDR   00A0H.2 A   
P23. . . . . . . . . .  B ADDR   00A0H.3 A   
P24. . . . . . . . . .  B ADDR   00A0H.4 A   
P25. . . . . . . . . .  B ADDR   00A0H.5 A   
P26. . . . . . . . . .  B ADDR   00A0H.6 A   
P27. . . . . . . . . .  B ADDR   00A0H.7 A   
P2AQCSFRC. . . . . . .  D ADDR   00C9H   A   
P2AQSFRC . . . . . . .  D ADDR   00C7H   A   
P2CMPA . . . . . . . .  D ADDR   00C3H   A   
P2CMPA_H . . . . . . .  D ADDR   00C4H   A   
P2CMPA_L . . . . . . .  D ADDR   00C3H   A   
P2CMPB . . . . . . . .  D ADDR   00C5H   A   
P2CMPB_H . . . . . . .  D ADDR   00C6H   A   
P2CMPB_L . . . . . . .  D ADDR   00C5H   A   
P2ETCLR. . . . . . . .  D ADDR   00CEH   A   
P2ETFLG. . . . . . . .  D ADDR   00CDH   A   
P2ETFRC. . . . . . . .  D ADDR   00CFH   A   
P2TBPRD. . . . . . . .  D ADDR   00C1H   A   
P2TBPRD_H. . . . . . .  D ADDR   00C2H   A   
P2TBPRD_L. . . . . . .  D ADDR   00C1H   A   
P2TZCLR. . . . . . . .  D ADDR   00CBH   A   
P2TZFLG. . . . . . . .  D ADDR   00CAH   A   
P2TZFRC. . . . . . . .  D ADDR   00CCH   A   
P3 . . . . . . . . . .  D ADDR   00B0H   A   
P30. . . . . . . . . .  B ADDR   00B0H.0 A   
P31. . . . . . . . . .  B ADDR   00B0H.1 A   
P32. . . . . . . . . .  B ADDR   00B0H.2 A   
P33. . . . . . . . . .  B ADDR   00B0H.3 A   
P34. . . . . . . . . .  B ADDR   00B0H.4 A   
P35. . . . . . . . . .  B ADDR   00B0H.5 A   
P36. . . . . . . . . .  B ADDR   00B0H.6 A   
P37. . . . . . . . . .  B ADDR   00B0H.7 A   
P3AQCSFRC. . . . . . .  D ADDR   00D9H   A   
P3AQSFRC . . . . . . .  D ADDR   00D7H   A   
P3CMPA . . . . . . . .  D ADDR   00D3H   A   
P3CMPA_H . . . . . . .  D ADDR   00D4H   A   
P3CMPA_L . . . . . . .  D ADDR   00D3H   A   
P3CMPB . . . . . . . .  D ADDR   00D5H   A   
P3CMPB_H . . . . . . .  D ADDR   00D6H   A   
P3CMPB_L . . . . . . .  D ADDR   00D5H   A   
P3ETCLR. . . . . . . .  D ADDR   00DEH   A   
P3ETFLG. . . . . . . .  D ADDR   00DDH   A   
P3ETFRC. . . . . . . .  D ADDR   00DFH   A   
P3TBPRD. . . . . . . .  D ADDR   00D1H   A   
P3TBPRD_H. . . . . . .  D ADDR   00D2H   A   
P3TBPRD_L. . . . . . .  D ADDR   00D1H   A   
P3TZCLR. . . . . . . .  D ADDR   00DBH   A   
P3TZFLG. . . . . . . .  D ADDR   00DAH   A   
P3TZFRC. . . . . . . .  D ADDR   00DCH   A   
P4AQCSFRC. . . . . . .  D ADDR   00F1H   A   
P4AQSFRC . . . . . . .  D ADDR   00E7H   A   
P4CMPA . . . . . . . .  D ADDR   00E3H   A   
P4CMPA_H . . . . . . .  D ADDR   00E4H   A   
P4CMPA_L . . . . . . .  D ADDR   00E3H   A   
P4CMPB . . . . . . . .  D ADDR   00E5H   A   
P4CMPB_H . . . . . . .  D ADDR   00E6H   A   
P4CMPB_L . . . . . . .  D ADDR   00E5H   A   
P4ETCLR. . . . . . . .  D ADDR   00F6H   A   
P4ETFLG. . . . . . . .  D ADDR   00F5H   A   
P4ETFRC. . . . . . . .  D ADDR   00F7H   A   
P4TBPRD. . . . . . . .  D ADDR   00E1H   A   
P4TBPRD_H. . . . . . .  D ADDR   00E2H   A   
P4TBPRD_L. . . . . . .  D ADDR   00E1H   A   
P4TZCLR. . . . . . . .  D ADDR   00F3H   A   
P4TZFLG. . . . . . . .  D ADDR   00F2H   A   
A51 MACRO ASSEMBLER  MOTORLIB                                                             02/14/2019 14:52:12 PAGE    12
>>>>>>> cc0719c57398d22808f064b280f516faf895e0c6

P4TZFRC. . . . . . . .  D ADDR   00F4H   A   
PCON . . . . . . . . .  D ADDR   0087H   A   
POWER_CON. . . . . . .  D ADDR   0097H   A   
PSW. . . . . . . . . .  D ADDR   00D0H   A   
RB80 . . . . . . . . .  B ADDR   0098H.2 A   
REN0 . . . . . . . . .  B ADDR   0098H.4 A   
RI . . . . . . . . . .  B ADDR   0098H.0 A   
RI0. . . . . . . . . .  B ADDR   0098H.0 A   
S0BUF. . . . . . . . .  D ADDR   0099H   A   
S0CON. . . . . . . . .  D ADDR   0098H   A   
S0RELH . . . . . . . .  D ADDR   00BAH   A   
S0RELL . . . . . . . .  D ADDR   00AAH   A   
S1BUF. . . . . . . . .  D ADDR   009CH   A   
S1CON. . . . . . . . .  D ADDR   009BH   A   
S1RELH . . . . . . . .  D ADDR   00BBH   A   
S1RELL . . . . . . . .  D ADDR   009DH   A   
SBUF . . . . . . . . .  D ADDR   0099H   A   
SM0. . . . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . . . .  B ADDR   0098H.6 A   
SM20 . . . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . . . .  D ADDR   0081H   A   
SRAM_CON . . . . . . .  D ADDR   00F8H   A   
SWDT . . . . . . . . .  B ADDR   00B8H.6 A   
T2CON. . . . . . . . .  D ADDR   00C8H   A   
TB80 . . . . . . . . .  B ADDR   0098H.3 A   
TCON . . . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . . . .  B ADDR   0088H.7 A   
TH0. . . . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . . . .  D ADDR   008DH   A   
TI0. . . . . . . . . .  B ADDR   0098H.1 A   
TL0. . . . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . . . .  B ADDR   0088H.6 A   
WDCON. . . . . . . . .  D ADDR   00D8H   A   
WDCON_7. . . . . . . .  B ADDR   00D8H.7 A   
WDT. . . . . . . . . .  B ADDR   00A8H.6 A   
WDTREL . . . . . . . .  D ADDR   0086H   A   
_EE_READ . . . . . . .  C ADDR   0000H   R   SEG=?PR?_EE_READ?MOTORLIB
_EE_WRITE. . . . . . .  C ADDR   0000H   R   SEG=?PR?_EE_WRITE?MOTORLIB


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
